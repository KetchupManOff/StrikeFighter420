; これはカンフーマンのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

; これはKFMの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
life = 1000
  ;攻撃力（これ以上に設定すると強くなる）
attack = 100
  ;防御力（これ以上に設定すると強くなる）
defence = 100
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 64
  IntPersistIndex = 0;この数字以降はラウンド引き継ぎ可能
FloatPersistIndex = 38;この数字以降はラウンド引き継ぎ可能

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 8    ;キャラの幅(後方,地上)
ground.front = 8   ;キャラの幅(前方,地上)
air.back = 8      ;キャラの幅(後方,空中)
air.front = 8       ;キャラの幅(前方,空中)
height = 85          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -21, -70  ;頭の大体の座標
mid.pos = -16, -43   ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.8    ;前進の速度
walk.back = -2.5    ;後退の速度
run.fwd  = 5.5,0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -7,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-11;-9.8  ;垂直ジャンプの速度
jump.back = -2.4;-2.6    ;後ジャンプの速度
jump.fwd = 2.4;2.9      ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .52;.52       ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 175
velset = 0,0

[State 180, 1];ドローの場合171に飛ぶ
type = ChangeState
trigger1 = drawgame
trigger1 = time=1
value = 171

[State 170]
type = AssertSpecial
trigger1 = Time < 250
flag = roundnotover

;トリガーを何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-----------------------------------------
;-----------------------------------------------
; 171:Lose(ドローゲーム) 
[Statedef 171]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 171, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 勝った動作選択
[Statedef 180]
type = S

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time < 400;250
trigger1 = numhelper(30000)
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1,4


[State 180, 201];礼　ありがとさん
type = ChangeState
trigger1 = Time >= 1
trigger1 = matchover=0 
value = 181

[State 180, 301];寝る　へぇぇ
type = ChangeState
trigger1 = time >= 1
trigger1 = var(1) = 1
trigger1 = matchover=1
value = 182

[State 180, 401];魂抜ける　へぇ〜へぇぇぇ！
type = ChangeState
trigger1 = time >= 1
trigger1 = var(1) = 2
trigger1 = matchover=1
value = 183

[State 180, 501];まだまだ現役じゃ
type = ChangeState
trigger1 = Time>= 1
trigger1 = var(1) = 3
trigger1 = matchover=1
value = 184

[State 180, 601];まだまだ現役じゃ　つっこみ有り
type = ChangeState
trigger1 = Time >= 1
trigger1 = var(1) = 4
trigger1 = matchover=1
value = 185
;---------------------------------------------------------
;---------------------------------------------------------
; 勝った動作１礼　ありがとさん
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time < 250
flag = roundnotover

[State 182, PlaySND];ありがとさん
type = PlaySND
trigger1 = AnimElem = 1
value = 180,1
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;----------------------------------------------------
; 182:勝利ポーズ2 寝る　へぇぇ
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time < 250
flag = roundnotover

[State 182, PlaySND];へぇぇ
type = PlaySND
trigger1 = AnimElem = 1
value = 180,2
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;----------------------------------------------------
;----------------------------------------------------
; 183:勝利ポーズ3魂抜ける　へぇ〜へぇぇぇ！
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time < 300
flag = roundnotover

[State 182, PlaySND];へぇ〜
type = PlaySND
trigger1 = AnimElem = 1
value = 180,2
channel = 0

[State 182, PlaySND];へぇぇぇぇ！
type = PlaySND
trigger1 = AnimElem = 7
value = 180,3
channel = 0


[State 1000, 0];エフェクト
type = Explod
trigger1 = animelem=5,=5
anim = 188
ID = 188
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------
;---------------------------------------------------
; 勝った動作4;まだまだ現役じゃ
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time < 300
flag = roundnotover

[State 182, PlaySND];まだまだ現役じゃ
type = PlaySND
trigger1 = AnimElem = 1
value = 180,4
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
;--------------------------------------------------------------
;勝った動作5;まだまだ現役じゃ　つっこみ有り
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 180,AssertSpecial]
type = AssertSpecial
trigger1 = Time <300
flag = roundnotover

[State 182, PlaySND];まだまだ現役じゃ
type = PlaySND
trigger1 = AnimElem = 1
value = 180,4
channel = 0

[State 182, PlaySND];無理しな
type = PlaySND
trigger1 = AnimElem = 22
value = 180,5
channel = -1


[State 1000, 0];エフェクト
type = Explod
trigger1 = animelem=13,=0
anim = 189
ID = 189
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; イントロ選択
[Statedef 190]
type = S
ctrl = 0
velset = 0,0



;VSテリー,アンディ、チン
[State 191, 30] 
type = ChangeState
triggerall = Time = 0
trigger1 =  p2name = "Terry Bogard" || p4name ="Terry Bogard"
trigger2 =  p2name = "Terry" || p4name ="Terry"
trigger3 =  p2name = "Terry_Bogard" || p4name ="Terry_Bogard"
trigger4 =  p2name = "cvsTerry" || p4name ="cvsTerry"
trigger5 =  p2name = "cvs_Terry" || p4name ="cvs_Terry"
trigger6 =  p2name = "cvsx_Terry" || p4name ="cvsx_Terry"
trigger7 =  p2name = "cvsxTerry" || p4name ="cvsxTerry"
trigger8 =  p2name = "餓狼SPテリー" || p4name ="餓狼SPテリー"
trigger9 =  p2name = "Terry_FF3RB" || p4name ="Terry_FF3RB"
trigger10 = p2name = "Terry Bogard MvC" || p4name ="Terry Bogard MvC"
trigger11 = p2name = "cheng Sinzan" || p4name = "cheng Sinzan"
trigger12 = p2name = "cheng" || p4name = "cheng"
trigger13 = p2name = "Andy Bogard" || p4name = "Andy Bogard"
trigger14 = p2name = "Andy" || p4name = "Andy"
trigger15 = p2name = "Andy_Bogard" || p4name = "Andy_Bogard"
trigger16 = p2name = "Shadow Andy" || p4name = "Shadow Andy"
trigger17 = p2name = "Kenkagei Andy " || p4name = "Kenkagei Andy "
trigger18 = p2name = "Andy_FF3RB" || p4name = "Andy_FF3RB"
trigger19 = p2name = "AndyXIII" || p4name = "AndyXIII"
value = 193


[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1,2

[State 180, 1];雀イントロ
type = ChangeState
trigger1 = Time = 0
trigger1 = var(1) = 1
value = 191

[State 180, 1];乾布摩擦ほっほっほ
type = ChangeState
trigger1 = Time = 0
trigger1 = var(1) = 2
value = 192
;-------------------------------------------------------------------
;-------------------------------------------------------------------
; イントロ1雀イントロ
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191]
type = Helper
triggerall = !var(20)
trigger1 = Time = 1
trigger1 = numhelper(9100) = 0
id = 9100
name = "line"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 9100
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1
ontop = 1

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, PlaySND]
type = null;PlaySND
trigger1 = AnimElem = 24
value = 190,0
channel = 0

[State 193, 3];左下雀
type = Helper
trigger1 = time  = 0
trigger1 = numhelper(30001)=0
id=30001
pos = -32,16
stateno = 30001

[State 193, 3];右下雀
type = Helper
trigger1 = time  = 0
trigger1 = numhelper(30002)=0
id=30002
pos = 31,12
stateno = 30002

[State 193, 3];タンの上雀
type = Helper
trigger1 = time  = 0
trigger1 = numhelper(30003)=0
id=30003
pos = -4,-21
stateno = 30003

[State 191, 4] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------
;---------------------------------------------------
;6020 右下 6021タンの上 6022 左下
; イントロ雀左下
[Statedef 30001]
type = S
ctrl = 0
anim = 6022
sprpriority = 3

[State 900, 1] 
type = ChangeState
trigger1 = animtime=0
value = 30004
;---------------------------------
;イントロ雀右下
[Statedef 30002]
type = S
ctrl = 0
anim = 6020
sprpriority = 3

[State 901, 1] 
type = ChangeState
trigger1 = animtime=0
value = 30005
;---------------------------------
;イントロ雀タンの上
[Statedef 30003]
type = S
ctrl = 0
anim = 6021
sprpriority = 3

[State 902, 1] 
type = ChangeState
trigger1 = animtime=0
value = 30006
;-------------------------------------------
;雀飛び去り左下 6023, 飛び去り右２羽 6024
; 左下雀飛び去り
[Statedef 30004]
type = A
ctrl = 0
anim = 6023
sprpriority = 5

[State 903, 1] 
type = velset
trigger1 = 1
y = -4.8

[State 903, 2] 
type = veladd
trigger1 = time >= 0 && time < 22
x = -.08

[State 903, 3] 
type = veladd
trigger1 = time >= 22
x = -.2

[State 903, 4]
type = DestroySelf
trigger1 = parent,stateno != 191
;-----------------------------------
; 右下雀飛び去り
[Statedef 30005]
type = A
ctrl = 0
anim = 6024
sprpriority = 5

[State 904, 1] 
type = velset
trigger1 = 1
y = -4.8

[State 904, 2] 
type = veladd
trigger1 = time >= 0 && time < 22
x = .1

[State 904, 3] 
type = veladd
trigger1 = time >= 22
x = .2

[State 904, 4]
type = DestroySelf
trigger1 = parent,stateno != 191
;-----------------------------------
; タンの上雀飛び去り
[Statedef 30006]
type = A
ctrl = 0
anim = 6024
sprpriority = 5

[State 905, 1] 
type = velset
trigger1 = 1
y = -4.8

[State 905, 2] 
type = veladd
trigger1 = time >= 0 && time < 22
x = .05

[State 905, 3] 
type = veladd
trigger1 = time >= 22
x = .1

[State 905, 4]
type = DestroySelf
trigger1 = parent,stateno != 191

;---------------------------------------------------------------------------
;---------------------------------------------------
;---------------------------------------------------
; イントロ2乾布摩擦ほっほっほ
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 191]
type = Helper
triggerall = !var(20)
trigger1 = Time = 1
trigger1 = numhelper(9100) = 0
id = 9100
name = "line"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 9100
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1
ontop = 1

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190]
type = Posset
trigger1 = animtime=0
y=0

[State 190, PlaySND]
type = PlaySND
trigger1 = AnimElem = 32
value = 180,0
channel = 0

[State 191, 4] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------
;---------------------------------
; 193:対テリーアンディチン
[Statedef 193]
type = S
physics = S
ctrl = 0
anim = 193
velset = 0,0

[State 191]
type = Helper
triggerall = !var(20)
trigger1 = Time = 1
trigger1 = numhelper(9100) = 0
id = 9100
name = "line"
sprpriority = 4
pos = 0,0
postype = p1
stateno = 9100
helpertype = normal
pausemovetime = 0
keyctrl = 1 
ownpal = 1
ontop = 1


[State 191, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro



[State 191, ChangeState]
type = ChangeState
trigger1 = animtime=0
value = 0
;---------------------------------------------
;---------------------------------------------
;---------------------------------------------
;---------------------------------------------
;---------------------------------------------
;---------------------------------------------
;---------------------------------------------
;挑発1 挑発ＳＰ 始動
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 1210, 1]
type = stopsnd
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holddown"
trigger4 = command = "holdup"
channel = 0

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1

;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = command="挑発連打"
v=17
value=1

;--------------------------------------------
[State 195, 2];ゲージ溜め挑発への派生
type = ChangeState
trigger1 = time>=1
trigger1 = var(17)=1
value = 198
ctrl = 0


[State 195, 2];ＲＢ２挑発２段目への派生
type = ChangeState
trigger1 = time>=1
trigger1 = command = "zc"
value = 196
ctrl = 0

[State 195, 1]
type = CtrlSet
trigger1 = time >= 4
trigger1 = command="holdfwd" || command="holdback" || command="holddown" || command="holdup"
value = 1


[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------
;-------------------------------------------------
;挑発2 派生
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "zc"
value = 197
ctrl = 0

[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "b"
value = 1800
ctrl = 0

[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "c"
value = 1700
ctrl = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------
;-------------------------------------------------
;挑発3 派生
[Statedef 197]
type = S
ctrl = 0
anim = 197
velset = 0,0
movetype = I
physics = S
sprpriority = 2

;--------------------------音
[State 210];あぁ
type = PlaySnd
trigger1 = Time = 18
value = 5000, 3
channel = 0

[State 210];ダウン音
type = PlaySnd
trigger1 = animelem=5,=0
value = 5100, 1
channel = -1
;------------------------------
;-----------------------------
[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "zc"
value = 195
ctrl = 0

[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "b"
value = 1800
ctrl = 0

[State 195, 2]
type = ChangeState
trigger1 = time>=1
trigger1 = command = "c"
value = 1700
ctrl = 0


[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------
;-------------------------------------------------
;ゲージ溜め挑発始動
[Statedef 198]
type = S
ctrl = 0
anim = 198
velset = 0,0
movetype = I
physics = S
sprpriority = 2

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1


[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1980
ctrl = 0
;-------------------------------------------------------
;-------------------------------------------------------
;ゲージ溜め挑発 速さ１　ゲージ３００
[Statedef 1980]
type = S
ctrl = 0
anim = 1980
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd=300

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1

;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = command="挑発連打"
v=17
value=1
;---------------------------------
[State 195, 2];速さ２へ派生
type = ChangeState
trigger1 = var(17)=1
trigger1 = time>=96
value = 1981
ctrl = 0

[State 195, 2];終了へ
type = ChangeState
trigger1 = AnimTime = 0
value = 1984
ctrl = 0
;-------------------------------------------------------
;-------------------------------------------------------
;ゲージ溜め挑発 速さ2　ゲージ450
[Statedef 1981]
type = S
ctrl = 0
anim = 1981
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd=450

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1

;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = command="挑発連打"
v=17
value=1
;---------------------------------
[State 195, 2];速さ３へ派生
type = ChangeState
trigger1 = var(17)=1
trigger1 = time>=121
value = 1982
ctrl = 0

[State 195, 2];終了へ
type = ChangeState
trigger1 = AnimTime = 0
value = 1984
ctrl = 0
;-------------------------------------------------------
;-------------------------------------------------------
;ゲージ溜め挑発 速さ3　ゲージ750
[Statedef 1982]
type = S
ctrl = 0
anim = 1982
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd=750

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1


[State 195, 2];終了へ
type = ChangeState
trigger1 = AnimTime = 0
value = 1984
ctrl = 0
;---------------------------------------------------------
----------------------------------------------------------
;ゲージ溜め挑発終了
[Statedef 1984]
type = S
ctrl = 0
anim = 1984
velset = 0,0
movetype = I
physics = S
sprpriority = 2

;-------------------------------var
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = time=0
v=17
value=0
ignorehitpause=1


[State 195, 2];
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------
;---------------------------------------------------------
;---------------------------------------------------------------------------
;var(16) 追い撃ち可否判定
;var(30) 攻撃食らい時のランダムボイス

;---------------------------------------------------------------------------
;近立ちA
[Statedef 200]
type    = S                      
movetype = A                      
physics = S   
juggle = 7
ctrl = 0
anim = 200
sprpriority = 1

[State 200]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
trigger1 = time=0
x = 0;1


[State 200, 1]
type = HitDef
ID=200
trigger1 = AnimElem = 3 && !var(16)
attr = S, NA 
damage = ceil((32*fvar(2))*fvar(3)), 0
animtype = Light
guardflag = M
hitflag = MA
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -15, -55
hitsound   = S2, 0    
getpower = 150,50
givepower = 0,50
guardsound = S3, 0 
ground.type = High
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 14
guard.ctrltime = 10
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.6;-5
air.type = High 
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-7.3
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-7.3
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(200)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.2;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0


[State 200, 4]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=3,=1
value = 1, 5

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------
;-------------------------------------------------------
;遠立ちA
[Statedef 201]
type    = S                      
movetype = A                      
physics = S     
juggle = 7
ctrl = 0 
anim = 201
sprpriority = 1

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
trigger1 = animelem=1,>=0 && animelem=5,<3 
trigger1 = fvar(14)=0
x=2

[State 201]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA

[State 201]
type = HitDef
ID=201
trigger1 = AnimElem = 3 && !var(16)
attr = S, NA 
damage = ceil((32*fvar(2))*fvar(3)), 0
animtype = Light
guardflag = M
hitflag = MA
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -55
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High 
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 14
guard.ctrltime = 10
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.1
air.type = High 
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-7.3
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-7.3
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(201)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
trigger1 = prevstateno != 100 && prevstateno !=101
fv=14
value=-3.35;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 201, 4]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=3,=1
value = 1, 5

[State 201, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------
;-------------------------------------------------------
;近立ちB
[Statedef 205]
type    = S
movetype = A
physics = S
juggle = 5
ctrl = 0
anim = 205
sprpriority = 1

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
x=0

[State 205]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 205, 2]
type = HitDef
ID=205
trigger1 = AnimElem = 2 && !var(16)
attr = S, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
animtype  = Medium
hitflag = MA
guardflag = M
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -15, -50
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 15
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.6
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-6
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-6
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(205)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2.85;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 205]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=2,=1
value = 1, 6

[State 205, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠立ちB
[Statedef 206]
type    = S
movetype = A
physics = S
juggle = 5
ctrl = 0
anim = 206
sprpriority = 1

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
x=0

[State 206]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 205, 2]
type = HitDef
ID=206
trigger1 = AnimElem = 4 && !var(16)
attr = S, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
animtype  = Medium
hitflag = MA
guardflag = M
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -15, -40
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 14
guard.ctrltime = 10
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.7
air.velocity = -2,-5.5
ground.cornerpush.veloff =0; -6
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-6
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(206)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2.9;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 205]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=4,=1
value = 1, 6


[State 206, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 近立ちC
[Statedef 210]
type    = S
movetype = A
physics = S
juggle = 7
ctrl = 0
anim = 210
sprpriority = -1
velset=0,0

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
trigger1 = time=0
x=0

[State 210]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 210]
type = sprpriority
trigger1 = animelem=7,=0
value =1

[State 210, 2]
type = HitDef
ID=210
trigger1 = AnimElem = 5 && !var(16)
attr = S, NA
damage = ceil((57*fvar(4))*fvar(6)), 0
animtype  =  Hard
hitflag = MA
guardflag = M
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -17, -45
hitsound = S2, 9
guardsound = S3, 1
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8.1
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-11
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-11
p2facing=1
forcestand=1
sprpriority = -1
yaccel=.43

[State 210, 2]
type = HitDef
ID=212
trigger1 = AnimElem = 6 && !var(16)
attr = S, NA
damage = ceil((57*fvar(4))*fvar(6)), 0
animtype  =  Hard
hitflag = MA
guardflag = M
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -50
hitsound = S2, 9
guardsound = S3, 1
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-10
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-11
p2facing=1
sprpriority = -1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(210)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.15;-1.8
ignorehitpause=1
persistent=0
;---------------------------------
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(212)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.1;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 6
channel = 0

[State 210]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=6,=1
value = 1, 42



[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠立ちC
[Statedef 211]
type    = S
movetype = A
physics = S
juggle = 7
ctrl = 0
anim = 211
sprpriority = 2
velset=0,0

[State 200]
type = velset
trigger1 = prevstateno = 100 || prevstateno=101
trigger1 = time=0
x=0

[State 211]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

;------------------------------気エフェクト
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=3,=0
anim = 370
ID = 370
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=4,=0
anim = 371
ID = 371
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 372
ID = 372
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=6,=0
anim = 373
ID = 373
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=6,>=1 && animelem=7,<1
anim = 374
ID = 374
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=7,>=1 && animelem=8,<2
anim = 375
ID = 375
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=8,>=2 && animelem=9,<2
anim = 376
ID = 376
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=9,>=2 && animelem=10,<1
anim = 377
ID = 377
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

;------------------------------------------------

[State 211, 2]
type = HitDef
ID=211
triggerall= movecontact=0
trigger1 = AnimElem = 6 && !var(16)
trigger2 = AnimElem = 7 && !var(16)
trigger3 = AnimElem = 8 && !var(16)
attr = S, NA
damage = ceil((109*fvar(4))*fvar(6)), 0
animtype  = Hard
hitflag = MA
guardflag = M
pausetime = 16,16
guard.pausetime = 15,15
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -45
hitsound   = S2,9
getpower = 250,100
givepower = 0,50
guardsound = S3, 1
ground.type = high
ground.slidetime = 26
guard.slidetime = 20
ground.hittime  = 26
guard.ctrltime = 20
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8.1
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-12
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-12
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(211)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.35;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 6
channel = 0

[State 211]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=7,=1
value = 1, 42

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------
;屈みA
[Statedef 400]
type    = C
movetype = A
physics = C
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = HitDef
ID=400
trigger1 =  AnimElem = 2 && !var(16)
attr = C, NA
damage = ceil((32*fvar(2))*fvar(3)), 0
animtype  = Light
hitflag = MA
guardflag = M
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -45
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 14
guard.ctrltime = 10
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.6
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(400)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2.8;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 400, 4]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=2,=1
value = 1, 5

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1

;---------------------------------------------------------------------------
;屈みB
[Statedef 410]
type    = C
movetype = A
physics = C
ctrl = 0
anim = 410
sprpriority = 2


[State 410, 2]
type = HitDef
ID=410
trigger1 =  AnimElem = 4 && !var(16)
attr = C, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
animtype  = Medium
hitflag = MA
guardflag = L
pausetime = 8,8
guard.pausetime = 7,7
sparkno = S7000
guard.sparkno = S8000
sparkxy = -15, -5
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 14
guard.ctrltime = 10
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.6
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(410)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2.8;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 410, 5]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=4,=1
value = 1, 6

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 410, 6]
type = ChangeState
trigger1 =  AnimTime = 0
value = 10
ctrl = 1

;---------------------------------------------------------------------------
;屈みC
[Statedef 420]
type    = C
movetype = A
physics = C
ctrl = 0
anim = 420
sprpriority = 2
juggle=5

;-----------------------気エフェクト 7=5,8=2,9=3,10=5
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=7,>=0 && animelem=7,<2
anim = 490
ID = 490
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=7,>=2 && animelem=8,<0
anim = 491
ID = 491
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=8,>=0 && animelem=8,<2
anim = 492
ID = 492
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=8,>=2 && animelem=9,<3
anim = 493
ID = 493
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=9,>=3 && animelem=10,<3
anim = 494
ID = 494
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
;------------------------------
[State 420, 1]
type = HitDef
ID=420
trigger1 =  AnimElem = 7 && !var(16)
attr = C, NA
animtype=up
damage = ceil((109*fvar(4))*fvar(6)), 0
hitflag = MA
guardflag = L
pausetime = 14,14
guard.pausetime = 10,10
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -15
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = trip
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 25
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.6,-4.7
air.velocity = -1.6,-4.7
guard.velocity = -8.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(420)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.7;-1.8
ignorehitpause=1
persistent=0
;---------------------------------
;------------------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 6
channel = 0

[State 420, 4]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=7,=1
value = 1, 42

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1
;---------------------------------------------------------------
;---------------------------------------------------------------
;垂直空中A
[Statedef 600]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 600
sprpriority = 2
juggle=5;15


[State 600, 2]
type = HitDef
ID=600
trigger1 = movecontact=0
trigger1 = time = 0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((31*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -20
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=2,=1
trigger1 = movecontact=0
value = 1, 5

;---------------------------------------------------------------------------
;垂直小ジャンプA
[Statedef 601]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 601
sprpriority = 2
juggle=5;15

[State 601, 5]
type = HitDef
ID=601
trigger1 = time=0 && !var(16)
trigger1 = movecontact=0
animtype  = Medium
attr = A, NA
damage = ceil((31*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -20
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=2,=1
trigger1 = movecontact=0
value = 1, 5
;---------------------------------------------------------------------------
;斜め空中A
[Statedef 602]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 602
sprpriority = 2
juggle=5;15


[State 600, 2]
type = HitDef
ID=602
trigger1 = movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((31*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -20
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0
[State 610, 4]
type = PlaySnd
trigger1 = animelem=2,=1
trigger1 = movecontact=0
value = 1, 5

;---------------------------------------------------------------------------
;斜め小ジャンプ空中A
[Statedef 603]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 603
sprpriority = 2
juggle=5;15

[State 600, 2]
type = HitDef
ID=603
trigger1 = time=0 && !var(16)
trigger1 = movecontact=0
animtype  = Medium
attr = A, NA
damage = ceil((31*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -20
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=2,=1
trigger1 = movecontact=0
value = 1, 5

;---------------------------------------------------------------------------
;垂直空中B
[Statedef 605]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 605
sprpriority = 2
juggle=5;15

;var(22)飛び込みＢガード不能var
[State -2]
type = varset
trigger1 = prevstateno=[600,604]
var(22) = 2

[State 610, 1]
type = HitDef
ID=605
triggerall = var(22)!=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -50
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 610, 1];ガード不能版
type = HitDef
ID=605
triggerall = var(22)=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
;guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -50
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=3,=1
trigger1 = movecontact=0
value = 1, 6
;---------------------------------------------------------------------------
;垂直小ジャンプB
[Statedef 606]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 606
sprpriority = 2
juggle=5;15

;var(22)飛び込みＢガード不能var
[State -2]
type = varset
trigger1 = prevstateno=[600,604]
var(22) = 2

[State 610, 1]
type = HitDef
ID=606
triggerall = var(22)!=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -50
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 610, 1];ガード不能版
type = HitDef
ID=606
triggerall = var(22)=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
;guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -50
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=3,=1
trigger1 = movecontact=0
value = 1, 6
;---------------------------------------------------------------------------
;斜め空中B
[Statedef 607]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 607
sprpriority = 2
juggle=5;15

;var(22)飛び込みＢガード不能var
[State -2]
type = varset
trigger1 = prevstateno=[600,604]
var(22) = 2

[State 610, 1]
type = HitDef
ID=607
triggerall = var(22)!=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 610, 1];ガード不能版
type = HitDef
ID=607
triggerall = var(22)=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
;guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=3,=1
trigger1 = movecontact=0
value = 1, 6
;---------------------------------------------------------------------------
;斜め小ジャンプB
[Statedef 608]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 608
sprpriority = 2
juggle=5;15

;var(22)飛び込みＢガード不能var
[State -2]
type = varset
trigger1 = prevstateno=[600,604]
var(22) = 2

[State 610, 1]
type = HitDef
ID=608
triggerall = var(22)!=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 610, 1];ガード不能版
type = HitDef
ID=608
triggerall = var(22)=1
trigger1= movecontact=0
trigger1 = time=0 && !var(16)
animtype  = Medium
attr = A, NA
damage = ceil((42*fvar(2))*fvar(3)), 0
;guardflag = HA
pausetime = 7,7
guard.pausetime = 6,6
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 1
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.ctrltime = 11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4.1
air.velocity = -1.8,-6
ground.cornerpush.veloff =ifelse(vel x<0,0,-6)
guard.cornerpush.veloff = ifelse(vel x<0,0,-6)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 610, 4]
type = PlaySnd
trigger1 = animelem=3,=1
trigger1 = movecontact=0
value = 1, 6
;---------------------------------------------------------------------------
;垂直空中C
[Statedef 620]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 620
sprpriority = 2
juggle=5;15


[State 630, 2]
type = HitDef
ID=620
trigger1 = AnimElem = 5 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -60
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

[State 200]
type = PlaySnd
trigger1 = animelem=5,=1
trigger1 = movecontact=0
value = 1, 42
;---------------------------------------------------------------------------
;垂直小ジャンプC
[Statedef 621]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 620
sprpriority = 2
juggle=5;15

[State 630, 2]
type = HitDef
ID=621
trigger1 = AnimElem = 5 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -60
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

[State 200]
type = PlaySnd
trigger1 = animelem=5,=1
trigger1 = movecontact=0
value = 1, 42

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;斜め空中Ｃ
[Statedef 630]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 630
sprpriority = 2
juggle=5

;-----------------------------気エフェクト
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=2,>=0 && animelem=3,<0
anim = 680
ID = 680
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=3,>=0 && animelem=4,<0
anim = 681
ID = 681
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=4,>=0 && animelem=5,<0
anim = 682
ID = 682
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 683
ID = 683
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=6,>=0 && animelem=6,<2
anim = 684
ID = 684
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=6,>=2 && animelem=7,<0
anim = 685
ID = 685
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=7,>=0 && animelem=7,<2
anim = 686
ID = 686
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=7,>=2 && animelem=8,<0
anim = 687
ID = 687
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 630, 2]
type = HitDef
ID=630
trigger1 = AnimElem = 3 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -100
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 630, 2]
type = HitDef
ID=630
triggerall = movecontact=0
trigger1 = AnimElem = 4 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -30
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52
[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

;---------------------------幅
[State -2]
type = width
trigger1 = 1
edge=10,1
;---------------------------押し判定
[State -2]
type = playerpush
trigger1 = 1
value=0

;---------------------------------押しヘルパー
[State -2];画面端つっかかり
type = Helper
trigger1 = numhelper(699) = 0
trigger1 = time=0
id = 699
name = "oshi"
pos = 0,0
postype = p1
stateno = 699
helpertype = normal
keyctrl = 0 
ownpal = 1
sprpriority=10

[State 200]
type = PlaySnd
trigger1 = animelem=4,=1
trigger1 = movecontact=0
value = 1, 42
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;斜め小ジャンプ空中Ｃ
[Statedef 629]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 630
sprpriority = 2
juggle=5

;-----------------------------気エフェクト
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=2,>=0 && animelem=3,<0
anim = 680
ID = 680
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=3,>=0 && animelem=4,<0
anim = 681
ID = 681
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=4,>=0 && animelem=5,<0
anim = 682
ID = 682
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 683
ID = 683
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=6,>=0 && animelem=6,<2
anim = 684
ID = 684
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=6,>=2 && animelem=7,<0
anim = 685
ID = 685
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=7,>=0 && animelem=7,<2
anim = 686
ID = 686
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=7,>=2 && animelem=8,<0
anim = 687
ID = 687
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 630, 2]
type = HitDef
ID=630
trigger1 = AnimElem = 3 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -100
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 630, 2]
type = HitDef
ID=630
triggerall = movecontact=0
trigger1 = AnimElem = 4 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((96*fvar(4))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -30
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

;---------------------------幅
[State -2]
type = width
trigger1 = 1
edge=10,1
;---------------------------押し判定
[State -2]
type = playerpush
trigger1 = 1
value=0

;---------------------------------押しヘルパー
[State -2];画面端つっかかり
type = Helper
trigger1 = numhelper(699) = 0
trigger1 = time=0
id = 699
name = "oshi"
pos = 0,0
postype = p1
stateno = 699
helpertype = normal
keyctrl = 0 
ownpal = 1
sprpriority=10

[State 200]
type = PlaySnd
trigger1 = animelem=4,=1
trigger1 = movecontact=0
value = 1, 42

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;斜め小ジャンプ空中2C SP
[Statedef 640]
type    = A
movetype = A
physics = A
ctrl = 0
anim = 640
sprpriority = 2
juggle=5

;-----------------------------気エフェクト
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=2,>=0 && animelem=3,<0
anim = 670
ID = 670
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=3,>=0 && animelem=4,<0
anim = 671
ID = 671
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=4,>=0 && animelem=5,<0
anim = 672
ID = 672
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 673
ID = 673
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=6,>=0 && animelem=6,<2
anim = 674
ID = 674
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=6,>=2 && animelem=7,<0
anim = 675
ID = 675
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=7,>=0 && animelem=8,<0
anim = 676
ID = 676
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=8,>=0 && animelem=9,<0
anim = 677
ID = 677
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 630, 2];10
type = HitDef
ID=640
trigger1 = AnimElem = 3 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((130*fvar(9))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7057
guard.sparkno = S8010
sparkxy = -15, -100
hitsound   = S2, 1
guardsound = S3, 3
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52

[State 630, 2];10
type = HitDef
ID=640
triggerall = movecontact=0
trigger1 = AnimElem = 4 && !var(16)
animtype  = Hard
attr = A, NA
damage = ceil((130*fvar(9))*fvar(6)), 0
guardflag = HA
pausetime = 13,13
guard.pausetime = 12,12
sparkno = S7057
guard.sparkno = S8010
sparkxy = -15, -30
hitsound   = S2, 1
guardsound = S3, 3
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -5.3
air.velocity = -1.8,-6
ground.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
guard.cornerpush.veloff = ifelse(vel x<0,0,-8.3)
air.cornerpush.veloff = 0
nochainid=1301,3000
p2facing=1
yaccel=0.52


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

;---------------------------幅
[State -2]
type = width
trigger1 = 1
edge=10,1
;---------------------------押し判定
[State -2]
type = playerpush
trigger1 = 1
value=0

;---------------------------------押しヘルパー
[State -2];画面端つっかかり
type = Helper
trigger1 = numhelper(699) = 0
trigger1 = time=0
id = 699
name = "oshi"
pos = 0,0
postype = p1
stateno = 699
helpertype = normal
keyctrl = 0 
ownpal = 1
sprpriority=10

[State 200]
type = PlaySnd
trigger1 = animelem=3,=0
value = 1, 45
volume=500
channel=-1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;押しヘルパー
[Statedef 699]
type    = A
movetype= I
physics = N
velset = 0,0
juggle = 0
anim = 699
sprpriority = 10
ctrl = 0

[State -2]
type = bindtoroot
trigger1 = 1
pos =0,0

[State -2]
type = playerpush
trigger1 = 1
value=1

[State -2]
type = nothitby
trigger1 = 1
value=SCA

[State 1505]
type = destroyself
trigger1 = (root,stateno!=[600,641]); && (root,stateno!=50)
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;右降龍
[Statedef 230]
type    = S
movetype = A                      
physics = S  
juggle = 5
ctrl = 0
anim = 230
sprpriority = 1

[State 200]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 230, 1]
type = HitDef
ID=230
trigger1 = AnimElem = 4 && !var(16)
trigger2 = movecontact=0
trigger2 = AnimElem = 5 && !var(16)
attr = S, NA 
damage = ceil((99*fvar(4))*fvar(6)), 0
animtype = hard
guardflag = M
hitflag = MA
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -15, -70 
hitsound   = S2, 10    
getpower = 250,100
givepower = 0,50
guardsound = S3, 1
ground.type = High
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24
guard.ctrltime = 20
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8
air.type = High 
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
forcestand=1
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(230)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.15;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 200];
type = PlaySnd
trigger1 = Time = 7
value = 0, 1
channel = 0

[State 200, 4]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=5,=1
value = 1, 35

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ＣＡ2段目2B (c)
[Statedef 300]
type    = C
movetype = A
physics = C
juggle = 7
ctrl = 0
anim = 300
sprpriority = 1
velset=0,0

[State 410, 2];25kaihinsi
type = HitDef
ID=300
trigger1 =  AnimElem = 3 && !var(16)
attr = C, NA
damage = ceil((52*fvar(9))*fvar(6)), 0
animtype  = Medium
hitflag = MA
guardflag = L
pausetime = 10,10
guard.pausetime = 9,9
sparkno = S7056
guard.sparkno = S8000
sparkxy = -15, -5
hitsound   = S2, 12
guardsound = S3, 3
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 12;-1
guard.ctrltime = 10;-3
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.9
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-8
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-8
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(300)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-1.75;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 410, 5]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=3,=1
value = 1, 6

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 410, 6]
type = ChangeState
trigger1 =  AnimTime = 0
value = 10
ctrl = 1
;------------------------------------------------------------------------
;---------------------------------------------------------------------------
;CA 3段目２C(c)
[Statedef 301]
type    = C
movetype = A
physics = N
juggle = 7
ctrl = 0
anim = 301
sprpriority = 2
velset=0,0

[State 200]
type = width
trigger1 =1
edge=10,0

[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=2,>=0 && animelem=3,<0
anim = 390;6007
ID = 390
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=3,>=0 && animelem=4,<0
anim = 391
ID = 391
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=4,=0
anim = 392
ID = 392
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=4,=1
anim = 393
ID = 393
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=5,=0
anim = 394
ID = 394
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=6,=0
anim = 395
ID = 395
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=6,=1
anim = 396
ID = 396
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=7,>=0 && animelem=8,<1
anim = 397
ID = 397
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 420, 1];26fme
type = HitDef
ID=301
trigger1 =  AnimElem = 4 && !var(16)
attr = C, NA
animtype=back
damage = ceil((175*fvar(9))*fvar(6)), 0
hitflag = MA
guardflag = L
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7057
guard.sparkno = S8010
sparkxy = -15, -15
hitsound   = S2, 12
guardsound = S3, 5
getpower = 250,100
givepower = 0,50
ground.type = low
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 25
guard.ctrltime = 20;-4
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.2,-6;-4.2
air.velocity = -1.2,-6;-4.2
guard.velocity = -9.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.yvelocity=0
p2facing=1
yaccel=.47
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(301)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.2;-1.8
ignorehitpause=1
persistent=0
;---------------------------------
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(301)
triggerall = movehit=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2.1;-1.8
ignorehitpause=1
persistent=0
;---------------------------------


[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

[State 420, 4]
type = PlaySnd
trigger1 = animelem=4,=0
value = 1, 45

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1
;------------------------------------------------------------------------
;------------------------------------------------------------------------
;CA 3段目立ちＣ
[Statedef 302]
type    = S
movetype = A
physics = N
juggle = 5
ctrl = 0
anim = 302
sprpriority = 1

[State 200]
type = width
trigger1 =1
value=10,0

[State 200]
type = varset
trigger1 = time=0
fv=14
value=0

[State 200]
type = velset
trigger1 = animelem=1,=0
x=0

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=2,>=0 && animelem=6,<0
x=2


[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=6,>=0 && animelem=8,<0
x=.5

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=8,>=0 && animelem=12,<0
x=.3

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=12,=0
x=0


[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=3,=0
anim = 378;6006
ID = 378
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=4,=0
anim = 379
ID = 379
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 380
ID = 380
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=6,=0
anim = 381
ID = 381
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=7,=0
anim = 382
ID = 382
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=8,=0
anim = 383
ID = 383
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=8,=1
anim = 384
ID = 384
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=9,=0
anim = 385
ID = 385
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト9
type = Explod
trigger1 = animelem=10,=0
anim = 386
ID = 386
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト10
type = Explod
trigger1 = animelem=11,>=0 && animelem=11,<3
anim = 387
ID = 387
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト11
type = Explod
trigger1 = animelem=11,>=3 && animelem=12,<0
anim = 388
ID = 388
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト12
type = Explod
trigger1 = animelem=12,>=0 && animelem=13,<0
anim = 389
ID = 389
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 211, 2];28 7kaidetaosu
type = HitDef
ID=302
triggerall= movecontact=0
trigger1 = AnimElem = 6 && !var(16)
trigger2 = AnimElem = 7 && !var(16)
attr = S, NA
damage = ceil((175*fvar(9))*fvar(6)), 0
animtype  = back
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7057
guard.sparkno = S8010
sparkxy = -20, -45
hitsound   = S2,12
getpower = 250,100
givepower = 0,50
guardsound = S3, 5
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 25
guard.ctrltime = 20;-4
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -3,-5.5
air.velocity = -3,-5.5
guard.velocity = -7.5
ground.cornerpush.veloff = 0;-12
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-12
p2facing=1
yaccel=.45
fall=1
fall.recover=0
fall.yvelocity=0
p2stateno=1330

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(302)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.8;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

[State 211]
type = PlaySnd
trigger1 = animelem=6,=0
value = S1, 45
channel=-1

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;------------------------------------------------------------------------
;3A C 6C の6C(c)
[Statedef 303]
type    = S
movetype = A
physics = S
juggle = 5
ctrl = 0
anim = 303
sprpriority = 1

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=1,>=0 && animelem=7,<0
x=1

[State 200]
type = velset
trigger1 = animelem=7,=0
x=0
;-----------------------------
[State 1000, 0];エフェクト先
type = Explod
trigger1 = animelem=6,=0
anim = 6008
ID = 6008
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト手元
type = Explod
trigger1 = animelem=6,=0
anim = 6009
ID = 6009
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
;--------------------------攻撃判定
[State 211, 2];29
type = HitDef
ID=303
triggerall= movecontact=0
trigger1 = AnimElem = 6 && !var(16)
trigger2 = AnimElem = 7 && !var(16)
attr = S, NA
damage = ceil((125*fvar(9))*fvar(6)), 0
animtype  = back
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -45
hitsound   = S2,9
getpower = 250,100
givepower = 0,50
guardsound = S3, 1
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24
guard.ctrltime = 22
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -3.2,-4.45
guard.velocity = -7.5
air.velocity = -3.2,-4.45
ground.cornerpush.veloff = 0;-3
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-6
p2facing=1
yaccel=.43
fall=1
fall.recover=0
fall.yvelocity=0
p2stateno=1330
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(303)
triggerall = movehit=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.35;-1.8
ignorehitpause=1
persistent=0
;---------------------------------
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(303)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.9;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 5
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 4
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 5
channel = 0

[State 211]
type = PlaySnd
trigger1 = numtarget=0
trigger1 = animelem=7,=1
value = 810, 1

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------
;---------------------------------------------------------
;3A AのA(c)
[Statedef 304]
type    = S                      
movetype = A                      
physics = S     
juggle = 7
ctrl = 0 
anim = 304
sprpriority = 1

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=1,>=0 && animelem=4,<1
x=1.5

[State 200]
type = velset
trigger1 = animelem=4,=1
x=0

[State 201]
type = HitDef
ID=304
trigger1 = AnimElem = 3 && !var(16)
attr = S, NA 
damage = ceil((36*fvar(2))*fvar(3)), 0
animtype = hard
guardflag = M
hitflag = MA
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7000
guard.sparkno = S8000
sparkxy = -10, -55
hitsound   = S2, 0
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = High 
ground.slidetime = 25
guard.slidetime = 22
ground.hittime  = 23
guard.ctrltime = 22
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -9.1
air.type = High 
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-12.6
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-12.6
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(304)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.76;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 210]
type = PlaySnd
trigger1 = Time = 1 && Random >= 750 && var(30) = 1
value = 0, 2
channel = 0

[State 201, 4]
type = PlaySnd
trigger1 = numtarget=0
trigger1 = animelem=3,=1
value = 1, 5

[State 201, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------
;------------------------------------------------------------
;AorB CA2段目立ちＢ(c)
[Statedef 305]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 305
sprpriority = 2

;--------------------------幅
[State 1030, width]
type = width
trigger1 = 1
edge = 10,0

[State 200]
type = varset
trigger1 = time=0
v=0
value=0


[State 200]
type = varset
trigger1 = time=0 && fvar(14)!=0
v=0
value=1

[State 200]
type = varset
trigger1 = time=0
fv=14
value=0

[State 200]
type = velset
trigger1 = var(0)=0
trigger1 = animelem=1,>=0 && animelem=5,<1
x=1.5

[State 200]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=5,=1
x=0

[State 200]
type = velset
trigger1 = var(0)=1
trigger1 = animelem=1,>=0 && animelem=5,<1
trigger1 = numtarget(305)=0
x=0

[State 205, 2]
type = HitDef
ID=305
trigger1 = AnimElem = 2 && !var(16)
attr = S, NA
damage = ceil((52*fvar(9))*fvar(6)), 0
animtype  = Medium
hitflag = MA
guardflag = M
pausetime = 9,9
guard.pausetime = 8,8
sparkno = S7056
guard.sparkno = S8000
sparkxy = -10, -50
hitsound   = S2, 12
guardsound = S3, 3
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 15
guard.slidetime = 12
ground.hittime  = 12;-1
guard.ctrltime = 10;-3
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.9
guard.velocity = -1.9
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-6
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-6
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(305)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-2;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random <= 750 && var(30) = 1
value = 0, 4
channel = 0


[State 410, 5]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=2,=1
value = 1, 42

[State 410, 6]
type = ChangeState
trigger1 =  AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;------------------------------------------------------------------
;3A C のC
[StateDef 306]
type = S
movetype = A
physics = S
ctrl = 0
anim = 306
sprpriority = -1

;--------------------------幅
[State 1030, width]
type = width
trigger1 = 1
edge = 10,0

[State 200]
type = velset
trigger1 = animelem=3,>=0 && animelem=5,<0
trigger1 =fvar(14)=0
x=1.5

[State 220, 2]
type = HitDef
ID=306
trigger1 = AnimElem = 6 && !var(16)
attr = S, NA
animtype  = Hard
damage = ceil((94*fvar(4))*fvar(6)), 0
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
getpower = 250,100
givepower = 0,50
sparkxy = -10, -50
hitsound   = S2, 9
guardsound = S3, 1
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -4
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-5.5
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-4.5
p2facing=1
yaccel=.43
;forcestand=1

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(306)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.45;-1.8
ignorehitpause=1
persistent=0
;---------------------------------
;-----------------

[State 200]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=6,=1
value = 1, 5

[State 260]
type = PlaySnd
trigger1 = Time = 0
value = 0,11

[State 260]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
Ctrl = 1

;-------------------------------------------------------------------
;-------------------------------------------------------------------
;3段目6C
[Statedef 307]
type    = S
movetype = A
physics = N
juggle = 7
ctrl = 0
anim = 307
sprpriority = 2
velset=0,0

;--------------------------幅
[State 1030, width]
type = width
trigger1 = 1
edge = 10,0

[State 210]
type = velset 
trigger1 =fvar(14)=0
trigger1 = animelem=1,>=0 && animelem=4,<0
x=3

[State 210]
type = velset 
trigger1 =fvar(14)=0
trigger1 = animelem=4,>=0 && animelem=6,<0
x=2.3;5

[State 210]
type = velset 
trigger1 =fvar(14)=0
trigger1 = animelem=6,>=0 && animelem=7,<0
x=1.8;1.5

[State 210]
type = velset 
trigger1 =fvar(14)=0
trigger1 = animelem=7,>=0 && animelem=8,<1
x=1

[State 210]
type = velset 
trigger1 =fvar(14)=0
trigger1 = animelem=8,=1
x=0

[State 211, 2];18ko
type = HitDef
ID=307
trigger1 = AnimElem = 6 && !var(16)
attr = S, NA
damage = ceil((73*fvar(9))*fvar(6)), 0
animtype  = Hard
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7057
guard.sparkno = S8010
sparkxy = -20, -40
hitsound   = S2,12
getpower = 150,50
givepower = 0,25
guardsound = S3, 3
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 22;-2
guard.ctrltime = 20;-4
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -7.6
guard.velocity = -8.3
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-12
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(307)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.43;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random <= 750 && var(30) = 1
value = 0, 2
channel = 0


[State 211]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=6,=1
value = 1, 7

;------------------------------
[State 206]
type =varset
trigger1 = time=0
v=0
value=0


[State 1400, 2];4Cの先行入力
type = Varset
trigger1 = time=0
v=1
value=0
ignorehitpause=1
persistent=0


[State 1400, 2];4Cの先行入力
type = Varset
triggerall = !var(9)
triggerall = var(1)=0
triggerall = animelem=1,>=1
triggerall = command="holdback"
triggerall = command="c"
trigger1 = movecontact>=1
trigger2 = movecontact=0
v=1
value=1
ignorehitpause=1
persistent=0


;---------------------------------
[State 211, 4];4Cへ
type = ChangeState
trigger1 = var(1)=1
trigger1 = animelem=7,>0
value = 315
ctrl = 0

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------
;-------------------------------------------------------
;3段目打ち上げ３Ｃ
[Statedef 309]
type    = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 309
sprpriority = 2

[state 255]
type=varset
trigger1= time=0
fv=14
value=0


[state 255]
type=velset
trigger1= animelem=1,>=0 && animelem=4,<0
x=1.7

[state 255]
type=velset
trigger1 = fvar(14)=0
trigger1= animelem=4,>=0 && animelem=8,<1
x=1.2

[state 255]
type=velset
trigger1= animelem=8,=1
x=0

[State 227, 2];38
type = HitDef
ID=309
trigger1 = AnimElem = 4 && !var(16)
trigger2 = movecontact=0
trigger2 = AnimElem = 5 && !var(16)
attr = S, NA
damage = ceil((124*fvar(9))*fvar(6)), 0
animtype  = back
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = -1;S7061
guard.sparkno = S8010
sparkxy = -10, -50
hitsound = S2, 12
guardsound = S3, 5
getpower = 180,90
givepower = 0,50
ground.type = High
ground.slidetime = 40
guard.slidetime = 20
ground.hittime  = 35
guard.ctrltime = 20;+4
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -2.8,-7.5;-8
guard.velocity = -7.5
air.velocity = -2.8,-7.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-10
fall = 1
fall.recover = 0
yaccel = .42
p2facing=1

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(309)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.5;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 210]
type = width
trigger1 = 1
edge=10,0


[State 210]
type = PlaySnd
trigger1 = animelem=2
value = 0, 3
channel = 0


[State 210]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=5,=1
value = 1, 42

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1
;----------------------------------------------------------------
;----------------------------------------------------------------
;避け攻撃ＣＡ始動地上部分
[Statedef 312]
type    = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 312
sprpriority = 2
velset=0,0

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 310
ctrl = 0
;-----------------------------------------------------------
;-----------------------------------------------------------
;避け攻撃 CA C空中  5Fme
[Statedef 310]
type    = A
movetype = A
physics = N
juggle = 7
ctrl = 0
anim = 310
sprpriority = 2
;velset=5,-4.8

;--------------幅
[State 1030, width]
type = width
trigger1 = 1
edge = 10,0

[State 206]
type =varset
trigger1 = time=0
v=0
value=0

[State 206]
type =varset
trigger1 = time=0 && fvar(14)!=0
v=0
value=1

[State 206]
type =varset
trigger1 = time=0
fv=14
value=0


[State 206]
type = velset
trigger1 =var(0)=0
trigger1 =animelem=1,>=0 && animelem=3,<0
x=4

[State 206]
type = velset
trigger1 =var(0)=0
trigger1 =animelem=3,>=0 && animelem=4,<0
x=4.5

[State 206]
type = velset
trigger1 =var(0)=0
trigger1 =animelem=4,>=0
x=4.7


[State 206]
type = velset
trigger1 =var(0)=1
trigger1 =animelem=1,>=0 && animelem=4,<0
x=2

[State 206]
type = velset
trigger1 =var(0)=1
trigger1 =animelem=4,>=0
x=2.7


[State 206]
type = velset
trigger1 = time=0
y=-4.8


[State 206]
type = veladd
trigger1 = 1
y=.4

[State 206, 2];
type = HitDef
ID=310
trigger1 = animelem=3 && !var(16)
attr = A, NA
damage = ceil((120*fvar(4))*fvar(6)), 0
animtype  = hard
hitflag = MA
guardflag = H
pausetime = 9,9
guard.pausetime = 8,8
sparkno = S7010
guard.sparkno = S8010
sparkxy = -5, -50
hitsound   = S2, 9
guardsound = S3, 0
getpower = 150,50
givepower = 0,50
ground.type = Low
ground.slidetime = 23
guard.slidetime = 18
ground.hittime  = 22
guard.ctrltime = 16
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -3.5
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-6
guard.cornerpush.veloff = 0;-6
air.cornerpush.veloff = 0
p2facing=1
fall=0
fall.recover=0
yaccel=.43


[State 206]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=3,=1
value = 1, 6


[State 206]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4
channel=0

[State 206, 5]
type = ChangeState
trigger1 = vel y>0 && pos y>=0
value = 311
ctrl = 0
;---------------------------------------------------------------------
;---------------------------------------------------------------------
;避け攻撃 CA C着地
[Statedef 311]
type    = S
movetype = A
physics = S
juggle = 7
ctrl = 0
anim = 311
sprpriority = 2
velset=0,0

[State 206]
type = PlaySnd
trigger1 = Time = 0
value = 1, 2

[State 206]
type = Posset
trigger1 = Time = 0
y=0

[State 206, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------
;-----------------------------------------------------------
;4段目4C
[Statedef 315]
type    = S
movetype = A
physics = N
;juggle = 7
ctrl = 0
anim = 315
sprpriority = 2
velset=0,0

;------------------幅
[State 1030, width]
type = width
trigger1 = 1
edge = 10,0
;------------

[State 206]
type =varset
trigger1 = time=0
v=0
value=0
persistant=0


[State 206]
type =varset
trigger1 = time=0
v=1
value=0
persistant=0


[State 206]
type =varset
trigger1 = time=0
trigger1 = fvar(14)!=0
v=0
value=1
persistant=0


[State 206]
type =varset
trigger1 = time=0
fv=14
value=0
persistant=0

;----------------画面端ノックバック無
[State 210]
type = velset 
trigger1 =var(0)=0
trigger1 = animelem=1,>=0 && animelem=2,<0
x=0

[State 210]
type = velset 
trigger1 =var(0)=0
trigger1 = animelem=2,>=0 && animelem=4,<0
x=5

[State 210]
type = velset 
trigger1 =var(0)=0
trigger1 = animelem=4,>=0 && animelem=5,<0
x=4

[State 210]
type = velset 
trigger1 =var(0)=0
trigger1 = animelem=5,>=0 && animelem=6,<0
x=3

[State 210]
type = velset 
trigger1 =var(0)=0
trigger1 = animelem=6,>=0 && animelem=7,<0
x=2

[State 210]
type = velset 
trigger1 =var(0)=0 && fvar(14)=0
trigger1 = animelem=7,>=0 && animelem=8,<0
x=1


[State 210]
type = velset
trigger1 = fvar(14)=0
trigger1 = animelem=8,=0
x=0
;------------------------画面端有り
[State 210]
type = velset 
trigger1 =var(0)=1
trigger1 = animelem=1,>=0 && animelem=2,<0
x=0

[State 210]
type = velset 
trigger1 =var(0)=1
trigger1 = animelem=2,>=0 && animelem=4,<0
x=1

[State 210]
type = velset 
trigger1 =var(0)=1
trigger1 = animelem=4,>=0 && animelem=5,<0
x=.8

[State 210]
type = velset 
trigger1 =var(0)=1
trigger1 = animelem=5,>=0 && animelem=6,<0
x=.6

[State 210]
type = velset 
trigger1 =var(0)=1
trigger1 = animelem=6,>=0 && animelem=7,<0
x=.4

[State 210]
type = velset 
trigger1 =var(0)=1 && fvar(14)=0
trigger1 = animelem=7,>=0 && animelem=8,<0
x=.2


;------------------------
[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=4,=0
anim = 316
ID = 316
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=5,=0
anim = 317
ID = 317
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=6,>=0 && animelem=7,<0
anim = 318
ID = 318
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=7,=0
anim = 319
ID = 319
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=7,=1
anim = 320
ID = 320
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=7,=2
anim = 321
ID = 321
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=8,=0
anim = 322
ID = 322
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト8
type = Explod
trigger1 = animelem=8,>=1 && animelem=8,<3
anim = 323
ID = 323
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
;-------------------------------
[State 211, 2];7hanbun3dotto 185dotto
type = HitDef
ID=315
trigger1 = AnimElem = 7 && !var(16)
attr = S, NA
damage = ceil((73*fvar(9))*fvar(6)), 0
animtype  = Hard
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7057
guard.sparkno = S8010
sparkxy = -20, -45
hitsound   = S2,12
getpower = 150,50
givepower = 0,25
guardsound = S3, 5
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 22;+1
guard.ctrltime = 20;-1
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -7.4
guard.velocity = -8.0
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-12
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43
;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(315)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.7;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random < 250 && var(30) = 0
value = 0, 1
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 250 && Random <500) && var(30) = 0
value = 0, 2
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && (Random >= 500 && Random <750) && var(30) = 1
value = 0, 3
channel = 0

[State 206]
type = PlaySnd
trigger1 = Time = 1 && Random <= 750 && var(30) = 1
value = 0, 2
channel = 0


[State 211]
type = PlaySnd
trigger1 = animelem=6,=0
value = 1, 45

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------
;-----------------------------------------------------------
;対ライン攻撃上段
[Statedef 700]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 700
sprpriority = 2
velset=0

[State 1000, 0];エフェクト1
type = Explod
trigger1 = animelem=3,>=1 && animelem=5,<0
anim = 780;6002
ID = 780
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト2
type = Explod
trigger1 = animelem=5,>=0 && animelem=6,<0
anim = 781
ID = 781
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト3
type = Explod
trigger1 = animelem=6,>=0 && animelem=7,<0
anim = 782
ID = 782
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト4
type = Explod
trigger1 = animelem=7,>=0 && animelem=7,<5
anim = 783
ID = 783
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト5
type = Explod
trigger1 = animelem=7,>=5 && animelem=7,<10
anim = 784
ID = 784
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト6
type = Explod
trigger1 = animelem=7,>=10 && animelem=8,<0
anim = 785
ID = 785
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, 0];エフェクト7
type = Explod
trigger1 = animelem=8,>=0 && animelem=9,<0
anim = 786
ID = 786
pos = 0,0
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 0


;--------------------接触判定無
[State -2]
type = playerpush
trigger1 = 1
value=0
;-----------------------------幅
[State 1050];
type = width
trigger1 = 1
edge=1,0
;-----------------------------var
[State 1050];冒頭で相手と一定以上の距離以内の場合velを働かなくさせるvar
type = varset
trigger1 = time=0
v=1
value=0

[State 1050];冒頭で相手と一定以上の距離以内の場合velを働かなくさせるvar
type = varset
triggerall = time=0
trigger1 = facing=1
trigger1 = (enemynear,pos x- pos x)<50
trigger2 =facing=-1
trigger2 =(pos x- enemynear,pos x)<50
v=1
value=1
;-----------------------

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 1,>=0 && animelem=2,<0
x = 3.5

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 2,>=0 && animelem=3,<0
x = 3

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 3,>=0 && animelem=4,<0
x = 3


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 4,>=0 && animelem=5,<0
x = 2.5


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 5,>=0 && animelem=6,<0
x = 2


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 6,>=0 && animelem=7,<0
x = 1.5

[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 7,>=0 && animelem=8,<0
x = .5

[State 700 ]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = Animelem = 8,=0
x = 0


[State 700]
type = HitDef
ID=700
trigger1 = movecontact=0
trigger1 = AnimElem = 6 && !var(16)
animtype  = Hard
attr = S, NA
damage = ceil((94*fvar(4))*fvar(6)), 0
guardflag = H
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -60
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 23
guard.slidetime = 21
ground.hittime  = 22;-6
guard.hittime = 35
guard.ctrltime = 35;guard.hittimeが過ぎれば自動的にctrlを取り戻してしまうためちゃんと設定しておくこと+7
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43

[State 700]
type = HitDef
ID=700
trigger1 = movecontact=0
trigger1 = AnimElem = 7 && !var(16)
animtype  = Hard
attr = S, NA
damage = ceil((94*fvar(4))*fvar(6)), 0
guardflag = H
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -60
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = High
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 22;-2
guard.hittime = 35
guard.ctrltime = 35;+11
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(700)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.5;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 200]
type = PlaySnd
trigger1 = Time = 1 && Random < 700 && var(30) = 0
value = 0, 2
channel = 0

[State 200]
type = PlaySnd
trigger1 = Time = 1 && Random < 700 && var(30) = 1
value = 0, 4
channel = 0

[State 700]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=7,=1
value = 1, 42

[State 700]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;対ライン攻撃下段
[Statedef 710]
type    = C
movetype = A
physics = N
ctrl = 0
anim = 710
sprpriority = 2
juggle=14
velset=0

;--------------------接触判定無
[State -2]
type = playerpush
trigger1 = 1
value=0
;-----------------------------幅
[State 1050];
type = width
trigger1 = 1
edge=1,0
;-----------------------------var
[State 1050];冒頭で相手と一定以上の距離以内の場合velを働かなくさせるvar
type = varset
trigger1 = time=0
v=1
value=0

[State 1050];冒頭で相手と一定以上の距離以内の場合velを働かなくさせるvar
type = varset
triggerall = time=0
trigger1 = facing=1
trigger1 = (enemynear,pos x- pos x)<50
trigger2 =facing=-1
trigger2 =(pos x- enemynear,pos x)<50
v=1
value=1
;-----------------------

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 1,>=0 && animelem=2,<0
x = 3.5

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 2,>=0 && animelem=3,<0
x = 2.5

[State 700]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 3,>=0 && animelem=4,<0
x = 2


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 4,>=0 && animelem=5,<0
x = 1.5


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 5,>=0 && animelem=6,<0
x = 1


[State 700]
type = velset 
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = AnimElem = 6,>=0 && animelem=6,<2
x = .5

[State 700 ]
type = velset
trigger1 = fvar(14)=0
trigger1 = var(1)!=1
trigger1 = Animelem = 6,=2
x = 0

[State 700]
type = HitDef
ID=710
trigger1 = animelem =6 && !var(16)
animtype  = back
attr = C, NA
damage = ceil((94*fvar(4))*fvar(6)), 0
guardflag = L
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = low
ground.slidetime = 28
guard.slidetime = 21
ground.hittime  = 28
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.7,-4.8
guard.velocity = -8.4
air.velocity = -1.7,-4.8
fall = 1
fall.recover = 0
fall.yvelocity=0
ground.cornerpush.veloff =0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43

[State 700]
type = HitDef
ID=710
trigger1 = movecontact=0
trigger1 = AnimElem = 7 && !var(16)
animtype  = back
attr = C, NA
damage = ceil((94*fvar(4))*fvar(6)), 0
guardflag = L
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
sparkxy = -10, -20
hitsound   = S2, 9
guardsound = S3, 1
getpower = 250,100
givepower = 0,50
ground.type = low
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 28
guard.ctrltime = 18
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -1.7,-4.8
guard.velocity = -8.4
air.velocity = -1.7,-4.8
fall = 1
fall.recover = 0
fall.yvelocity=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing=1
yaccel=.43

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(710)
triggerall = moveguarded=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.4;-2.8
ignorehitpause=1
persistent=0
;---------------------------------
;-------------------------------
[State 1400, 2];画面端ノックバック
type = null;Varset
triggerall = numtarget(711)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-3.4;-2.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 200]
type = PlaySnd
trigger1 = Time = 1 && Random < 700 && var(30) = 0
value = 0, 2
channel = 0

[State 200]
type = PlaySnd
trigger1 = Time = 1 && Random < 700 && var(30) = 1
value = 0, 4
channel = 0

[State 700]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=7,=1
value = 1, 42

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holddown"
value = 11
ctrl = 1

[State 400, 5]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command="holdfwd"
trigger2 = command="holdback"
value = 20
ctrl = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command="holdup"
value = 40
ctrl = 0

[State 700]
type = ChangeState
trigger1 = AnimTime = 0
value = 10
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;投げ 裂千掌
[Statedef 800]
type    = S
movetype = A
physics = S
ctrl = 0
anim = 800
sprpriority = 2
ignorehitpause = 0
velset=0

[State 800]
type = HitDef
id=800
trigger1 = Time = 0
trigger1 = p2movetype!=H&&p2stateno!=40
trigger1 = numtarget=0
attr = S, NT 
hitflag = M- 
priority = 1, Miss 
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 801
p2stateno = 802
fall = 1
fall.recover = 0

[State 800]
type = nothitby
trigger1 = 1
value=SCA
ignorehitpause=1

[State 800]
type = ChangeState
trigger1 = AnimTime = 0
value = 210
;---------------------------------------------------
;---------------------------------------------------
;投げ成立裂千掌
[Statedef 801]
type = S
physics = S
anim = 801
ctrl = 0
sprpriority = 1
ignorehitpause = 0
velset=0,0

[State 9001]
type = nothitby
trigger1 = 1
value=SCA
ignorehitpause=1

;------------------音
[State 800]
type = PlaySnd
trigger1 =time = 0
value = 800, 0
channel=-1

[State 800];ほれほれほれ
type = PlaySnd
trigger1 =time = 1
value = 0, 7
channel=0

[State 800];ほれ~
type = PlaySnd
trigger1 =animelem =16,=0
value = 0, 8
channel=0

[State 800];打撃音
type = PlaySnd
trigger1 =animelem = 3,=0
trigger2 =animelem = 5,=0
trigger3 =animelem = 7,=0
trigger4 =animelem = 9,=0
trigger5 =animelem = 11,=0
trigger6 =animelem = 13,=0
trigger7 =animelem = 16,=0
value = 2, 4
channel=-1
;-----------------------------幅
[State 800,0]
type = Width
trigger1 = 1
value = 50,0
;------------------------------
[State 1000, 0];ヒットエフェクト1
type = Explod
trigger1 = animelem=3,=1
anim = 7000
ID = 7000
pos = 25,-17;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 5
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト2
type = Explod
trigger1 = animelem=4,=1
anim = 7000
ID = 7000
pos = 35,-22;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 6
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト3
type = Explod
trigger1 = animelem=5,=1
anim = 7000
ID = 7000
pos = 40,-27;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 7
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト4
type = Explod
trigger1 = animelem=6,=1
anim = 7000
ID = 7000
pos = 50,-32;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 8
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト5
type = Explod
trigger1 = animelem=7,=1
anim = 7000
ID = 7000
pos = 60,-37;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト6
type = Explod
trigger1 = animelem=8,=1
anim = 7000
ID = 7000
pos = 60,-47;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト7
type = Explod
trigger1 = animelem=9,=1
anim = 7000
ID = 7000
pos = 60,-57;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 11
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト8
type = Explod
trigger1 = animelem=10,=1
anim = 7000
ID = 7000
pos = 50,-67;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 12
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト9
type = Explod
trigger1 = animelem=11,=1
anim = 7000
ID = 7000
pos = 40,-77;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 13
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト10
type = Explod
trigger1 = animelem=12,=1
anim = 7000
ID = 7000
pos = 30,-87;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 14
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト11
type = Explod
trigger1 = animelem=13,=1
anim = 7000
ID = 7000
pos = 30,-97;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 15
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ヒットエフェクト12頭
type = Explod
trigger1 = animelem=16,=1
anim = 7000
ID = 7000
pos = 45,-105;正右
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 16
shadow=0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;-----------------------------ターゲット
[State 901,TargetBind];右正、左負
type = TargetBind
trigger1 = AnimElem = 1,>=0 && animelem=2,<0
pos = 13,0

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 2,>=0 && animelem=3,<0
pos = 18,0

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 3,>=0 && animelem=4,<0
pos = 42,-44

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 4,>=0 && animelem=5,<0
pos = 48,-50

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 5,>=0 && animelem=6,<0
pos = 48,-44

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 6,>=0 && animelem=7,<0
pos = 48,-44

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 7,>=0 && animelem=8,<0
pos = 48,-50

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 8,>=0 && animelem=9,<0
pos = 48,-52

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 9,>=0 && animelem=10,<0
pos = 48,-54

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 10,>=0 && animelem=11,<0
pos = 48,-55

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 11,>=0 && animelem=12,<0
pos = 48,-56

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 12,>=0 && animelem=13,<0
pos = 48,-57

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 13,>=0 && animelem=14,<0
pos = 48,-58

[State 901,TargetBind]
type = TargetBind
trigger1 = AnimElem = 14,>=0 && animelem=15,<0
pos = 48,-59

[State 901,TargetBind];打ち上げ前
type = TargetBind
trigger1 = AnimElem = 15,>=0 && animelem=16,<0
pos = 48,-65

[State 901,TargetBind];打ち上げ
type = TargetBind
trigger1 = AnimElem = 16,>=0 && animelem=17,<0
pos = 48,-75;-75

[State 901,TargetBind];打ち上げロック外れる
type = TargetBind
trigger1 = AnimElem = 17,=0
pos = 48,-50;-75


;-----------------------------ダメージ
[State 800]
type = targetlifeadd
trigger1 = AnimElem = 16,=1
value = -1*ceil(135*fvar(4))

;-------------------------ステート変更

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------
;-------------------------------------------------------
;裂千掌投げられ
[Statedef 802]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 802]
type = ScreenBound
trigger1 = backedgebodydist>=20
value = 0
movecamera = 1,0

[State 800]
type = changeanim2
trigger1 = time = 0
value = 802
;-------------------
[State 9001]
type = nothitby
trigger1 = 1
value=SCA
ignorehitpause=1

[State 901,TargetBind];打ち上げ少しずれるここでロック解除
type = changestate
trigger1 = animtime=0
value=803
ctrl=0
;-----------------------------------------------------
;-----------------------------------------------------
;裂千掌投げられ2 33fme
[Statedef 803]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0
velset=0,0


[State 800]
type = changeanim2
trigger1 = time = 0
value = 803

[State 9001]
type = nothitby
trigger1 = 1
value=SCA

;--------------------回転

[State 9001,VelAdd];33
type = Velset
trigger1 = animelem=1,=1
x =-.5
y = -7;-8.3

[State 9001,VelAdd];33
type = Velset
trigger1 = animelem=2,=0
x =-1

[State 9001,VelAdd]
type = VelAdd
trigger1 = 1
y = .52

[State 9001,ChangeState]
type = changeState
trigger1 = Pos Y >= -5 && vel y>0
value = 805
ctrl=0

[State 9001,ChangeState]
type = SelfState
trigger1 = Pos Y >= -5 && Vel Y > 0;-25
value = 5100
;------------------------------------------------------------------------
;------------------------------------------------------------------------
;裂千掌（投げ）やられ3 8fme
[Statedef 805]
type = L
movetype = H
physics = N
ctrl = 0
sprpriority = 0
velset=0,0

[State 802]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 9001,VelAdd]
type = posset
trigger1 = time=0
y = 0

[State 9001,VelAdd]
type = null;posfreeze
trigger1 = animelem=1,>=0 && animelem=2,<0
value=1

[State 800]
type = changeanim2
trigger1 = time = 0
value = 805


[State 9001,VelAdd]
type = Velset
trigger1 = animelem=2,=0
x =-1
y = -4.8

[State 9001,VelAdd]
type = VelAdd
trigger1 = animelem=2,>=0
y = .52

[State 9001,ChangeState];8fme
type = changeState
trigger1 = Pos Y >= -5 && Vel Y > 0
value = 806

;--------------------------------
;--------------------------------
;裂千掌（投げ）やられ4 22fme
[Statedef 806]
type = L
movetype = H
physics = C
ctrl = 0
sprpriority = 0
velset=0,0

;-------------------------画面揺れ
[State 800]
type = envshake
trigger1 = time=0
time = 12
freq = 80
ampl = 6

[State 800]
type = changeanim2
trigger1 = time = 0
value = 806

[State 821]
type = posset
trigger1 = time=0
y = 0


[State 821]
type = selfState
trigger1 = animtime=0
trigger1 = alive=1
value=5120
ctrl = 0 

[State 821]
type = selfState
trigger1 = animtime=0
trigger1 = alive=0
value=5150
ctrl = 0 
;----------------------------------------------------------
;----------------------------------------------------------
;避け攻撃
[StateDef 900]
type = S
movetype = A
physics = S
ctrl = 0
anim = 900
sprpriority = 1
velset=0

[State 200]
type = varset
trigger1 = Time = 0
v=0
value=0

[State 200]
type = velset
trigger1 = prevstateno = [100,101]
trigger1 = time = 0
x=0

[State 200]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 220, 2]
type = HitDef
ID=900
trigger1 = AnimElem = 6 && !var(16)
attr = S, NA
animtype  = Hard
damage = ceil((73*fvar(2))*fvar(3)), 0
hitflag = MA
guardflag = M
pausetime = 15,15
guard.pausetime = 14,14
sparkno = S7010
guard.sparkno = S8010
getpower = 250,100
givepower = 0,50
sparkxy = -17, -40
hitsound   = S2, 9
guardsound = S3, 1
ground.type = high
ground.slidetime = 25
guard.slidetime = 20
ground.hittime  = 24;+-0
guard.ctrltime = 18;-6
air.hittime = 9999999
air.hittime = 9999999
airguard.ctrltime = 9999999
ground.velocity = -8
air.velocity = -2,-5.5
ground.cornerpush.veloff = 0;-13
guard.cornerpush.veloff = ifelse(fvar(14)=0 && facing=enemynear,facing,-4,0);
air.cornerpush.veloff = 0;-13
p2facing=1
yaccel=.43
;forcestand=1

;-------------------------------
[State 1400, 2];画面端ノックバック
type = Varset
triggerall = numtarget(900)
triggerall = movecontact=1
triggerall = target,statetype!=A
triggerall = target,movetype=H
trigger1 = target,backedgebodydist <= 5;0
fv=14
value=-4.2;-1.8
ignorehitpause=1
persistent=0
;---------------------------------

[State 200]
type = PlaySnd
trigger1 = movecontact=0
trigger1 = animelem=6,=1
value = 1, 5

[State 260]
type = PlaySnd
trigger1 = Time = 0
value = 0,5

[State 260]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
Ctrl = 1

;-------------------------------------------------------------
;-------------------------------------------------------------
;怒顔砲・フェイント
[Statedef 2100]
type = S
movetype = A
anim = 2100
physics = S
ctrl = 0
FaceP2=1
sprpriority = 1
velset=0

[State 1000]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 1000]
type = AfterImage
trigger1 = prevstateno = 2500
trigger1 = time = 0
time = 15
palbright = 0,0,155
palcontrast = 100,150,250
paladd = -50,-50,-50
palmul = 1.0,1.0,1.0
length = 10
framegap = 6
persistent = 0
ignorehitpause = 1

[State 2000]
type = PlaySnd
trigger1 = Time = 0
value = 3100, 0
channel = 0

[State 2000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------
;旋風剛拳・フェイント
[Statedef 2200]
type = S
movetype = A
anim = 2200
physics = S
ctrl = 0
FaceP2=1
sprpriority = 1
velset=0

[State 1000]
type = NotHitBy
trigger1 = prevstateno = 2500
trigger1 = time <= 1
value = SCA,AA,AP

[State 1000]
type = AfterImage
trigger1 = prevstateno = 2500
trigger1 = time = 0
time = 15
palbright = 0,0,155
palcontrast = 100,150,250
paladd = -50,-50,-50
palmul = 1.0,1.0,1.0
length = 10
framegap = 6
persistent = 0
ignorehitpause = 1

[State 2000]
type = PlaySnd
trigger1 = Time = 0
value = 2200, 0
channel = 0

[State 2000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------

;空中振り向き

[Statedef 2000]
type = A
movetype = I
physics = A
anim = 2000
ctrl = 0

[State 2000]
type = Turn
trigger1 = Time = 0

[State 2000]
type = Veladd
trigger1 = Time > 1
trigger1 = Vel X < 0
x = .005;.03

[State 2000]
type = CtrlSet
trigger1 = AnimElem = 4
value = 1
;---------------------------------------------------------------------------
;-----------------------------------------------------------
;-----------------------------------------------------------
;テクニカルライズ
[Statedef 2300]
type = S
anim = 2300
physics = S
ctrl = 0

[State 1000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2300]
type = turn
trigger1 = TeamMode =single || TeamMode =turns
trigger1 = facing=enemynear,facing
persistent=0

[State 2300]
type = ChangeState
trigger1 = AnimTime = 0
value = 2310
;---------------------------------------------
;テクニカルライズ移動
[Statedef 2310]
type = A
anim = 2310
physics = N
ctrl = 0
velset=-6,-3

[State 1000]
type = NotHitBy
trigger1 = time<=5
value = SCA

[State 2300]
type = posset
trigger1 = time = 0
y=0

[State 2300]
type = PlaySnd
trigger1 = Time = 0
value = 1, 4


[State 2300]
type = Veladd
trigger1 = 1
y = .65

[State 2300]
type = ChangeState
trigger1 = time>=5
trigger1 = vel y>0 && pos y>=0
value = 2320
;-------------------------------------------
;テクニカルライズ硬直
[Statedef 2320]
type    = S
physics = S
ctrl = 0
anim = 2320

[State 2300]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 2300]
type = PlaySnd
trigger1 = Time = 0
value = 1, 2

[State 2300]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2300]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------
;-----------------------------------------------------------
;------------------
;クイックアプローチ
[Statedef 2500]
type = S
movetype = I
anim = 2500
ctrl = 0

[State 2000]
type = PlaySnd
trigger1 = animelem=2,=0
value = 1, 3

[State 2000]
type = null;PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 2500]
type = NotHitby
trigger1 = 1
Value = ,AA,AP
ignorehitpause=1

[State 2000]
type = Velset
trigger1 = animelem=2,=0
x = 3

[State 2000]
type = Velset
trigger1 = Time = 12
x = 0

[State 2500]
type = ReversalDef
trigger1 = animelem=2,>=0 && animelem=3,<0
reversal.attr = SCA, AA
numhits = 0
pausetime = 12,8
sparkno = S8020
sparkxy = 20, 0
hitsound = S3,0
id = 2500

[State 2500]
type = AfterImage
trigger1 = Time = 1
time = 15
timegap  = 1
framgap = 4
trans = none
length = 12
palbright = 0,0,155
palcontrast = 100,150,250
paladd = -50,-50,-50
palmul = 1,1,1
ignorehitpause = 1

[State 2500]
type = Palfx 
trigger1 = NumHelper(10003) 
trigger2 = NumHelper(10004)
time = 3
color = 8
mul = 60,80,220
add = 20,110,230
sinadd = 10,10,10
ignorehitpause = 1

[State 2500]
type = EnvColor
trigger1 = NumHelper(10003) 
trigger2 = NumHelper(10004)
value = 200,200,255
time = 1
ignorehitpause = 1
under = 1

[State 2000]
type = Helper
trigger1 = Time = 0
name = "approach"
ID = 10000
pos = 0,0
postype = p1
sprpriority = -3
stateno = 10000
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 2000]
type = Helper
triggerall = !NumHelper(10003)
trigger1 = var(39) = 0
trigger1 = movehit && NumTarget
trigger1 = Target,GetHitVar(chainid) = 2500
name = "approach2"
ID = 10003
pos = 0,0
postype = p1
sprpriority = -3
stateno = 10003
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 2000]
type = Helper
triggerall = !NumHelper(10004)
trigger1 = var(40) = 0
trigger1 = helper(10000),stateno = 10001
name = "approach3"
ID = 10004
pos = 0,0
postype = p1
sprpriority = -3
stateno = 10004
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 2000]
type = VarSet
trigger1 = var(39) = 1
var(39) = 0

[State 2000]
type = ChangeState
triggerall = Time >= 10
trigger1 = command = "holdback" || command = "holddown"
value = 101

[State 2000]
type = ChangeState
triggerall = Time >= 10
trigger1 = command = "holdup"
value = 40

[State 2000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------

[Statedef 10000]
type = S
movetype = I
anim = 10000
ctrl = 0

[State 2500]
type = NotHitby
trigger1 = 1
value = ,AA,AT

[State 2500]
type = HitOverride
trigger1 = 1
slot = 1
attr = SCA,AP
stateno = 10001

[State 2000]
type = BindToParent
trigger1 = 1
time = -1

[State 2000]
type = Destroyself
trigger1 = parent,stateno != 2500

[Statedef 10001]
type = S
movetype = I
anim = 10000
ctrl = 0

[State 2500]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1

[State 2500]
type = NotHitby
trigger1 = 1
value = ,AA,AT

[State 2500]
type = HitOverride
trigger1 = 1
slot = 1
attr = SCA,AP
stateno = 10002

[State 1250]
type = Explod
trigger1 = Time = 0
trigger1 = !numexplod(8020)
anim = 8020
ID = 8020
postype = p1
pos = 10,-60
sprpriority = 3
ignorehitpause = 1

[State 2500]
type = Palfx 
trigger1 = Time = 0
time = 3
color = 8
mul = 60,80,220
add = 20,110,230
sinadd = 10,10,10
ignorehitpause = 1

[State 2500]
type = EnvColor
trigger1 = Time = 0
value = 200,200,255
time = 1
ignorehitpause = 1
under = 1

[State 2000]
type = BindToParent
trigger1 = 1
time = -1

[State 2000]
type = Destroyself
trigger1 = parent,stateno != 2500

[Statedef 10002]
type = S
movetype = I
anim = 10000
ctrl = 0

[State 2500]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1

[State 2500]
type = NotHitby
trigger1 = 1
value = ,AA,AT

[State 2500]
type = HitOverride
trigger1 = 1
slot = 1
attr = SCA,AP
stateno = 10001

[State 2500]
type = Explod
trigger1 = Time = 0
trigger1 = !numexplod(8020)
anim = 8020
ID = 8020
postype = p1
pos = 10,-60
sprpriority = 3
ignorehitpause = 1

[State 2500]
type = Palfx 
trigger1 = Time = 0
time = 3
color = 8
mul = 60,80,220
add = 20,110,230
sinadd = 10,10,10
ignorehitpause = 1

[State 2500]
type = EnvColor
trigger1 = Time = 0
value = 200,200,255
time = 1
ignorehitpause = 1
under = 1

[State 2000]
type = BindToParent
trigger1 = 1
time = -1

[State 2000]
type = Destroyself
trigger1 = parent,stateno != 2500

[Statedef 10003]
type = S
movetype = I
anim = 9999
ctrl = 0

[State 2000]
type = ParentVarSet
trigger1 = time = 1
trigger1 = parent,var(39) = 0
var(39) = 1

[State 2000]
type = Destroyself
trigger1 = time = 1
trigger2 = parent,stateno != 2500

[Statedef 10004]
type = S
movetype = I
anim = 9999
ctrl = 0

[State 2000]
type = ParentVarSet
trigger1 = time = 1
trigger1 = parent,var(40) = 0
var(40) = 1

[State 2000]
type = Destroyself
trigger1 = time = 1
trigger2 = parent,stateno != 2500

;--------------------------------------------------------------------------------
;----------------------------------------------------------------------------
;ゲージ
[Statedef 8500]
type = A
ctrl = 0
anim = 8500
velset = 0,0
movetype = I
physics = N
sprpriority = 10

[State 8500]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 8500]
type = null;posset
trigger1 = 1
y = pos y - screenpos y +50

[State 8500]
type = null;Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

;----------------------------空ゲージ
[State 8500]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(8501) = 0
trigger1 = root,var(45) = 0
trigger2 = root,var(45) = 3
anim = 8501
id = 8501
postype = left
bindtime = -1
Pos = 51,ceil((Gameheight/100)*95);51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(8501) = 0
trigger1 = root,var(45) = 0
trigger2 = root,var(45) = 3
anim = 8501
id = 8501
postype = right
bindtime = -1
Pos = -51,ceil((Gameheight/100)*95);-51,230
sprpriority = 98
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[State 8500]
type = removeExplod
trigger1 = root,var(45) = [1,2]
id = 8501
;---------------------------------------HPower
[State 8500];1p
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(45) = 1
trigger1 = numexplod(8503) = 0
anim = 8503
id = 8503
postype = left
bindtime = -1
Pos = 51,ceil((Gameheight/100)*95);51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[State 8500];2p
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(45) = 1
trigger1 = numexplod(8503) = 0
anim = 8504
id = 8503
postype = right
bindtime = -1
Pos = -51,ceil((Gameheight/100)*95);-51,230
sprpriority = 98
removetime = -1
ownpal = 1
facing = 1
ontop = 1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 1
id = 8503
;------------------------------------------------SPower
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(45) = 2
trigger1 = numexplod(8506) = 0
trigger1 = root,var(47) = 0
anim = 8506
id = 8506
postype = left
bindtime = -1
Pos = 51,ceil((Gameheight/100)*95);51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(45) = 2
trigger1 = numexplod(8506) = 0
trigger1 = root,var(47) = 0
anim = 8506
id = 8506
postype = right
bindtime = -1
Pos = -51,ceil((Gameheight/100)*95);-51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1
facing = 1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 2
trigger2 = root,var(47) = 1
id = 8506
;--------------------------------------------PPower
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(45) = 2
trigger1 = numexplod(8508) = 0
trigger1 = root,var(47) = 1
anim = 8508
id = 8508
postype = left
bindtime = -1
Pos = 51,ceil((Gameheight/100)*95);51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(45) = 2
trigger1 = numexplod(8508) = 0
trigger1 = root,var(47) = 1
anim = 8508
id = 8508
postype = right
bindtime = -1
Pos = -51,ceil((Gameheight/100)*95);-51,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1
facing = 1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 2
trigger2 = root,var(47) = 0
id = 8508
;---------------------------------------青ゲージ
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = numexplod(8502) = 0
trigger1 = root,var(45) = 0
anim = 8502
id = 8502
postype = left
bindtime = -1
Pos = 21,ceil((Gameheight/100)*95);21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = numexplod(8502) = 0
trigger1 = root,var(45) = 0
anim = 8502
id = 8502
postype = right
bindtime = -1
Pos = -21,ceil((Gameheight/100)*95);-21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1
facing = -1

[State 8500]
type = ModifyExplod
trigger1 = 1
ID = 8502
scale = power * 0.0003334,1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 0
id = 8502
;---------------------------------------------赤ゲージ
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = numexplod(8505) = 0
trigger1 = root,var(45) = 1
anim = 8505
id = 8505
postype = left
bindtime = -1
Pos = 21,ceil((Gameheight/100)*95);21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = numexplod(8505) = 0
trigger1 = root,var(45) = 1
anim = 8505
id = 8505
postype = right
bindtime = -1
Pos = -21,ceil((Gameheight/100)*95);-21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1
facing = -1

[State 8500]
type = ModifyExplod
trigger1 = 1
ID = 8505
scale = power * 0.0003334,1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 1
id = 8505
;-------------------------------------------------点滅ゲージ
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = numexplod(8507) = 0
trigger1 = root,var(45) = 2
anim = 8507
id = 8507
postype = left
bindtime = -1
Pos = 21,ceil((Gameheight/100)*95);21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = numexplod(8507) = 0
trigger1 = root,var(45) = 2
anim = 8507
id = 8507
postype = right
bindtime = -1
Pos = -21,ceil((Gameheight/100)*95);-21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1
facing = -1

[State 8500]
type = ModifyExplod
trigger1 = 1
ID = 8507
scale = root,var(46) * 0.001042,1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 2
id = 8507
;------------------------------------------
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = numexplod(8509) = 0
trigger1 = root,var(45) = 3
anim = 8502
id = 8509
postype = left
bindtime = -1
Pos = 21,ceil((Gameheight/100)*95);21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = numexplod(8509) = 0
trigger1 = root,var(45) = 3
anim = 8502
id = 8509
postype = right
bindtime = -1
Pos = -21,ceil((Gameheight/100)*95);-21,230
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1
facing = -1

[State 8500]
type = ModifyExplod
trigger1 = root,var(46) <= 0
ID = 8509
scale = power * 0.0003334,1

[State 8500]
type = ModifyExplod
trigger1 = root,var(46) > 0
ID = 8509
scale = root,var(46) * 0.001042,1

[State 8500]
type = removeExplod
trigger1 = root,var(45) != 3
id = 8509
;------------------------------------------------体力半分表示
[State 8500]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(47) = 1
trigger1 = numexplod(8510) = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
Pos = 9,ceil((Gameheight/100)*95);9,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[State 8500]
type = removeExplod
trigger1 = root,var(47) = 0
id = 8510

[State 8500]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(47) = 1
trigger1 = numexplod(8510) = 0
anim = 8510
id = 8510
postype = right
bindtime = -1
Pos = -9,ceil((Gameheight/100)*95);-9,230
sprpriority = 98
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[State 8500]
type = removeExplod
trigger1 = root,var(47) = 0
id = 8510
;----------------------------------------------------------------------------------
;----------------------------------------------------------------------------------

;----------------------------------------------------------------------------
;リバーサル

[Statedef 8550]
type = A
ctrl = 0
anim = 8550
velset = 15,0
movetype = A
physics = N
sprpriority = 9

[State 8550]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 8550]
type = posset
trigger1 = 1
y = pos y - screenpos y +80

[State 8550]
type = posset
trigger1 = time <= 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -220 + time*10

[State 8550]
type = posset
trigger1 = time <= 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 200 - time*10

[State 8550]
type = posset
trigger1 = time > 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -120

[State 8550]
type = posset
trigger1 = time > 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 100

[State 8550]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 8550]
type = destroyself
trigger1 = time = 45

;----------------------------------------------------------------------------
;ブレイクショット

[Statedef 8600]
type = A
ctrl = 0
anim = 8600
velset = 15,0
movetype = A
physics = N
sprpriority = 9

[State 8600]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 8600]
type = posset
trigger1 = 1
y = pos y - screenpos y +80

[State 8600]
type = posset
trigger1 = time <= 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -220 + time*10

[State 8600]
type = posset
trigger1 = time <= 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 200 - time*10

[State 8600]
type = posset
trigger1 = time > 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -120

[State 8600]
type = posset
trigger1 = time > 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 100

[State 8600]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 8600]
type = destroyself
trigger1 = time = 45

;----------------------------------------------------------------------------
;潜在能力

[Statedef 8650]
type = A
ctrl = 0
anim = 8650
velset = 15,0
movetype = A
physics = N
sprpriority = 99

[State 8650]
type = AssertSpecial
trigger1= 1
flag = noshadow

[State 8650]
type = posset
trigger1 = 1
y = pos y - screenpos y +80

[State 8650]
type = posset
trigger1 = time <= 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -220 + time*10

[State 8650]
type = posset
trigger1 = time <= 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 200 - time*10

[State 8650]
type = posset
trigger1 = time > 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -120

[State 8650]
type = posset
trigger1 = time > 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 100

[State 8650]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 8650]
type = destroyself
trigger1 = time = ifelse(ishelper(8650),60,60)
;-----------------------------------------------------
;----------------------------------------------------
;power
[Statedef 8651]
type = A
ctrl = 0
anim = 8651
velset = 0,0
movetype = A
physics = N
sprpriority = 99

[State 8650]
type = AssertSpecial
trigger1= 1
flag = noshadow

[State 8650]
type = velset
trigger1 = time=0
trigger1 = teamside=1
x=6

[State 8650]
type = velset
trigger1 = time=0
trigger1 = teamside=2
x=-6

[State 8650]
type = null;velset
trigger1 = time=24
x=0

[State 8650]
type = posset
trigger1 = time>=17
trigger1 = teamside=1
x=-113

[State 8650]
type = posset
trigger1 = time>=17
trigger1 = teamside=2
x=120

[State 8650]
type = posset
trigger1 = 1
y = pos y - screenpos y +80

[State 8650]
type = null;posset
trigger1 = time <= 10
trigger1 = teamside=1;root,facing = 1
x = -220 + time*10
;-220

[State 8650]
type = null;posset
trigger1 = time <= 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 200 - time*10
;200

[State 8650]
type = null;posset
trigger1 = time > 10
trigger1 = teamside=1
;trigger1 = root,facing = 1
x = -120

[State 8650]
type = null;posset
trigger1 = time > 10
trigger1 = teamside=2
;trigger1 = root,facing = -1
x = 100

[State 8650]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 8650]
type = destroyself
trigger1 = time = ifelse(ishelper(8650),60,60)
;----------------------------------------------------
;ファイナルインパクト "FINAL"
[Statedef 8800]
type = A
ctrl = 0
anim = 8500
movetype = I
physics = N
sprpriority = -7

[State 8650]
type = AssertSpecial
trigger1= 1
flag = noshadow

[State 8800];FINAL黒
type = Explod
trigger1 = time = 0
anim = 8800
sprpriority = -7
pos = 0,0
postype = p1
supermove = 1
bindtime = -1
pausemovetime = 61
supermove = 1
ignorehitpause = 1
removeongethit=1
under = 0

[State 8800];FINAL白
type = Explod
trigger1 = time = 0
anim = 8801
id = 8801
sprpriority = -6
pos = 0,3
postype = p1
pausemovetime = 61
supermove = 1
bindtime = -1
supermove = 1
ignorehitpause = 1
under = 0
removeongethit = 1
scale=1.5,1.5

[State 8800]
type = VarSet
trigger1 = Time = 0
fvar(5) = 0

[State 8800]
type = VarAdd
trigger1 = Time > 13 && time <32
fvar(5) = 0.0285;.05

[State 8800]
type = VarSet
trigger1 = Time = 41
fvar(5) = .5

[State 8800]
type = ModifyExplod
trigger1 = Time >= 13 && time<=31
ID = 8801
scale = 1.5-fvar(5) , 1.5-fvar(5)

[State 8800]
type = DestroySelf
trigger1 = time = 61
trigger2 = root,movetype=H
;-------------------------------------
;-------------------------------------
;ファイナルインパクト"impact"
[Statedef 8850]
type = A
ctrl = 0
anim = 8802
velset = 0,0
movetype = I
physics = N
sprpriority = -7

[State 8800]
type = PlaySnd
trigger1 = time = 36
value = 4000,1

[State 8800]
type = PosSet
trigger1 = time = 23
x = 248

[State 8800];左に進む
type = PosAdd
trigger1 = time >= 24 && time <=40
x = -15;-15

[State 8800];左へぶれる;８回左右繰り返す
type = Posadd
trigger1 = time = 41
x = -20

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 42
x = 20

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 43
x = -20

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 44
x = 20

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 45
x = -20

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 46
x = 20

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 47
x = -15

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 48
x = 15

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 49
x = -10

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 50
x = 10

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 51
x = -5

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 52
x = 5

[State 8800];左へぶれる
type = Posadd
trigger1 = time = 53
x = -3

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 54
x = 3


[State 8800];左へぶれる
type = Posadd
trigger1 = time = 55
x = -1

[State 8800];右へぶれる
type = Posadd
trigger1 = time = 56
x = 1

[State 8800]
type = DestroySelf
trigger1 = time = 61
trigger2 = root,movetype=H
;----------------------------------------------------------------------------
;----------------------------------------------------------------------------

;----------------------------------------------------------------------------
;----------------------------------------------------------------------------
;モードセレクト
[Statedef 9100]
type = S
anim = 9150+random%2
movetype = I
physics = N
sprpriority = 99
ctrl = 0

[State 9100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 9100]
type = turn
trigger1 = facing = -1

[State 9100]
type = ParentVarSet
trigger1 = var(1) = 0
var(2) = 0

[State 9100]
type = ParentVarSet
trigger1 = var(1) = 1
var(2) = 1

[State 9100]
type = RemoveExplod
trigger1 = Anim != 9150
ignorehitpause = 0
id = 9100

[State 9100]
type = RemoveExplod
trigger1 = Anim != 9151
ignorehitpause = 0
id = 9101

[State 9100]
type = Explod
trigger1 = var(1) = 1
trigger1 = numexplod(9101)=0
anim = 9101
id = 9101
postype = p1
bindtime = -1
pos = 0,0
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 9100]
type = Explod
trigger1 = var(1) = 0
trigger1 = numexplod(9100)=0
anim = 9100
id = 9100
postype = p1
bindtime = -1
pos = 0,0
sprpriority = 99
removetime = -1
ownpal = 1
ontop = 1

[State 9100]
type = VarSet
trigger1 = Anim = 9151
var(1) = 1

[State 9100]
type = VarSet
trigger1 = Anim = 9150
var(1) = 0

[State 9100]
type = ChangeAnim
triggerall = Anim = 9150
triggerall = var(1) = 0
trigger1 = command = "fwd"
trigger2 = command = "back"
trigger3 = command = "up"
trigger4 = command = "down"
value = 9151

[State 9100]
type = ChangeAnim
triggerall = Anim = 9151
triggerall = var(1) = 1
trigger1 = command = "fwd"
trigger2 = command = "back"
trigger3 = command = "up"
trigger4 = command = "down"
value = 9150

[State 9100]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
trigger3 = command = "up"
trigger4 = command = "down"
value = 9100, 1

[State 9100]
type = ChangeState
trigger1 = command = "start"
trigger2 = command = "a"
trigger3 = command = "b"
trigger4 = command = "c"
trigger5 = command = "x"
trigger6 = command = "y"
trigger7 = command = "z"
trigger8 = RoundState = 2
value = 9102

;----------------------------------------------------------------------------
[Statedef 9102]
type = S
anim = 9999
movetype = I
physics = N
sprpriority = 11
ctrl = 0

[State 9100]
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 0
id = 9100

[State 9100]
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 0
id = 9101

[State 9100]
type = PlaySnd
trigger1 = Time = 0
value = 9100, 2

[State 9100]
type = ParentVarSet
trigger1 = var(1) = 0
var(2) = 0

[State 9100]
type = ParentVarSet
trigger1 = var(1) = 1
var(2) = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;AI用ヘルパー
[Statedef 20000]
anim = 9999
ctrl = 0

[State 20000]
type=selfstate
trigger1=!ishelper
value=0

[State 20000]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 20000]
Type = DestroySelf
triggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
trigger2=command="up"&&root,command="up"
trigger3=command="down"&&root,command="down"
trigger4=command="back"&&root,command="back"
trigger5=command="fwd"&&root,command="fwd"
trigger6=command="a"&&root,command="a"
trigger7=command="b"&&root,command="b"
trigger8=command="c"&&root,command="c"
trigger9=command="x"&&root,command="x"
trigger10=command="y"&&root,command="y"
trigger11=command="z"&&root,command="z"
trigger12=command="start"&&root,command="start"

[State 20000]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1

;---------------------------------------------------------------------------

;===========================================================================
; 常時監視ステート（−２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000〜5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------



[Statedef -2]

[State 1000];投げの時のダウンエフェクト
type = explod
triggerall = numtarget(800) || numtarget(1950)
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=[805,806]
triggerall = target,pos y >=0
trigger1 = target,time=1
trigger1 = numexplod(6500)=0
anim=6500
id=6500
postype=p2
pos=0,0
bindtime=1
ignorehitpause=1
removetime=-2
ownpal = 1
removeongethit = 0
sprpriority=3
;persistant=0

[State 1000, 0];投げ時のダウンの音
type = PlaySnd
triggerall = numtarget(800) || numtarget(1950)
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=[805,806]
triggerall = target,pos y >=0
trigger1 = target,time=1
value = S2,3
channel=-1
ignorehitpause=1
;----------------------------------------------------------
;var(57)~(58)KOボイス用

[State -2]
type = PlaySnd
trigger1 = Alive = 0
trigger1 = var(58) = 0
trigger1 = var(57) = 0
ignorehitpause = 1
value = 11,1

[State -2]
type = PlaySnd
trigger1 = Alive = 0
trigger1 = var(58)
trigger1 = var(57) = 0
ignorehitpause = 1
value = 11,2

[State -2]
type = varset
trigger1 = Alive = 0
ignorehitpause = 1
v = 57
value = 1

[State -2]
type = Varset
trigger1 = Alive = 1
ignorehitpause = 1
v = 57
value = 0

[State -2]
type = varset
triggerall = var(58) = 0
trigger1 = Lose
var(58) = 1

[State -2]
type = varset
triggerall = var(58) = 0
trigger1 = Win
trigger1 = TeamMode = turns
var(58) = 2
;----------タッグの時自分のゲージがＭＡＸ時ゲージが空になったら自分のゲージを空にする
[State 3201];
type = varset
trigger1 = teammode=simul
trigger1 = power=0
trigger1 = var(45)=1 ||var(45)=2
var(45) = 3

;---------------------------------------
[State -2, VarSet];溜め時間クリア
type = VarSet
trigger1 = !alive
trigger2 = roundstate=3
trigger3 =command !="holdback" || command !="holddown" 
trigger3 = var(23)>=1 && time>=15;20
trigger3 = movecontact>=1
trigger4 =command !="holdback" || command !="holddown"
trigger4 = var(23)>=1 && time>=15
trigger4 = numtarget=0
v=23
value=0
;ignorehitpause=1


[State -2, VarSet];溜め時間
type = VarSet
trigger1 = alive
trigger1 = command="holdback" && command="holddown"
v=23
value=var(23)+1
ignorehitpause=1

;---------------------------------------

[State -2];画面端つっかかり
type = null;Helper
trigger1 = numhelper(30000) = 0
id = 30000
name = "hashi"
sprpriority = 5
pos = 0,0;-25,5
postype = p1
stateno = 30000
helpertype = normal
keyctrl = 0 
ownpal = 1
sprpriority=10
;-----------------------------分身けし
[State 1000]
type = AfterImagetime
trigger1 = movetype=H
time = 1

;-----------------------------飛び道具系ヒットガードエフェクト
[State -2, 0];地面激突エフェクト
type = Explod
;triggerall = TeamMode =single || TeamMode =turns
triggerall = numtarget
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=1332
triggerall = target,pos y >=0
;triggerall = numexplod(6500)=0
trigger1 = numtarget(302) || numtarget(303) || numtarget(3205)
trigger1 = target,time=1
anim = 6500
ID = 6500
pos = ceil(target,pos x-pos x)*facing,ceil(target,pos y-pos y)+3
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];地面激突エフェクト小
type = Explod
;triggerall = TeamMode =single || TeamMode =turns
triggerall = numtarget
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=1332
triggerall = target,pos y >=0
;triggerall = numexplod(7092)=0
trigger1 = numtarget(302) || numtarget(303) || numtarget(3205)
trigger1 = target,time=1
trigger2 = target,time=9
trigger3 = target,time=17
anim = 7085
ID = 7085
pos = ceil(target,pos x-pos x)*facing,ceil(target,pos y-pos y)+3
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];激突のダウンの音
type = PlaySnd
triggerall = numtarget(302) || numtarget(303) || numtarget(3205)
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=1332
triggerall = target,pos y >=0
trigger1 = target,time=1
value = S2,3
channel=-1
ignorehitpause=1

[State 1000, 0];激突のダウンの音
type = PlaySnd
triggerall = numtarget(302) || numtarget(303) || numtarget(3205)
triggerall = target,statetype=L
triggerall = target,movetype=H
triggerall = target,stateno=1332
triggerall = target,pos y >=0
trigger1 = target,time=3
value = S1,38
channel=-1
ignorehitpause=1

[State -2, 0];3段目打ち上げヒットエフェクト
type = Explod
trigger1 = numtarget(309)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=15
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7061
ID = 7061
pos = -10,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];衝波RB2ヒットエフェクト
type = Explod
trigger1 = numtarget(1200)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=13
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7090
ID = 7090
pos = -10,0
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];衝波RB2ガードエフェクト
type = Explod
trigger1 = numtarget(1200)
trigger1 = moveguarded=1 && target,gethitvar(hitshaketime)=12
trigger1 = target,movetype=H
trigger1 = target,stateno =[120,159]
anim = 8020
ID = 8020
pos = 0,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent=0

[State 1000, 0];衝波RB2ヒット音
type =playsnd
trigger1 = numtarget(1200)
trigger1 = target,stateno=[5000,5071]
trigger1 = target,movetype=H
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=13
value=S2,5
channel=-1
ignorehitpause=1

[State -2, 0];大衝波ヒットエフェクト
type = Explod
trigger1 = numtarget(1300)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=13
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7090
ID = 7090
pos = -10,0
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];大衝波ガードエフェクト
type = Explod
trigger1 = numtarget(1300)
trigger1 = moveguarded=1 && target,gethitvar(hitshaketime)=12
trigger1 = target,movetype=H
trigger1 = target,stateno =[120,159]
anim = 8020
ID = 8020
pos = 0,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent=0

[State 1000, 0];大衝波ヒット音
type =playsnd
trigger1 = numtarget(1300)
trigger1 = target,stateno=[5000,5071]
trigger1 = target,movetype=H
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=13
value=S2,5
channel=-1
volume=255
ignorehitpause=1

[State -2, 0];衝波SPヒットエフェクト
type = Explod
trigger1 = numtarget(1900)
trigger1 = movehit && target,GetHitVar(HitShakeTime)=11
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7090
ID = 7090
pos = -10,0
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];怒顔ヒット
type =Explod
trigger1 = numtarget
trigger1 = target,stateno=[5000,5071]
trigger1 = target,movetype=H
trigger1 = projhit1400 = 1
anim = 7090
ID = 7090
pos = 0,-20
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, 0];SP潜在ヒットエフェクト1
type = Explod
trigger1 = numtarget(3200)
trigger1 = movehit && hitpausetime=5
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7090
ID = 7090
pos = -10,0
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];SP潜在ヒットエフェクト2
type = Explod
trigger1 = numtarget(3201)
trigger1 = movehit && hitpausetime=6
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7090
ID = 7090
pos = -10,0
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State -2, 0];ガードエフェクト
type = Explod
trigger1 = numtarget(1400)
trigger1 = projguarded1400=1; && target,shaketime=8
trigger1 = target,movetype=H
trigger1 = target,stateno =[120,159]
anim = 8020
ID = 8020
pos = 0,-85
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent=0

;----------------------------------------------
;弱箭疾歩ヒットエフェクト
[State 1200, 0]
type =Explod
triggerall = numtarget(1000)
triggerall = target,movetype=H
triggerall = target,stateno=[5000,5081]
trigger1 = movehit = 1
trigger1 = hitpausetime=16
anim = 7020
ID = 7020
pos = -5,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;persistent = 0

[State 1000, 0];弱箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=1
triggerall = numtarget(1000)
trigger1 = movehit && hitpausetime=16
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(target,pos x-pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];弱箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=-1
triggerall = numtarget(1000)
trigger1 = movehit && hitpausetime=16
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(pos x-target,pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;------------------------
;強箭疾歩ヒットエフェクト
[State 1200, 0]
type =Explod
triggerall = numtarget(1100)
triggerall = target,movetype=H
triggerall = target,stateno=[5000,5081]
trigger1 = movehit = 1
trigger1 = hitpausetime=18
anim = 7020
ID = 7020
pos = -5,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;persistent = 0

[State 1000, 0];強箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=1
triggerall = numtarget(1100)
trigger1 = movehit && hitpausetime=18
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(target,pos x-pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];強箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=-1
triggerall = numtarget(1100)
trigger1 = movehit && hitpausetime=18
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(pos x-target,pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;-----------------------
;ハラショー箭疾歩ヒットエフェクト
[State 1200, 0]
type =Explod
triggerall = numtarget(1701)
triggerall = target,movetype=H
triggerall = target,stateno=[5000,5081]
trigger1 = movehit = 1
trigger1 = hitpausetime=4
anim = 7020
ID = 7020
pos = -5,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;persistent = 0

[State 1000, 0];ハラショー箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=1
triggerall = numtarget(1701)
trigger1 = movehit && hitpausetime=4
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(target,pos x-pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];ハラショー箭疾歩ヒットエフェクト2後ろに出るやつ
type = Explod
trigger1 = facing=-1
triggerall = numtarget(1701)
trigger1 = movehit && hitpausetime=4
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno !=[5030,5071]
anim = 7030
ID = 7030
pos = ceil(pos x-target,pos x)+25,-45
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];大撃放 RB2ヒットエフェクト1
type = Explod
trigger1 = numtarget(3100)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=10
trigger1 = target,movetype=H
trigger1 = (target,stateno =[5000,5071]) || (target,stateno =[1330,1331])
anim = 7020
ID = 7020
pos = -15,-45
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];大撃放 RB2ヒットエフェクト2
type = Explod
trigger1 = numtarget(3101)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=9
trigger1 = target,movetype=H
trigger1 = (target,stateno =[5000,5071]) || (target,stateno =[1330,1331])
anim = 7020
ID = 7020
pos = -15,-45
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];大撃放 RB2ヒットエフェクト3
type = Explod
trigger1 = numtarget(3102) || numtarget(3103)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=17
trigger1 = target,movetype=H
trigger1 = (target,stateno =[5000,5071]) || (target,stateno =[1330,1331])
anim = 7020
ID = 7020
pos = -15,-45
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];大撃放 RB2ヒットエフェクト4
type = Explod
trigger1 = numtarget(3104)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=18
trigger1 = target,movetype=H
trigger1 = (target,stateno =[5000,5071]) || (target,stateno =[1330,1331])
anim = 7020
ID = 7020
pos = -15,-45
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1000, 0];大撃放 RB2ヒットエフェクト5
type = Explod
trigger1 = numtarget(3105)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=21
trigger1 = target,movetype=H
trigger1 = (target,stateno =[5000,5071]) || (target,stateno =[1330,1331])
anim = 7020
ID = 7020
pos = -15,-45
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];衝波SPガードエフェクト
type = Explod
trigger1 = numtarget(1900)
trigger1 = moveguarded=1 && target,gethitvar(hitshaketime)=12
trigger1 = target,movetype=H
trigger1 = target,stateno =[120,159]
anim = 8020
ID = 8020
pos = 10,-50
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent=0

[State 1000, 0];衝波SPヒット音
type =playsnd
trigger1 = numtarget(1900)
trigger1 = target,stateno=[5000,5071]
trigger1 = target,movetype=H
trigger1 = target,GetHitVar(HitShakeTime)=13
value=S2,5
channel=-1
ignorehitpause=1

[State -2, 0];昇天旋風掌ヒットエフェクト
type = Explod
trigger1 = numtarget(3401)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=2
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7130
ID = 7130
pos = -12,-70
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];昇天旋風掌ヒットエフェクト 後ろに出る奴
type = Explod
trigger1 = numtarget(3401)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=2
trigger1 = target,statetype!=A
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7140
ID = 7140
pos = -25,-70
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State -2, 0];箭疾歩SPヒットエフェクト
type = Explod
trigger1 = numtarget(1131)
trigger1 = movehit=1 && target,gethitvar(hitshaketime)=19
trigger1 = target,movetype=H
trigger1 = target,stateno =[5000,5071]
anim = 7060
ID = 7060
pos = -12,-48
postype = p2 ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 61
pausemovetime = 61
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
;-----------------------------音

;------------------------------------弾エフェクト消し
[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=680
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=681
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=682
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=683
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=684
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=685
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=686
trigger1 = stateno !=[620,630]

[State 1000, 0];RB2斜めジャンプCエフェクト消し
type = removeExplod
ID=687
trigger1 = stateno !=[620,630]
;--------------------------
[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=670
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=671
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=672
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=673
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=674
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=675
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=676
trigger1 = stateno !=640

[State 1000, 0];SP斜めジャンプCエフェクト消し
type = removeExplod
ID=677
trigger1 = stateno !=640

;---------------------
[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=370
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=371
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=372
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=373
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=374
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=375
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=376
trigger1 = stateno !=211

[State 1000, 0];遠Cエフェクト消し
type = removeExplod
ID=377
trigger1 = stateno !=211
;--------------------------------
[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=378
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=379
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=380
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=381
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=382
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=383
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=384
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=385
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=386
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=387
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=388
trigger1 = stateno !=302

[State 1000, 0];3段目立ちCエフェクト消し
type = removeExplod
ID=389
trigger1 = stateno !=302
;--------------
[State 1000, 0];2Cエフェクト消し
type = removeExplod
ID=490
trigger1 = stateno !=420

[State 1000, 0];2Cエフェクト消し
type = removeExplod
ID=491
trigger1 = stateno !=420

[State 1000, 0];2Cエフェクト消し
type = removeExplod
ID=492
trigger1 = stateno !=420

[State 1000, 0];2Cエフェクト消し
type = removeExplod
ID=493
trigger1 = stateno !=420

[State 1000, 0];2Cエフェクト消し
type = removeExplod
ID=494
trigger1 = stateno !=420
;-----------------------

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=780
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=781
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=782
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=783
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=784
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=785
trigger1 = stateno !=700

[State 1000, 0];ライン攻撃エフェクト消し
type = removeExplod
ID=786
trigger1 = stateno !=700
;-------------------------------
[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=390
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=391
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=392
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=393
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=394
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=395
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=396
trigger1 = stateno !=301

[State 1000, 0];3段目2Cエフェクト消し
type = removeExplod
ID=397
trigger1 = stateno !=301
;---------------------------------
[State 1000, 0];3AA6Cの6C奥エフェクト消し
type = removeExplod
ID=6008
trigger1 = stateno !=303

[State 1000, 0];3AA6Cの6C手前エフェクト消し
type = removeExplod
ID=6009
trigger1 = stateno !=303

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=316
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=317
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=318
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=319
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=320
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=321
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=322
trigger1 = stateno !=315

[State 1000, 0];4段目4Cエフェクト消し
type = removeExplod
ID=323
trigger1 = stateno !=315
;--------------------------------------
;--------------------------------------
; 相手リカバー 
[State -2, TargetState]
type = TargetState
triggerall = var(13)
triggerall = !playerid(var(14)),isHelper
triggerall = playerid(var(14)),Alive
trigger1 = playerid(var(14)),StateNo = 5035
trigger2 = playerid(var(14)),StateNo = 5050
trigger3 = numtarget(900) && playerid(var(14)),StateNo = 5030
trigger3 = target,statetype=A
trigger3 = target,movetype=H&& movetype!=H
trigger4 = numtarget(200) && playerid(var(14)),StateNo = 5030
trigger4 = target,statetype=A
trigger4 = target,movetype=H&& movetype!=H
trigger5 = numtarget(201) && playerid(var(14)),StateNo = 5030
trigger5 = target,statetype=A
trigger5 = target,movetype=H&& movetype!=H
trigger6 = numtarget(205) && playerid(var(14)),StateNo = 5030
trigger6 = target,statetype=A
trigger6 = target,movetype=H&& movetype!=H
trigger7 = numtarget(206) && playerid(var(14)),StateNo = 5030
trigger7 = target,statetype=A
trigger7 = target,movetype=H&& movetype!=H
trigger8 = numtarget(210) && playerid(var(14)),StateNo = 5030
trigger8 = target,statetype=A
trigger8 = target,movetype=H&& movetype!=H
trigger9 = numtarget(211) && playerid(var(14)),StateNo = 5030
trigger9 = target,statetype=A
trigger9 = target,movetype=H&& movetype!=H
trigger10 = numtarget(212) && playerid(var(14)),StateNo = 5030
trigger10 = target,statetype=A
trigger10 = target,movetype=H&& movetype!=H
trigger11 = numtarget(204) && playerid(var(14)),StateNo = 5030
trigger11 = target,statetype=A
trigger11 = target,movetype=H&& movetype!=H
trigger12 = numtarget(400) && playerid(var(14)),StateNo = 5030
trigger12 = target,statetype=A
trigger12 = target,movetype=H&& movetype!=H
trigger13 = numtarget(410) && playerid(var(14)),StateNo = 5030
trigger13 = target,statetype=A
trigger13 = target,movetype=H&& movetype!=H
value = 9500

[State -2, VarSet]
type = VarSet
triggerall = var(13)
trigger1 = playerid(var(14)),StateNo = 5040
trigger2 = playerid(var(14)),isHelper
trigger3 = !playerid(var(14)),Alive
var(13) = 0


[State -2, VarSet]
type = VarSet
triggerall = var(13)
trigger1 = playerid(var(14)),StateNo = 9500
trigger2 = playerid(var(14)),movetype!=H
trigger3 = playerid(var(14)),pos y=0 && playerid(var(14)),statetype!=A
var(13) = 0

[State -2, VarSet]
type = VarSet
trigger1 = var(13) = 0
var(14) = 0

;----------------------------------------------
[State 1001, Explod];相手リカバー用var(13);(4);飛翔空中ヒット
type = VarSet
trigger1 = NumTarget
trigger1 = projhit1400=1
trigger1 = target,statetype=A
trigger1 = target,movetype=H && movetype!=H
trigger1 = target,stateno=[5000,5071]
var(13) = 1


[State 1001, Explod];相手リカバー用var(14);(5)
type = VarSet
trigger1 = NumTarget
trigger1 = projhit1400=1
trigger1 = target,statetype=A
trigger1 = target,movetype=H && movetype!=H
trigger1 = target,stateno=[5000,5071]
var(14) = target,id

;----------------------------------------避け攻撃
[State 1001, Explod];相手リカバー用var(13);(4)
type = VarSet
triggerall = MoveHit && NumTarget
triggerall = target,statetype=A
triggerall = target,movetype=H
triggerall = target,stateno=[5000,5071]
triggerall = target,ishelper=0
triggerall = target,alive
triggerall = roundstate=2
triggerall = movetype!=H
trigger1 = numtarget(200) || numtarget(201) || numtarget(202) || numtarget(203)
trigger2 = numtarget(205) || numtarget(206) || numtarget(207) || numtarget(208) || numtarget(209)
trigger3 = numtarget(210) || numtarget(211) || numtarget(212) || numtarget(213) || numtarget(214) || numtarget(215)
trigger4 = numtarget(400) || numtarget(401) || numtarget(410) || numtarget(411)
trigger5 = numtarget(230) || numtarget(231) || numtarget(235) || numtarget(700)
trigger6 = numtarget(300) || numtarget(304) || numtarget(305) || numtarget(306) || numtarget(307) || numtarget(310) || numtarget(315)
trigger7 = numtarget(600) || numtarget(601) || numtarget(602) || numtarget(603)
trigger8 = numtarget(605) || numtarget(606) || numtarget(607) || numtarget(608)
trigger9 = numtarget(620) || numtarget(621) || numtarget(629) || numtarget(630) || numtarget(640)
trigger10 = numtarget(900) || numtarget(1000) || numtarget(1200) || numtarget(1300)  
trigger11 = numtarget(1400) || numtarget(1600) || numtarget(1601) || numtarget(1900)
var(13) = 1
ignorehitpause=1
;persistent = 0

[State 1001, Explod];相手リカバー用var(14);(5)
type = VarSet
triggerall = MoveHit && NumTarget
triggerall = target,statetype=A
triggerall = target,movetype=H
triggerall = target,stateno=[5000,5071]
triggerall = target,ishelper=0
triggerall = target,alive
triggerall = roundstate=2
triggerall = movetype!=H
trigger1 = numtarget(200) || numtarget(201) || numtarget(202) || numtarget(203)
trigger2 = numtarget(205) || numtarget(206) || numtarget(207) || numtarget(208) || numtarget(209)
trigger3 = numtarget(210) || numtarget(211) || numtarget(212) || numtarget(213) || numtarget(214) || numtarget(215)
trigger4 = numtarget(400) || numtarget(401) || numtarget(410) || numtarget(411)
trigger5 = numtarget(230) || numtarget(231) || numtarget(235) || numtarget(700)
trigger6 = numtarget(300) || numtarget(304) || numtarget(305) || numtarget(306) || numtarget(307) || numtarget(310) || numtarget(315)
trigger7 = numtarget(600) || numtarget(601) || numtarget(602) || numtarget(603)
trigger8 = numtarget(605) || numtarget(606) || numtarget(607) || numtarget(608)
trigger9 = numtarget(620) || numtarget(621) || numtarget(629) || numtarget(630) || numtarget(640)
trigger10 = numtarget(900) || numtarget(1000) || numtarget(1200) || numtarget(1300)  
trigger11 = numtarget(1400) || numtarget(1600) || numtarget(1601) || numtarget(1900)
var(14) = target,id
ignorehitpause=1
;persistent = 0


;-----------------------------------
; 9500:相手リカバー用 
[Statedef 9500]
type = A
movetype = H
physics = N
ctrl = 0

[State -2, VarSet]
type = changeanim
trigger1 = time =0
value=5040

;[State -2, VarSet]
;type = nothitby
;trigger1 = time=0
;trigger1 = pos y<-50
;value=SCA
;time=33

;[State -2, VarSet]
;type = nothitby
;trigger1 = time=0
;trigger1 = pos y>=-50
;value=SCA
;time=29

[State -2, VarSet]
type = nothitby
trigger1 = pos y<0
value=SCA

[State -2, VarSet]
type = nothitby
trigger1  = vel y>=0 && pos y>=0
value=SCA
time=3



[State -2, VarSet]
type = velset
trigger1 = time=0
x=-1.8;-2.3

[State -2, VarSet]
type = veladd
trigger1 = time>=0
y=.43

[State 9500,SelfState]
type = SelfState
trigger1  = vel y>=0 && pos y>=0;1
value = 52;5040
ctrl=1

[State 9500,SelfState]
type = null;SelfState
trigger1  = pos y<=-200 && vel y<0
value = 5040
ctrl=0

;----------------------------------------------------
;===========================================================================
; 準常時監視ステート（−３）
;===========================================================================
;---------------------------------------------------------------------------
; こちらは通常の食らい状態以外の「P2StateNo」や「TargetState」等で制御された、
; 作成者が任意に指定した相手側の食らいステートに限り、
; 登録したステートコントローラが有効にはなりません。
; −１や−２と上手く使い分けて行きましょう。
;---------------------------------------------------------------------------

[Statedef -3]
;-------------------------------------------------------------------
;攻撃力補正
;fvar(2)はP2lifeが減った時自分の攻撃力が減るのに使う。
;fvar(3)はコンボ補正
;ＲＢ２餓狼の補正はライフ半分で０．８６さらに半分でさらに０．８６
;がかかる。
;コンボ補正は1段目かからず１、2段目０．８６かかる
;3段目は2段目にさらに０．８６かかるが4ヒット目からは3ヒット目と
;変わらない。
;@単発基本攻撃力→A２ヒット目の攻撃力(@×0.86)
;→B３ヒット以降の攻撃力(A×0.86)となる　
;-------------------------------ノックバックしあい決着で消し
[State 1400, 2];画面端ノックバック
type = Varset
trigger1 = fvar(14)<0
trigger1 = numtarget
trigger1 = target,life=0
fv=14
value=0
ignorehitpause=1

;-------------------------------ノックバック
[State 1400, 2];画面端ノックバック
type = Velset
trigger1 = fvar(14)<0
x=fvar(14)
ignorehitpause=1

;-------------------------------1f毎に減少
[State 1400, 2];画面端ノックバック
type = Varset
trigger1 = fvar(14)<0
fv=14
value=fvar(14)+0.1;0.01
ignorehitpause=1;0
;-------------------------------ダメージでクリア
[State 1400, 2];画面端ノックバック
type = Varset
trigger1 = movetype=H
trigger2 =numtarget=0 && ctrl
trigger3 = stateno=40
trigger4 = statetype=A
trigger5 = stateno=3100
trigger6 = stateno=1001
trigger7 = stateno=1101
trigger8 = stateno=1501
trigger9 = stateno=100
trigger10 = stateno=105
trigger11 = roundstate=3
trigger12 = stateno=20
trigger13 = stateno=21
fv=14
value=0
ignorehitpause=1
;----------------------------------------------------
;----------------------------------------------------
;-----------------------------
;画面フラッシュ
[State -2]
type = EnvColor
trigger1 = projhit3000=1 ||projhit3100=1 || projhit3200=1
;trigger1 = hitpausetime=13
value = 255,255,255
time = 1
ignorehitpause = 1
under = 1
;persistent=0


;トリプルゲイザーヒット
[State -2, AssertSpecial]
type = AssertSpecial
trigger1 = ProjHitTime(3100) = 1
flag = nofg

[State -2, Pause]
type = Pause
trigger1 = ProjHitTime(3100) = 1
time = 14
;----------------------------------------------
[State -3];防御力UP体力50%以上
type = DefenceMulSet
trigger1 = life > lifemax*0.5
value = 1

[State -3];防御力UP体力25%以上50%以下
type = DefenceMulSet
trigger1 = life <= lifemax*0.5 && life > lifemax*0.25
value = .86

[State -3];防御力UP体力25%以下
type = DefenceMulSet
trigger1 = life <= lifemax*0.25
value = .73
;---------------------------------------------------------------------
;---------------------------------------------------------------------
[State -3, VarSet];SP
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax) && enemy,life >(enemy,lifemax*0.5) 
fvar(9) = 1

[State -3, VarSet];相手の体力が減った時にかかる補正用50%以上１(攻撃力147より上のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax) && enemy,life >(enemy,lifemax*0.5) 
fvar(5) = 1

[State -3, VarSet];相手の体力が減った時にかかる補正用50%以上２(攻撃力53〜146のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax) && enemy,life >(enemy,lifemax*0.5) 
fvar(4) = 1

[State -3, VarSet];相手の体力が減った時にかかる補正用50%以上3(攻撃力52以下のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax) && enemy,life >(enemy,lifemax*0.5) 
fvar(2) = 1
;-----------------------------------------------------------------------
[State -3, VarSet];SP
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.5) && enemy,life > (enemy,lifemax*0.25)
fvar(9) = .705

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以上50%以下1(攻撃力147より上のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.5) && enemy,life > (enemy,lifemax*0.25)
fvar(5) = .875;.875

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以上50%以下2(攻撃力53〜146のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.5) && enemy,life > (enemy,lifemax*0.25)
fvar(4) = .835;.87

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以上50%以下3(攻撃力52以下のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.5) && enemy,life > (enemy,lifemax*0.25)
fvar(2) = .855;.83
;-----------------------------------------------------------------------------------
[State -3, VarSet];SP
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.25)
fvar(9) = .675;.746

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以下1(攻撃力207より上のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.25)
fvar(5) = .765;.746

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以下2(攻撃力53〜206のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.25)
fvar(4) = .775;.721

[State -3, VarSet];相手の体力が減った時にかかる補正用25%以下2(攻撃力52以下のもの)
type = VarSet
trigger1 = enemy,life <= (enemy,lifemax*0.25)
fvar(2) = .785;.64
;---------------------------------------------------------------------
[State -3, VarSet];コンボ補正用1(攻撃力52以下のもの)
type = VarSet
trigger1 = !NumTarget
fvar(3) = 1

[State -3, VarSet];コンボ補正用1(攻撃力53〜146のもの)
type = VarSet
trigger1 = !NumTarget
fvar(6) = 1

[State -3, VarSet];コンボ補正用1(攻撃力147より上のもの)
type = VarSet
trigger1 = !NumTarget
fvar(8) = 1
;------------------------------------------------------------

[State -3, VarSet];コンボ補正用2ヒット目(攻撃力52以下のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) = 1
fvar(3) = .83

[State -3, VarSet];コンボ補正用2ヒット目(攻撃力53〜146のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) = 1
fvar(6) = .85

[State -3, VarSet];コンボ補正用2ヒット目(攻撃力147より上のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) = 1
fvar(8) = .875
;-------------------------------------------------------------------

[State -3, VarSet];コンボ補正用3ヒット目以後(攻撃力52以下のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) >= 2
fvar(3) = .656;.64

[State -3, VarSet];コンボ補正用3ヒット目以後(攻撃力53〜206のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) >= 2
fvar(6) = .721;.735

[State -3, VarSet];コンボ補正用3ヒット目以後(攻撃力207〜のもの)
type = VarSet
trigger1 = NumTarget
trigger1 = target,GetHitVar(hitcount) >= 2
fvar(8) = .746

;----------------------------------------------------------------
;ゲージ表示
[State -2]
type = Helper
triggerall = numhelper(8500) = 0
trigger1 = RoundState != 0 && RoundNo = 1
trigger1 = numhelper(9100)
trigger1 = helper(9100),stateno != 9100
trigger2 = RoundState != 0 && RoundNo = 1
trigger2 = numhelper(9100) = 0
trigger3 = RoundNo > 1
trigger4 = var(20)
id = 8500
name = "g"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 8500
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;-------------------------------------------------------------
;var(5) 相手との向き合い判定
[State -2]
type = varset
triggerall = var(5)
trigger1 = facing = 1 && enemynear,facing = -1
trigger2 = facing = -1 && enemynear,facing = 1
var(5) = 0

[State -2]
type = varset
triggerall = !var(5)
trigger1 = facing = 1 && enemynear,facing = 1
trigger2 = facing = -1 && enemynear,facing = -1
var(5) = 1

;--------------------------------------------------------------------
;var(45) ゲージ残量判定var(46) ゲージ減らす
;var(47) 超必使用可var(48) 潜在使用可

[State -2]
type = varset
trigger1 = var(45) = 0
trigger1 = power >= 1500
var(45) = 1

[State -2]
type = varset
trigger1 = var(45) = 1
trigger1 = power < 1500
var(45) = 0

[State -2]
type = varset
trigger1 = var(45) < 2
trigger1 = power >= 3000
var(46) = 960

[State -2]
type = varset
trigger1 = var(45) < 2
trigger1 = var(46) >= 1
trigger2 = var(45) = 3
trigger2 = var(46) <= 0
trigger2 = power >= 3000 && time >= 1
var(45) = 2

[State -2]
type = varadd
trigger1 = var(45) = 2
trigger1 = RoundState = 2
var(46) = -1

[State -2]
type = varadd
trigger1 = var(45) = 3
trigger1 = var(46) > 0
trigger1 = RoundState = 2
var(46) = -16

[State -2]
type = poweradd
trigger1 = var(45) = 3
trigger1 = var(46) <= 0
trigger1 = RoundState = 2
value = -50

[State -2]
type = poweradd
triggerall = alive
trigger1 = var(46) < 0
value = -3000

[State -2]
type = varset
trigger1 = var(45) = 3
trigger1 = power <= 0
var(45) = 0

[State -2]
type = varset
trigger1 = var(46) < 0
var(45) = 0

[State -2]
type = varset
trigger1 = var(45) = 0
var(46) = 0

[State -2]
type = varset
trigger1 = var(46) < 0
var(46) = 0

[State -2]
type = varset
triggerall = var(48) = 0
trigger1 = var(45) = 2
trigger1 = var(47) = 1
var(48) = 1

[State -2]
type = varset
triggerall = var(48) = 1
trigger1 = var(45) != 2
trigger2 = var(47) != 1
var(48) = 0
;-------------------------------------------------------------------------
;var(50) リバサ用var(51) リバサ表示用
[State -2]
type = varset
triggerall = var(50) > 0
trigger1 = (stateno != [5001,5120]) && time = 1;食らい中
trigger2 = (stateno != [150,153]) && time = 1;ガード中
trigger3 = movetype = A
var(50) = 0

[State -2]
type = varset
triggerall = var(50) = [8,9]
trigger1 = var(45) != 2 && var(47) != 1
var(50) = 0

[State -2]
type = varset
triggerall = var(50) = 10
trigger1 = var(45) != 2
trigger2 = var(47) != 1
var(50) = 0

[State -2]
type = varset
triggerall = var(51) = 1
trigger1 = time = 2
var(51) = 0
;----------------------------------------------------------

;--------------------------------------------------------
;var(6) スウェーラインに居る相手との距離判定
;var(7) ライン移動持ちのキャラ判定

[State -2];相手が奥ラインで近くにいる時
type = varset
triggerall = p2dist x <= 120
triggerall = enemy,stateno = [6000,6500]
trigger1 = enemy,name = "Rick Strowd" || enemy,name = "xiangfei"
trigger1 = enemy,authorname = "NHK"
trigger2 = enemy,name = "Wolfgang Krauser" || enemy,name = "Ryuji Yamazaki"
trigger2 = enemy,authorname = "abuhachi"
trigger3 = enemy,name = "Franco Bash" || enemy,name = "Bob Wilson" ||enemy,name ="Laurence Blood" || enemy,name = "Sokaku Mochiduki"|| enemy,name = "Duck King"|| enemy,name = "Tung Fu Rue"
trigger3 = enemy,authorname = "tora"
trigger4 = enemy,name = "Jin Chonrei"|| enemy,name = "Kim Kaphwan"|| enemy,name = "Jin Chonshu"||enemy,name ="Hon-Fu" ||enemy,name = "Terry Bogard"||enemy,name = "Mai Shiranui"||enemy,name = "Andy Bogard"
trigger4 = enemy,authorname = "tora"
trigger5 = enemy,name = "Billy Kane"|| enemy,name = "Joe Higashi" || enemy,name = "cheng Sinzan"|| enemy,name = "Li Xiangfei" || enemy,name = "Rick Strowd" || enemy,name = "Blue Mary"
trigger5 = enemy,authorname = "tora"
trigger6 = enemy,name = "Geese Howard"
trigger6 = (enemy,authorname = "FLAM") || (enemy,authorname = "tora")
var(6) = 1


[State -2];相手が奥ラインで遠くにいるとき
type = varset
triggerall = p2dist x > 120
triggerall = enemy,stateno = [6000,6500]
trigger1 = enemy,name = "Rick Strowd" || enemy,name = "xiangfei"
trigger1 = enemy,authorname = "NHK"
trigger2 = enemy,name = "Wolfgang Krauser" || enemy,name = "Ryuji Yamazaki"
trigger2 = enemy,authorname = "abuhachi"
trigger3 = enemy,name = "Franco Bash" || enemy,name = "Bob Wilson" ||enemy,name ="Laurence Blood" || enemy,name = "Sokaku Mochiduki"|| enemy,name = "Duck King"|| enemy,name = "Tung Fu Rue"
trigger3 = enemy,authorname = "tora"
trigger4 = enemy,name = "Jin Chonrei"|| enemy,name = "Kim Kaphwan"|| enemy,name = "Jin Chonshu"||enemy,name ="Hon-Fu" ||enemy,name = "Terry Bogard"||enemy,name = "Mai Shiranui"||enemy,name = "Andy Bogard"
trigger4 = enemy,authorname = "tora"
trigger5 = enemy,name = "Billy Kane"|| enemy,name = "Joe Higashi" || enemy,name = "cheng Sinzan"|| enemy,name = "Li Xiangfei" || enemy,name = "Rick Strowd" || enemy,name = "Blue Mary"
trigger5 = enemy,authorname = "tora"
trigger6 = enemy,name = "Geese Howard"
trigger6 = (enemy,authorname = "FLAM") || (enemy,authorname = "tora")
var(6) = 2


[State -2];相手が奥ラインにいない時
type = varset
triggerall = (enemy,stateno != [6000,6500]) && ((enemy,stateno!=[120,130]) && var(0)!=80)
trigger1 = enemy,name = "Rick Strowd" || enemy,name = "xiangfei"
trigger1 = enemy,authorname = "NHK"
trigger2 = enemy,name = "Wolfgang Krauser" || enemy,name = "Ryuji Yamazaki"
trigger2 = enemy,authorname = "abuhachi"
trigger3 = enemy,name = "Franco Bash" || enemy,name = "Bob Wilson"
trigger3 = enemy,authorname = "tora"
trigger4 = enemy,name = "Laurence Blood" || enemy,name = "Sokaku Mochiduki"
trigger4 = enemy,authorname = "tora"
trigger5 = enemy,name = "Jin Chonrei" || enemy,name = "Kim Kaphwan"
trigger5 = enemy,authorname = "tora"
trigger6 = enemy,name = "Jin Chonshu" || enemy,name = "Hon-Fu"
trigger6 = enemy,authorname = "tora"
trigger7 = enemy,name = "Terry Bogard" || enemy,name = "Mai Shiranui"
trigger7 = enemy,authorname = "tora"
trigger8 = enemy,name = "Duck King" || enemy,name = "Tung Fu Rue"
trigger8 = enemy,authorname = "tora"
trigger9 = enemy,name = "Andy Bogard" || enemy,name = "Billy Kane"
trigger9 = enemy,authorname = "tora"
trigger10 = enemy,name = "Joe Higashi" || enemy,name = "cheng Sinzan"
trigger10 = enemy,authorname = "tora"
trigger11 = enemy,name = "Li Xiangfei" || enemy,name = "Rick Strowd" || enemy,name = "Blue Mary"
trigger11 = enemy,authorname = "tora" 
trigger12 = enemy,name = "Geese Howard"
trigger12 = (enemy,authorname = "FLAM") || (enemy,authorname = "tora")
trigger13 = var(7)=0
var(6) = 0

[State -2];一度奥ラインでガードモーションをとった時にvar(0)=80にしやつをリセット
type = varset
trigger1 = var(0)=80 && !var(8)
trigger1 = (stateno!=[120,152])
v=0
value=0
ignorehitpause=1

;ここに挟む-----
[State -2, ];ラインボタン機能の切替
type = varset
trigger1 = enemy,authorname="sekirei"&&enemy,selfanimexist(8465335)
var(6) = ifelse(enemy,var(50)=2,ifelse(P2dist X<=120,1,2),0)

[State -2, ];ライン攻撃の認識
type = varset
trigger1 = enemy,authorname="sekirei"
var(8) = (enemy,sysfvar(1)=[2,3])

[State -2, ];ライン上ガード中の、拡大機能ＯＮ
type = varset
trigger1 = enemy,authorname="sekirei"
var(7) = var(8)
;-----

[State -2];ライン移動の攻撃をもつライン対応キャラ近距離（相手が近距離で別ラインにいると判断します）
type = varset
triggerall = p2dist x <= 120
trigger1 = enemy,stateno = 1401
trigger1 = enemy,name = "Terry Bogard"
trigger1 = enemy,authorname = "tora"
trigger2 = enemy,stateno = [1904,1905];幻影不知火ヒット時着地〜
trigger2 = enemy,name = "Andy Bogard"
trigger2 = enemy,authorname = "tora"
trigger3 = enemy,stateno = [3151,3152];サンダーファイヤーＺ版
trigger3 = enemy,name = "Joe Higashi"
trigger3 = enemy,authorname = "tora"
var(6) = 1

[State -2];ライン移動の攻撃をもつライン対応キャラ遠距離（相手が遠いで距離で別ラインにいると判断します）
type = varset
triggerall = p2dist x > 120
trigger1 = enemy,stateno = 1401
trigger1 = enemy,name = "Terry Bogard"
trigger1 = enemy,authorname = "tora"
trigger2 = enemy,stateno = [1904,1905];幻影不知火ヒット時着地〜
trigger2 = enemy,name = "Andy Bogard"
trigger2 = enemy,authorname = "tora"
trigger3 = enemy,stateno =[3151,3152];サンダーファイヤーＺ版
trigger3 = enemy,name = "Joe Higashi"
trigger3 = enemy,authorname = "tora"
var(6) = 2

[State -2];RB登録特定キャラ
type = varset
trigger1 = enemy,name = "Rick Strowd" || enemy,name = "xiangfei"
trigger1 = enemy,authorname = "NHK"
trigger2 = enemy,name = "Wolfgang Krauser" || enemy,name = "Ryuji Yamazaki"
trigger2 = enemy,authorname = "abuhachi"
trigger3 = enemy,name = "Franco Bash" || enemy,name = "Bob Wilson" ||enemy,name ="Laurence Blood" || enemy,name = "Sokaku Mochiduki"|| enemy,name = "Duck King"|| enemy,name = "Tung Fu Rue"
trigger3 = enemy,authorname = "tora"
trigger4 = enemy,name = "Jin Chonrei"|| enemy,name = "Kim Kaphwan"|| enemy,name = "Jin Chonshu"||enemy,name ="Hon-Fu" ||enemy,name = "Terry Bogard"||enemy,name = "Mai Shiranui"||enemy,name = "Andy Bogard"
trigger4 = enemy,authorname = "tora"
trigger5 = enemy,name = "Billy Kane"|| enemy,name = "Joe Higashi" || enemy,name = "cheng Sinzan"|| enemy,name = "Li Xiangfei"|| enemy,name = "Rick Strowd" || enemy,name = "Blue Mary"
trigger5 = enemy,authorname = "tora"
trigger6 = enemy,name = "Geese Howard"
trigger6 = (enemy,authorname = "FLAM") || (enemy,authorname = "tora")
var(7) = 1

[State -2];相手がライン攻撃振ってない 登録RBキャラ
type = varset
triggerall = var(7)                      ;RBキャラ
triggerall = enemy,stateno != [700,710]  ;ライン攻撃じゃない
trigger1 = enemy,movetype!=A
var(8) = 0

[State -2];打撃
type = varset
triggerall = var(7)
triggerall = TeamMode =single || TeamMode =turns
trigger1 = enemy,stateno = [700,720]
trigger2 = (enemy,name = "Tung Fu Rue" ) && (enemy,authorname = "tora")
trigger2 = enemy,stateno = 3000;旋風剛拳
trigger3 = (enemy,name = "Billy Kane" ) && (enemy,authorname = "tora")
trigger3 = enemy,stateno = 3100;サラマンダーストリーム
trigger4 = (enemy,name = "Billy Kane" ) && (enemy,authorname = "tora")
trigger4 = enemy,stateno = 306;4c
var(8) =1

[State -2];飛び道具
type = varset
triggerall = var(7)
triggerall = TeamMode =single || TeamMode =turns
trigger1 = (enemy,name = "Wolfgang Krauser" ) && (enemy,authorname = "abuhachi")
trigger1 = enemy,stateno = 3021;カイザーウェイブＭＡＸ
trigger2 = (enemy,name = "Terry Bogard" ) && (enemy,authorname = "tora")
trigger2 = enemy,stateno = 1050 || enemy,stateno = 1070;ラウンドウェイブ
trigger3 = (enemy,name = "Hon-Fu" ) && (enemy,authorname = "tora")
trigger3 = enemy,stateno = 3102;よかとんハンマー爆風
trigger4 = (enemy,name = "Sokaku Mochiduki" ) && (enemy,authorname = "tora")
trigger4 = enemy,stateno = 3200 || enemy,stateno = 3000;いかづち
trigger5 = (enemy,name = "Geese Howard" )&& (enemy,authorname = "FLAM")
trigger5 = (enemy,stateno = 3000 || enemy,stateno = 3050)||(enemy,stateno = 3150);レイジングストーム
trigger6 = (enemy,name = "Geese Howard" )&& (enemy,authorname = "FLAM")
trigger6 = (enemy,stateno = 3300||enemy,stateno = 3320)||(enemy,stateno = 3600||enemy,stateno = 3630);レイジングストーム,サンダーブレイク
trigger7 = (enemy,name = "Sokaku Mochiduki" ) && (enemy,authorname = "tora")
trigger7 = enemy,numhelper(1210)=1
trigger7 = enemynear,stateno=1201
trigger7 = enemynear,var(17)=6 && enemynear,var(18)=0;倒破
trigger8 = (enemy,name = "Geese Howard" )&& (enemy,authorname = "tora")
trigger8 = (enemy,stateno = 3000 || enemy,stateno = 3050) || (enemy,stateno = 3070) || (enemy,stateno=3300);レイジングストーム,サンダーブレイク
var(8) = 2

;ここにキャラ名と製作者名
;当てたい攻撃のステートＮＯを記述するとラインに移動した
;キャラに攻撃が当たります。
;[state -2,-15]には必ず追加
:飛び道具の場合[-2,-16]に
;    打撃の場合[-2,-17]に記述を増やしてください

[State -2,15];相手がライン攻撃振ってない 登録してないキャラ
type = varset
triggerall = !var(7)                      ;非登録RBキャラ
trigger1 = (enemy,name = "Magaki") && (enemy,authorname = "jin")
trigger1 = enemy,stateno != 3000
trigger2 = (enemy,name = "Kain") && (enemy,authorname = "abuhachi")
trigger2 = enemy,stateno != 1200 && enemy,stateno != 1220
;trigger○ = (enemy,name = "○○○") && (enemy,authorname = "○○○")
;trigger○ = enemy,stateno != ○○○
var(8) = 0

;非ＲＢキャラ飛び道具対ライン技
[State -2,16]
type = varset
triggerall = !var(7)
triggerall = TeamMode =single || TeamMode =turns
trigger1 = (enemy,name = "Magaki") && (enemy,authorname = "jin")
trigger1 = enemy,stateno = 3000
;trigger○ = (enemy,name = "○○○") && (enemy,authorname = "○○○")
;trigger○ = enemy,stateno = ○○○
var(8) = 2

;打撃
[State -2,17]
type = varset
triggerall = !var(7)
triggerall = TeamMode =single || TeamMode =turns
trigger1 = (enemy,name = "Kain") && (enemy,authorname = "abuhachi")
trigger1 = enemy,stateno = 1200|| enemy,stateno = 1220
;trigger○ = (enemy,name = "○○○") && (enemy,authorname = "○○○")
;trigger○ = enemy,stateno = ○○○
var(8) = 1
;-------------------------------------------------------------
;-------------------------------------------------------------
;var(20) ラインモード設定
;var(2)ラインモード判定

[State -2]
type = varset
trigger1 = var(20) = 1
var(2) = 0

[State -2]
type = varset
trigger1 = var(20) = 2
var(2) = 1

;-------------------------------------------------------------------------

[State -3]
type = varrandom
triggerall = time = 1
trigger1 = stateno = 200
v = 30
range = 0,1
ignorehitpause = 1

[State -3]
type = varrandom
triggerall = time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 30
range = 0,2
ignorehitpause = 1

[State -3]
type = StopSnd
trigger1 = movetype = H
channel = 4
;----------------------------------------------------
;----------------------------------------------------

;var(22)飛び込みＢガード不能var
[State -2]
type = varset
trigger1 = stateno!=[605,608]
var(22) = 0

[State -2]
type = varset
triggerall = command="b"
triggerall = vel y>=0
triggerall = var(22)=0
trigger1 = sysvar(3)=0
trigger1 = pos y>=-60;-50
trigger2 = sysvar(3)=1
trigger2 = pos y>=-40;-36
var(22) = 1


;---------------------------------------------------
;---------------------------------エフェクト
[State 800]
type = Explod
triggerall = NumTarget(3100)
trigger1 = target,stateno = 3106 && target,time = 1
trigger2 = target,stateno = 3110 && target,time = 1
anim = 6500
ID = 6500
pos = ceil(target,pos x-pos x)*facing,3
postype = p1
ownpal = 1
sprpriority = 5

[State -3]
type = PlaySnd
triggerall = NumTarget(3100)
trigger1 = target,stateno = 3106 && target,time = 1
trigger2 = target,stateno = 3110 && target,time = 1
value = 5100, 1
;-------------------------------------------------
;ブレイクショット入力時間
[State -2]
type = varset
triggerall = var(25) > 0
trigger1 = stateno != [150,153]
trigger2 = stateno = 150 && time = 0
trigger3 = stateno = 152 && time = 0
var(25) = 0

[State -2]
type = varadd
trigger1 = stateno = [150,153]
var(25) = 1
;-----------------------------------
;ライン移動時のキャラ拡大縮小
[State -2]
type = varset
trigger1 = fvar(1)<0.7
fvar(1) = 1.0
ignorehitpause = 1
;---------------------------------------
;空キャン可否判定
[State -2]
type = varset
trigger1 = !hitdefattr = SCA,AA,AP,AT
var(10) = 0

[State -2]
type = varset
trigger1 = hitdefattr = SCA,AA,AP,AT
trigger2 = MoveType != A
var(10) = 1
;-------------------------------
;追い討ち可否判定
[State -2]
type = VarSet
triggerall = NumTarget
trigger1 = !NumTarget(303)
trigger1 = !NumTarget(309)
trigger1 = !NumTarget(1100)
trigger1 = !NumTarget(1500)
trigger1 = !NumTarget(1501)
trigger1 = !NumTarget(1701)
trigger1 = !NumTarget(3100)
trigger1 = !NumTarget(3101)
trigger1 = !NumTarget(3102)
trigger1 = !NumTarget(3103)
trigger1 = !NumTarget(3104)
trigger1 = !NumTarget(3300)
trigger1 = !NumTarget(3301)
trigger1 = !NumTarget(3302)
trigger1 = !NumTarget(3303)
trigger1 = !NumTarget(3304)
trigger1 = !NumTarget(3305)
trigger1 = !NumTarget(3306)
trigger1 = !NumTarget(3401)
trigger1 = !NumTarget(1131)
trigger1 = Target,StateNo = [5020,5071]
trigger1 = Target,StateType = A
trigger1 = Target,NumPartner = 0
var(16) = 1



[State -2]
type = VarSet
trigger1 = Enemy,StateType != A || Enemy,StateNo != [5020,5071]
var(16) = 0
;------------------------------------
;挑発派生用var(17)
[State -2]
type = VarSet
trigger1 = stateno!=[195,199]
v=17
value=0
ignorehitpause=1
;-------------------------------var関連
[State 1050];varブレイクストームボタン連打回数リセット
type = varset
trigger1 = stateno!=[1500,1599]
v=19
value=0
ignorehitpause=1
persistent=0
;-------------------------------var関連
;-------------------------------------------------------
;ライフ判定残量
[State -3]
type = VarSet
trigger1 = RoundState = 0 || RoundState = 1
trigger1 = var(58) != 2
trigger1 = var(44) = 0
var(44) = Life

;-------------------------------------------------------------
;超必殺技使用可判定
[State -3]
type = varset
triggerall = var(47) = 0
trigger1 = life <= ceil(lifemax/2)
var(47) = 1

[State -3]
type = varset
triggerall = var(47) = 1
trigger1 = life > ceil(lifemax/2)
var(47) = 0
;--------------------------------------------------------

;-----------------------------------------------------------
;ファイナルインパクト使用時の残像表示用
[State -3]
type = varset
triggerall = var(11) = 1
trigger1 = stateno != [3000,3050]
var(11) = 0
;----------------------------------------------------------
;クイックアプローチ用
[State -3]
type = varset
triggerall = var(37) > 0
trigger1 = movetype = H
trigger2 = stateno != [3000,3021]
var(37) = 0

[State -3]
type = varset
trigger1 = var(39) = 1
trigger1 = stateno != 2500
var(39) = 0

[State -3]
type = varset
triggerall = var(40) = 1
trigger1 = stateno != 2500
trigger2 = time = 1
var(40) = 0
;------------------------------
;ランダムボイス用

[State -3]
type = varrandom
triggerall = time = 1
trigger1 = stateno = 200
v = 30
range = 0,4
ignorehitpause = 1

[State -3]
type = varrandom
triggerall = time = 1
trigger1 = stateno = [200,230]
trigger2 = stateno = [400,440]
trigger3 = stateno = [600,630]
trigger4 = stateno = [700,710]
trigger5 = stateno = [6400,6450]
v = 30
range = 0,4
ignorehitpause = 1

[State -3]
type = varrandom
triggerall = time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 30
range = 0,2
ignorehitpause = 1

[State -3]
type = StopSnd
trigger1 = movetype = H
channel = 4

[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = alive
triggerall = var(30) = 0
triggerall = random < 600
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
trigger3 = Stateno = 5020
value = 5000,0

[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = alive
triggerall = var(30) = 1
triggerall = random < 600
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
trigger3 = Stateno = 5020
value = 5000,1

[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = alive
triggerall = var(30) = 2
triggerall = random < 600
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
trigger3 = Stateno = 5020
trigger4 = Stateno = 5100
value = 5000,2

[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = alive
triggerall = var(30) = 0
triggerall = random < 600
trigger1 = Stateno = 5100
value = 5000,3

[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = alive
triggerall = var(30) = 1
triggerall = random < 600
trigger1 = Stateno = 5100
value = 5000,4

[State -3]
type = PlaySnd
triggerall = time = 1
trigger1 = Stateno = 50
value = 1,1

[State -3]
type = PlaySnd
triggerall = time = 2
trigger1 = Stateno = 100
value = 1,3

[State -3]
type = PlaySnd
triggerall = time = 2
trigger1 = Stateno = 105
value = 1,4

[State -3]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52  ;着地ステート
trigger2 = stateno = 106  ;着地ステート
value = 1, 2

[State -3]
type = StopSnd
trigger1 = Movetype = H
channel = 0

[State -3]
type = StopSnd
trigger1 = stateno = [1,194]
trigger2 = stateno = [196,9999]
channel = 3

[State -3]
type = RemoveExplod
trigger1 = Movetype = H
id = 6100

[state -3]
type = DisplayToClipboard
Trigger1 = 1
text = "AI=%d,AILV=%d,Line=%d,Power=%d\n"
params = var(59),var(9),var(2)+1,var(46)
ignorehitpause = 1

[State -3]
Type=Helper
Trigger1=!NumHelper(20000)
Trigger1=!var(59)&&Alive&&RoundState=2&&((PrevStateNo=[191,193])||PrevStateNo=5900)&&StateNo=0&&Ctrl
HelperType=Normal
Name="AI"
StateNo=20000
ID=20000
Pos=9999,9999
KeyCtrl=1
PauseMoveTime=2147483647
SuperMoveTime=2147483647

[State -3]
type = null;changestate
trigger1 = ishelper(20000)
trigger1 = stateno != 20000
value = 20000

[State -3]
type = VarSet
trigger1 = StateNo != [40,59]
sysvar(3) = 0

;---------------------------------------------------------------相手の技の影響など
;-----------------------------------------------------------------------------
;	シングル戦のみ対応
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/                       ■脱魂の儀 制御                                _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;振り向き抑制
[State pos moving]
type = AssertSpecial
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
flag = noautoturn

;移動
[State pos moving]
type = Posadd
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
x = -ceil(enemynear,fVar(36))*facing*enemynear,facing
y = -ceil(enemynear,fVar(37))*(statetype!=L)

;statetype!=A+statetype!=Lの場合強制落下stateへ
[State pos moving]
type = Changestate
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
Triggerall = (statetype != A)*(pos y!=0)*(statetype!=L)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
value = 50

;--------------------------------------------------------------

;振り向き抑制
[State pos moving]
type = AssertSpecial
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
flag = noautoturn

;移動
[State pos moving]
type = Posadd
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
x = -ceil(enemynear,fVar(24))*facing*enemynear,facing
y = -ceil(enemynear,fVar(25))*(statetype!=L)

;statetype!=A+statetype!=Lの場合強制落下stateへ
[State pos moving]
type = Changestate
Triggerall = (Enemynear,Name = "Komachi Onoduka")*(Enemynear,AuthorName = "mikage_th105")*(TeamMode = single)
Triggerall = (statetype != A)*(pos y!=0)*(statetype!=L)
trigger1 = (enemynear,stateno = 820)*(enemynear,anim = 823)*(enemynear,animelem = 6,13)
trigger2 = (enemynear,stateno = 821)*(enemynear,anim = 823)*(enemynear,animelem = 6,43)
value = 50
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/                 ■毒煙幕「瓦斯織物の玉」 制御                        _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
[State lifeadd]
type = lifeadd
Trigger1 = numEnemy = 1
Trigger1 = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th105")*(Enemy(0),fvar(21))
value = -floor(Enemy(0),fvar(21))*2
ignorehitpause = 1
absolute = 1
kill = 0

[State lifeadd]
type = lifeadd
Triggerall = numEnemy = 2
Triggerall = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th105")*(Enemy(0),fvar(21))
Trigger2 = (Enemy(1),Name = "Reisen Udongein Inaba")*(Enemy(1),AuthorName = "mikage_th105")*(Enemy(1),fvar(21))
value = -floor(Enemy(0),fvar(21))*2-floor(Enemy(1),fvar(21))*2
ignorehitpause = 1
absolute = 1
kill = 0

;--------------------------------------------------------------

[State lifeadd]
type = lifeadd
Trigger1 = numEnemy = 1
Trigger1 = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th")*(Enemy(0),fvar(35))
value = -floor(Enemy(0),fvar(35))*2
ignorehitpause = 1
absolute = 1
kill = 0

[State lifeadd]
type = lifeadd
Triggerall = numEnemy = 2
Triggerall = Pos y > -240
Trigger1 = (Enemy(0),Name = "Reisen Udongein Inaba")*(Enemy(0),AuthorName = "mikage_th")*(Enemy(0),fvar(35))
Trigger2 = (Enemy(1),Name = "Reisen Udongein Inaba")*(Enemy(1),AuthorName = "mikage_th")*(Enemy(1),fvar(35))
value = -floor(Enemy(0),fvar(35))*2-floor(Enemy(1),fvar(35))*2
ignorehitpause = 1
absolute = 1
kill = 0
;------------------------------------------------------------------------------------------
;うどんげ　毒煙幕用
[State -2]
Type = LifeAdd
TriggerAll = EnemyNear,AuthorName = "Shiroto"
TriggerAll = EnemyNear,Name = "Reisen Udongein Inaba"
Trigger1 = EnemyNear,Var(40) != 0
Trigger1 = Pos Y = [-30,10]
Trigger1 = GameTime%3 = 0
Value = -EnemyNear,Var(40)
Kill = 0

;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/_/_/           ■土着神の祟り & ミシャグジさまの祟り 制御                 _/_/_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;土着神の祟り
[State lifeadd]
type = lifeadd
Trigger1 = numEnemy
Trigger1 = (Enemynear,Name = "Suwako Moriya")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
Trigger1 = floor((Enemynear,Var(42)%100)*0.1) = [0,1]
Trigger1 = (floor(Enemynear,fvar(38)))%1000 > 0
Trigger1 = floor(Enemynear,fvar(38)*0.001) = 2
value = floor(Enemynear,fvar(36)*(LifeMax/10000.000000))
ignorehitpause = 1
absolute = 1
kill = 0

[State ミシャグジさまの祟り]
type = lifeadd
Triggerall = numEnemy
Triggerall = (Enemynear,Name = "Suwako Moriya")*(Enemynear,AuthorName = "mikage_th")*(TeamMode = single)
trigger1 = floor(Enemynear,fvar(35)) = 1
Trigger1 = movetype = H
Trigger1 = stateno != [150,155]
trigger2 = floor(Enemynear,fvar(35)) = 2
Trigger2 = movetype = H
Trigger2 = stateno = [150,155]
value = floor(Enemynear,fvar(33))
ignorehitpause = 1
absolute = 1
kill = 0
;------------------------------------
;---------------------------------------------------------------------------
;■西行寺幽々子　霊符及び寿命相手ステート
[State -2]
Type       = LifeAdd
TriggerAll = Enemy,AuthorName    = "Souki" && Enemy,Name = "Yuyuko Saigyouji"
Trigger1   = Enemy,Var(3)        = 1 || Enemy,Var(3) = 2
Trigger1   = GameTime%6          = 0
Value      = IfElse(Enemy,Var(3) = 1, -2, -3)
Kill       = 0

;---------------------------------
;マミヤ「挑発」対応ステート

[State -2]
Type = PowerAdd
triggerall = numenemy
triggerall = enemynear,name = "MAMIYA" &&  enemynear,authorname = "YU-TOHARU"
trigger1 = enemynear,stateno = 195 && enemynear,statetime = 30
Value = 1000
;---------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;略奪/獣を焦がす/獣を窮める　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -7
Absolute = 1
Kill = 0

[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(48) = 1 && Enemy,NumExplod(4005)
Value = -7
Absolute = 1
Kill = 0

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -26

;---------------------------------------------------------------------------
;パウダースノウ　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Len"
Trigger1 = Enemy,Var(47) = 1 || Enemy,Var(48) = 1
Value = -Enemy,Var(47)*4-Enemy,Var(48)*4
Absolute = 1
Kill = 0

;---------------------------------------------------------------------------
;じょうろ　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Hisui"
Trigger1 = Enemy,Var(47) = 1
Value = -10
Absolute = 1
Kill = 0

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Hisui"
Trigger1 = Enemy,Var(47) = 1
Value = -135

;---------------------------------------------------------------------------
;超がんばりました　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Hisui"
Trigger1 = Enemy,Var(48) = 1
Value = IfElse(GameTime%2=0,-3,-4)
Absolute = 1
Kill = 0

;---------------------------------------------------------------------------
;ブラック・クラック　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 1
Value = -10
Absolute = 1
Kill = 0

[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 2 || Enemy,Var(47) = 4
Value = -15
Absolute = 1
Kill = 0

[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 3
Value = -30
Absolute = 1
Kill = 0

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 1
Value = 6

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Warachia"
Trigger1 = Enemy,Var(47) = 2 || Enemy,Var(47) = 3 || Enemy,Var(47) = 4
Value = 15

;---------------------------------------------------------------------------
;現代医学の犠牲者です。　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Kohaku"
Trigger1 = Enemy,Var(47) = 1
Value = IfElse(GameTime%2=0,-3,-4)
Absolute = 1
Kill = 0
;---------------------------------------------------------------------------------------

;---------------------------------------------------------------------------
;獣を焦がす(黒秋葉)　相手ステータス変化
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "tukemon&HAL" && Enemy,Name = "Akiha"
Trigger1 = Enemy,Var(56) = 1
Value = -8
Kill = 0

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "tukemon&HAL" && Enemy,Name = "Akiha"
Trigger1 = Enemy,Var(51)%10 = 2
Trigger1 = Enemy,Var(56) = 1
Value = -33
;---------------------------------------------------------------------------
;毒効果（ドロウィンアルカナ)
[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "Drowin arcana"
TriggerAll = Enemy,FVar(20) > 0
Trigger1 = Power > 0
Value = -1

[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "Drowin arcana"
TriggerAll = Enemy,FVar(20) > 0
Trigger1 = GameTime % 7 = 0
Value = -1
kill = 0

[State -2]
Type = Palfx
TriggerAll = Enemy,AuthorName = "Drowin arcana"
Trigger1 = Enemy,FVar(20) > 0
Add = 100,0,110
Mul = 220,220,220
Time = 5
IgnoreHitPause = 1

;--------------------------------------------------------------
;---------------------------------------------------------------------------
; Curse Damage for Misuzu Kamio

[State -2, LifeAdd]
type = LifeAdd
triggerall = (Enemy,TeamMode = Simul) = 0
triggerall = (TeamMode = Simul) = 0
triggerall = NumEnemy
triggerall = Enemy,AuthorName = "586"
triggerall = Enemy,Name = "Misuzu Kamio"
triggerall = Enemy,fvar(11) > 0
trigger1 = Enemy,var(13) = 1
trigger1 = GameTime % 13 = 0
trigger2 = Enemy,var(13) = 2
trigger2 = GameTime % 11 = 0
trigger3 = Enemy,var(13) = 3
trigger3 = GameTime % 8 = 0
trigger4 = Enemy,var(13) = 4
trigger4 = GameTime % 6 = 0
trigger5 = Enemy,var(13) = 5
trigger5 = GameTime % 3 = 0
value = -1
kill = 0
ignorehitpause = 1

[State -2, PalFX]
type = PalFX
triggerall = (Enemy,TeamMode = Simul) = 0
triggerall = (TeamMode = Simul) = 0
triggerall = NumEnemy
triggerall = Enemy,AuthorName = "586"
triggerall = Enemy,Name = "Misuzu Kamio"
trigger1 = Enemy,fvar(11) > 0
add = -50,150,150
time = 1
ignorehitpause = 1
;---------------------------------------------------------------------
;----------------------------------------------------------------------

[State -3];ラインモード設定
type = varset
trigger1 = 1 
var(20) = 0 ;0=選択式、1=１ラインモード固定、2=２ラインモード固定

[State -3];衝波SPと怒顔砲の性能設定
type = varset
trigger1 = 1 
var(28) = 2 ;1=SP、2=DM