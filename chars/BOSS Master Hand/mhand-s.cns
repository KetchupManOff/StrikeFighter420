; Master Hand's Special States
;---------------------------------------------------------------------------
; Light Punch
[Statedef 200]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 20
sprpriority = 2
ctrl = 1

[State 200, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 200, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 200
value = 200

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
triggerall = Var(15) > 0
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = Var(15) = AnimElemNo(0)
value = Anim
elem = AnimElemNo(0) + 1

[State 200, 1]
type = PosAdd
trigger1 = AnimElem = 1, 2
x = 20

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 200, 1]
type = PosAdd
trigger1 = AnimElem = 2
x = 60

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 25, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = 0
sparkxy = 0, -20
hitsound = S1,0
guardsound = S4,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
airguard.velocity = -2,-1
air.type = Low
air.velocity = -2,-2
air.hittime = 10

[State 200, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = -60

[State 200, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = -20

[State 200, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
trigger2 = AnimTime = 0
x = Helper(10000), Pos X
y = Helper(10000), Pos Y

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Medium Punch
[Statedef 210]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 40
sprpriority = 2
ctrl = 1

[State -2, StopSuckSound]
type = StopSnd
trigger1 = Time = 0
channel = 9

[State 210, Helper]
type = Helper
triggerall = NumHelper(10000) = 0
trigger1 = Time <= 0
helpertype = normal
name = "Helper"
id = 10000
pos = 0,0
postype = p1
stateno = 10000
keyctrl = 0
ownpal = 1

[State 210, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 210, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 210, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 210
value = 210

[State 210, 1]
type = VelSet
triggerall = Var(15) < 2
trigger1 = AnimElem = 2
x = 20
y = 4

[State 210, 2]
type = PlaySnd
triggerall = Var(15) < 2
trigger1 = AnimElem = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 25, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = 1
sparkxy = 0, -20
hitsound = S1,1
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -3,-3
air.type = Low
air.velocity = -4,-6
air.hittime = 15

[State 210, 3]
type = ChangeAnim
trigger1 = MoveContact
trigger1 = AnimElem = 3, < 0
value = 210
elem = 3

[State 210, 4]
type = VelSet
triggerall = Var(15) < 3
trigger1 = AnimElem = 3
x = -5
y = -5

[State 210, 4]
type = VelMul
trigger1 = AnimElem = 3, >= 0
;trigger1 = AnimElem = 4, < 0
x = .9
y = .9

[State 210, 4]
type = VelSet
triggerall = Var(15) < 4
trigger1 = AnimElem = 4
x = -9
y = 3

[State 210, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
x = Helper(10000), Pos X
y = Helper(10000), Pos Y

[State 210, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = AnimTime = 0
y = Helper(10000), Pos Y

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Strong Punch
[Statedef 220]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 60
sprpriority = 2
ctrl = 1

[State 220, Helper]
type = Helper
triggerall = NumHelper(10000) = 0
trigger1 = Time <= 0
helpertype = normal
name = "Helper"
id = 10000
pos = 0,0
postype = p1
stateno = 10000
keyctrl = 0
ownpal = 1

[State 220, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 220, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 220, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 220
value = 220

[State 220, 1]
type = VelSet
triggerall = Var(15) < 2
trigger1 = Anim = 220
trigger1 = AnimElem = 2
x = 30

[State 220, 1]
type = VelSet
trigger1 = Anim = 220
trigger1 = AnimElem = 2, 5
trigger2 = NumHelper(10000) > 0
trigger2 = Pos X >= Helper(10000), Pos X + 150
x = 0

[State 220, 2]
type = PlaySnd
triggerall = Var(15) < 2
trigger1 = Anim = 220
trigger1 = AnimElem = 2
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 = Anim = 220
trigger1 = AnimElem = 2
attr = A, NA
damage = 50, 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -20
hitsound = S1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -3,-1
air.type = Low
air.velocity = -6,-2
air.hittime = 20

[State 220, 4]
type = VelSet
triggerall = Var(15) < 3
trigger1 = Anim = 220
trigger1 = AnimElem = 3
x = -15

[State 220, 4]
type = VelMul
trigger1 = Anim = 220
trigger1 = AnimElem = 3, > 0
trigger2 = Anim = 0
x = .9
y = .9

[State 220, Anim]
type = ChangeAnim
trigger1 = Anim = 220
trigger1 = AnimTime = 0
value = 0

[State 220, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
trigger2 = Anim = 0
trigger2 = AnimTime = 0
x = Helper(10000), Pos X
y = Helper(10000), Pos Y

[State 220, 5]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Smash Punch
[Statedef 250]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 80
sprpriority = 2
ctrl = 0

[State 250, Helper]
type = Helper
triggerall = NumHelper(10000) = 0
trigger1 = Time <= 0
helpertype = normal
name = "Helper"
id = 10000
pos = 0,0
postype = p1
stateno = 10000
keyctrl = 0
ownpal = 1

[State 250, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 250, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 250, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 220
value = 220

[State 250, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 250, VarSet]
type = VarSet
trigger1 = Time <= 0
var(15) = 0

[State 250, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0
var(0) = 1

[State 250, Anim]
type = ChangeAnim
triggerall = Var(20) > 0
triggerall = Command = "hold_z"
trigger1 = Anim = 220
trigger1 = AnimElem = 2, >= 0
value = 220
elem = 2

[State 250, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2, >= 0
trigger1 = TimeMod = 2,0
x = 4

[State 250, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2, >= 0
trigger1 = TimeMod = 1,0
x = -2

[State 250, 5]
type = PalFX
trigger1 = AnimElem = 2, >= 0
trigger1 = TimeMod = 4,0
time = 2
add = 100,100,100

[State 250, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
trigger2 = Anim = 0
trigger2 = AnimTime = 0
x = Helper(10000), Pos X
y = Helper(10000), Pos Y

[State 250, 5]
type = ChangeState
trigger1 = Command != "hold_z"
trigger1 = AnimElem = 2, > 0
trigger2 = Var(20) > 50
value = 251

;---------------------------------------------------------------------------
; Smash Punch
[Statedef 251]
type    = A
movetype= A
physics = N
juggle  = 1
sprpriority = 2
ctrl = 0

[State 250, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 250, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 30
y = 0

[State 250, Anim]
type = ChangeAnim
trigger1 = Time <= 0
value = 220
elem = 2

[State 250, 1]
type = VelSet
trigger1 = Anim = 220
trigger1 = AnimElem = 2, 5
trigger2 = NumHelper(10000) > 0
trigger2 = Pos X >= Helper(10000), Pos X + 150
x = 0

[State 250, 2]
type = PlaySnd
triggerall = Var(15) < 2
trigger1 = Anim = 220
trigger1 = AnimElem = 2
value = 0, 2

[State 250, 2]
type = HitDef
triggerall = Var(0) < 40
trigger1 = Anim = 220
trigger1 = AnimElem = 2
attr = A, SA
damage = 40+Var(0), 10+Var(0)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -20
hitsound = S1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -10,-4
airguard.velocity = -5,-2
air.type = Low
envshake.time = 5
envshake.freq = 50
envshake.ampl = -5
envshake.phase = 5
air.velocity = -10,-4
air.hittime = 20
air.fall = 1
fall = 1

[State 250, 2]
type = HitDef
triggerall = Var(0) >= 40
trigger1 = Anim = 220
trigger1 = AnimElem = 2
attr = A, SA
damage = 85+Var(0), 10+Var(0)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -20
hitsound = S1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -20,-8
airguard.velocity = -10,-4
air.type = Low
envshake.time = 10
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10
air.velocity = -20,-8
air.hittime = 20
air.fall = 1
fall = 1

[State 250, 4]
type = VelSet
trigger1 = Var(15) < 3
trigger1 = Anim = 220
trigger1 = AnimElem = 3
x = -15

[State 250, 4]
type = VelMul
trigger1 = Anim = 220
trigger1 = AnimElem = 3, > 0
trigger2 = Anim = 0
x = .9
y = .9

[State 250, Anim]
type = ChangeAnim
trigger1 = Anim = 220
trigger1 = AnimTime = 0
value = 0

[State 250, 5]
type = PosSet
triggerall = NumHelper(10000) > 0
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
trigger2 = Anim = 0
trigger2 = AnimTime = 0
x = Helper(10000), Pos X
y = Helper(10000), Pos Y

[State 250, 5]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Finger Poke
[Statedef 280]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 80
sprpriority = 2
ctrl = 0

[State 280, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 280, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 280, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 280
value = 280

[State 280, AngleSet]
type = AngleSet
trigger1 = AnimElem = 2, < 0
value = 0

[State 280, AngleDraw]
type = AngleDraw
trigger1 = AnimElem = 2, >= 0

[State 280, AngleAdd]
type = AngleAdd
trigger1 = Var(15) < 4
trigger1 = AnimElem = 2, > 0
trigger1 = AnimElem = 2, < 10
value = -5

[State 280, 1]
type = VelSet
trigger1 = Var(20) <= 20
trigger1 = Anim = 280
x = P2Dist X/10

[State 280, 1]
type = VelSet
triggerall = Var(20) >= 20
trigger1 = P2Dist X > 75
trigger1 = P2Dist X < 85
x = 0

[State 280, 1]
type = VelSet
triggerall = Var(20) >= 0
trigger1 = P2Dist Y > 95
trigger1 = P2Dist Y < 105
y = 0

[State 280, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Vel X < 5
trigger1 = P2Dist X > 80
x = 1

[State 280, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Vel X > -5
trigger1 = P2Dist X < 80
x = -1

[State 280, 1]
type = VelAdd
triggerall = Var(20) >= 0
triggerall = Vel Y < 5
trigger1 = P2Dist Y > 100
y = 1

[State 280, 1]
type = VelAdd
triggerall = Var(20) >= 0
triggerall = Vel Y > -5
trigger1 = P2Dist Y < 100
y = -1

[State 280, 2]
type = ChangeState
trigger1 = Var(20) > 100
trigger1 = Random < 50
value = 281

;---------------------------------------------------------------------------
; Finger Poke
[Statedef 281]
type    = A
movetype= A
physics = N
juggle  = 1
sprpriority = 2
ctrl = 0

[State 850, EnvShake]
type = EnvShake
trigger1 = Anim = 281
trigger1 = AnimElem = 2
trigger2 = Anim = 281
trigger2 = AnimElem = 7
time = 10
freq = 100
ampl = -5
phase = 10

[State 280, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 280, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 280, Helper]
type = Helper
triggerall = NumHelper(280) = 0
trigger1 = Anim = 281
trigger1 = AnimElem = 2
helpertype = normal
name = "Helper"
id = 280
pos = 0,0
postype = p1
stateno = 10000
keyctrl = 0
ownpal = 1

[State 250, 5]
type = PosSet
triggerall = NumHelper(280) > 0
triggerall = Anim = 281
trigger1 = AnimElem = 7
x = Helper(280), Pos X
y = Helper(280), Pos Y

[State 280, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 281
value = 281

[State 280, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 280, VelAdd]
type = VelAdd
triggerall = Anim = 281
trigger1 = AnimElem = 2, < 0
trigger2 = AnimElem = 5, >= 0
trigger2 = AnimElem = 7, < 0
x = -1
y = -1

[State 280, PlaySnd]
type = PlaySnd
triggerall = Anim = 281
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
value = 4, 1

[State 280, VelSet]
type = VelSet
triggerall = Anim = 281
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
x = 20
y = 20

[State 280, VelSet]
type = VelSet
triggerall = Anim = 281
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
x = 0
y = 0

[State 280, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Anim = 281
trigger1 = AnimElem = 2
attr = A, SA
damage = 50, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, 20
hitsound = S1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-4
airguard.velocity = -1,-2
air.type = Low
air.velocity = 0,-4
air.hittime = 20
air.fall = 1
envshake.time = 4
envshake.freq = 100
envshake.ampl = 6
envshake.phase = 100
fall = 1
palfx.time = 500
palfx.sinadd = 90,90,90,12
palfx.add = 28,100,175
palfx.color = 1
palfx.invertall = 0

[State 280, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Anim = 281
trigger1 = AnimElem = 7
attr = A, SA
damage = 100, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, 20
hitsound = S1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -12,-2
airguard.velocity = -12.5,-2
air.type = Low
air.velocity = -5,-24
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 4
envshake.freq = 100
envshake.ampl = 6
envshake.phase = 100
fall = 1
palfx.time = 80
palfx.add = 80,14,255
palfx.color = 0 
palfx.sinadd = 40,7,128,10
palfx.invertall = 1

[State 280, VelSet]
type = VelSet
triggerall = Anim = 281
trigger1 = AnimElem = 10
x = -10

[State 280, VelMul]
type = VelMul
trigger1 = Anim = 281
trigger1 = AnimElem = 10, > 0
trigger2 = Anim = 0
x = .9
y = .9

[State 280, AngleAdd]
type = AngleAdd
triggerall = Anim = 281
trigger1 = AnimElem = 2, > 0
trigger1 = AnimElem = 4, < 0
trigger2 = AnimElem = 7, > 0
trigger2 = AnimElem = 9, < 0
value = 3

[State 280, AngleAdd]
type = AngleAdd
triggerall = Anim = 281
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 6, < 5
value = -3

[State 280, AngleAdd]
type = AngleAdd
triggerall = Anim = 281
trigger1 = AnimElem = 10, > 0
trigger1 = AnimElem = 12, < 0
value = 3

[State 0, HitOverride]
type = HitOverride
trigger1 = Anim = 0
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 35
ignorehitpause = 1
persistent = 1

[State 280, AngleSet]
type = AngleSet
trigger1 = Anim = 281
trigger1 = AnimElem = 12, > 0
trigger2 = Anim = 0
value = 0

[State 280, State]
type = ChangeState
trigger1 = Anim = 281
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 290]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 80
sprpriority = 2
ctrl = 0

[State 290, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 0
value = 500, 7

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 290, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 290, Anim]
type = ChangeAnim
trigger1 = 1
value = 0

[State 290, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 290, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 290, AngleAdd]
type = AngleAdd
trigger1 = Var(20) > 2
trigger1 = TimeMod = 2,0
value = -11

[State 290, VelAdd]
type = VelAdd
trigger1 = Vel Y > -20
y = -2

[State 290, 5]
type = ChangeState
trigger1 = Var(20) > 30
value = 291

;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 291]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 290, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 290
value = 290

[State 290, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 290, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Invisible

[State 290, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
x = P2Dist X

[State 290, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
y = P2Dist y -150

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 290, AngleDraw]
type = AngleDraw
trigger1 = Var(20) > 0
trigger1 = Pos Y > -500
scale = (Time)*.01, (Time)*.01

[State 290, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 0
value = 1000, 4

[State 290, Explod]
type = Explod
trigger1 = Var(20) = 0
removeongethit = 1
sprpriority = -5
pos = 0, 0
id = 290
postype = p1
bindtime = -1
removetime = -1
shadow = 100,100,100
anim = 290

[State 290, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3, < 0 
value = -10

[State 290, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3, >= 0 
value = 10


[State 290, Explod]
type = ModifyExplod
trigger1 = AnimElem = 3, < 0 
sprpriority = -10
scale = (Var(20))*.001, (Var(20))*.001
id = 290

[State 290, Explod]
type = ModifyExplod
trigger1 = AnimElem = 3, >= 0 
sprpriority = 999
ontop = 1
scale = (Var(20))*.001, (Var(20))*.001
id = 290



[State 290, VarSet]
type = Varadd
trigger1 = Time >= 0
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 5
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 10
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 15
var(20) = 2

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 20
var(20) = 3

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 25
var(20) = 4

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 30
var(20) = 5

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 35
var(20) = 10

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 37
var(20) = 20

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 39
var(20) = 40

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 41
var(20) = 50

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 43
var(20) = 100

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 45
var(20) = 150

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 47
var(20) = 200

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 49
var(20) = 200

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 51
var(20) = 200

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 53
var(20) = 200








[State 290, 1]
type = VelAdd
triggerall = Vel X < 1
trigger1 = AnimElem = 1, < 0
trigger1 = P2Dist X > 0
x = .2

[State 290, 1]
type = VelAdd
triggerall = Vel X > -1
trigger1 = AnimElem = 1, < 0
trigger1 = P2Dist X < 0
x = -.2

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 3, < 0
trigger1 = P2Dist X > -5
trigger1 = P2Dist X < 5
x = 0

[State 300, 1]
type = VelAdd
trigger1 = P2Dist X > 0
x = .6

[State 300, 1]
type = VelAdd
trigger1 = P2Dist X < 0
x = -.6

[State 290, 2]
type = HitDef
triggerall = enemy,movetype = A
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 2
attr = A, SA
damage = 150, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 7
sparkno = 2
sparkxy = -10, 0
hitsound = S1000,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 6,-28
airguard.velocity = 6,-28
air.type = Low
air.velocity = 6,-28
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = 15
envshake.phase = 100
fall = 1

[State 290, 2]
type = HitDef
triggerall = enemy,movetype != A
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 2
attr = A, SA
damage = 95, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, 0
hitsound = S1000,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 4,-28
airguard.velocity = 4,-28
air.type = Low
air.velocity = 4,-28
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
fall = 1

[State 800, EnvShake]
type = EnvShake
trigger1 = AnimElem = 300
time = 20
freq = 100
ampl = -5
phase = 5

[State 290, 1]
type = VelSet
trigger1 = P2Dist y > 70
trigger1 = P2Dist y < -70
y = 0

[State 300, 1]
type = VelAdd
trigger1 = P2Dist y = -70
y = 0

[State 300, 1]
type = VelAdd
trigger1 = P2Dist y > 70
y = .08

[State 300, 1]
type = VelAdd
trigger1 = P2Dist y < -70
y = -.08

[State 290, 1]
type = VelAdd
trigger1 = AnimElem = 3, > 0
y = -16

[State 290, Explod]
type = RemoveExplod
trigger1 = Time > 0
trigger1 = Pos Y <= -600
id = 290

[State 290, PlaySnd]
type = PlaySnd
trigger1 = Pos Y < -4000
value = 500, 11

[State 290, 5]
type = ChangeState
trigger1 = Time > 0
trigger1 = Pos Y < -4000
value = 292

;---------------------------------------------------------------------------
; Rocket Punch End
[Statedef 292]
type    = A
movetype= A
physics = N
juggle  = 1
velset = -5,12
ctrl = 0

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 290, Anim]
type = ChangeAnim
trigger1 = Var(20) < 20
value = 0

[State 290, PosSet]
type = PosSet
trigger1 = Var(20) <= 0
x = 0
y = -300

[State 290, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 44

[State 290, AngleAdd]
type = AngleAdd
trigger1 = Var(20) > 0
trigger1 = Var(20) < 20
value = -2

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) >= 20
value = 0

[State 290, 1]
type = VelMul
trigger1 = Var(20) > 10
x = .9
y = .9

[State 290, 5]
type = ChangeState
trigger1 = Var(20) > 50
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Gun Shot
[Statedef 300]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 80
sprpriority = 2
ctrl = 0

[State 300, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 300, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 300, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 300
value = 300

[State 300, AngleSet]
type = AngleSet
trigger1 = Time <= 0
trigger2 = Anim = 300
trigger2 = AnimElem = 3
trigger3 = Anim = 300
trigger3 = AnimElem = 4, >= 0
value = 0

[State 300, VarSet]
type = VarSet
trigger1 = Time <= 0
var(0) = 0

[State 300, 1]
type = VelSet
trigger1 = Var(20) <= 0
trigger1 = P2Dist X < 0
x = P2Dist X/5

[State 300, 1]
type = VelSet
trigger1 = Var(20) <= 20
x = -BackEdgeDist/5
y = -Pos Y/Floor(10)

[State 300, 1]
type = VelSet
triggerall = Var(20) >= 20
triggerall = Anim = 300
trigger1 = P2Dist X > 245
trigger1 = P2Dist X < 255
x = 0

[State 300, 1]
type = VelSet
triggerall = Var(20) >= 20
triggerall = Anim = 300
trigger1 = P2Dist Y > 5
trigger1 = P2Dist Y < 15
y = 0

[State 300, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Anim = 300
triggerall = Vel X < 5
trigger1 = P2Dist X > 250
x = 1

[State 300, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Anim = 300
triggerall = Vel X > -5
trigger1 = P2Dist X < 250
x = -1

[State 300, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Anim = 300
triggerall = Vel Y < 5
trigger1 = P2Dist Y > 10
y = 1

[State 300, 1]
type = VelAdd
triggerall = Var(20) >= 20
triggerall = Anim = 300
triggerall = Vel Y > -5
trigger1 = P2Dist Y < 10
y = -1

[State 300, Explod]
type = Explod
triggerall = Anim = 300
trigger1 = AnimElem = 4, = 10
sprpriority = 10
pos = 66, -50
postype = p1
anim = F100

[State 300, Explod]
type = Explod
triggerall = Anim = 300
trigger1 = AnimElem = 4, >= 0
trigger1 = TimeMod = 22,0
sprpriority = 10
pos = 66, -50
postype = p1
anim = F100

[State 300, AngleAdd]
type = AngleAdd
trigger1 = Anim = 300
trigger1 = AnimElem = 2, >= 3
trigger1 = AnimElem = 3, < 0
value = 10.5

[State 300, AngleAdd]
type = AngleAdd
trigger1 = Anim = 300
trigger1 = AnimElem = 3, >= 10
trigger1 = AnimElem = 4, < 0
value = -5.5

[State 300, 2]
type = ChangeState
trigger1 = Var(20) > 70
trigger1 = Random < 10
value = 301

;---------------------------------------------------------------------------
; Gun Shot
[Statedef 301]
type    = A
movetype= A
physics = N
juggle  = 1
sprpriority = 2
ctrl = 0

[State 300, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 300, 2]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 301
trigger1 = Anim != 0
trigger2 = Life <= 1000
trigger2 = Var(0) < 3
trigger2 = Anim = 301
trigger2 = AnimElem = 3, >= 8
value = 301

[State 300, 1]
type = VelMul
trigger1 = 1
x = .14
y = .14

[State 300, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 300, AngleSet]
type = AngleSet
triggerall = Anim = 301
trigger1 = AnimElem = 2, < 0
trigger2 = AnimElem = 3
trigger3 = AnimElem = 3, >= 8
trigger3 = AnimElem = 3, < 40
trigger4 = AnimElem = 4
value = 0

[State 300, AngleAdd]
type = AngleAdd
trigger1 = Anim = 301
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
value = 5.5

[State 300, AngleAdd]
type = AngleAdd
trigger1 = Anim = 301
trigger1 = AnimElem = 3, >= 40
trigger1 = AnimElem = 4, < 0
value = -5.5

[State 300, AngleAdd]
type = AngleAdd
triggerall = Var(0) < 3
triggerall = Life <= 1000
trigger1 = Anim = 301
trigger1 = AnimElem = 3, >= 5
trigger1 = AnimElem = 4, < 0
value = -10.5

[State 300, 3]
type = VelSet
trigger1 = Anim = 301
trigger1 = AnimElem = 1
x = -2
y = 0

[State 300, VarAdd]
type = VarAdd
trigger1 = Anim = 301
trigger1 = AnimElem = 1
var(0) = 1

[State 300, EnvShake]
type = EnvShake
trigger1 = Anim = 301
trigger1 = AnimElem = 1
time = 5
freq = 100
ampl = -5
phase = 5

[State 300, Explod]
type = Explod
trigger1 = Anim = 301
trigger1 = AnimElem = 1
sprpriority = 8
pos = 60, -50
postype = p1
anim = F3

[State 300, Explod]
type = Explod
trigger1 = Anim = 301
trigger1 = AnimElem = 1
sprpriority = 6
pos = 60, -50
postype = p1
anim = 305

[State 300, 4]
type = Projectile
trigger1 = Anim = 301
trigger1 = AnimElem = 1
projid = 310
projanim = 310
projhitanim = 310
projshadow = -1
offset = 80, -50
velocity = 20, 2
accel = 0, 0
projhits = 2
projmisstime = 0
sprpriority = 5
; HitDef
attr = A, SP
damage    = 50,10
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

[State 300, 4]
type = null ;Projectile
trigger1 = Anim = 301
trigger1 = AnimElem = 1
projid = 310
projanim = 310
projhitanim = 310
projshadow = -1
offset = 80, -50
velocity = 20, 2
accel = 0, 0
projhits = 2
projmisstime = 0
sprpriority = 5
; HitDef
attr = A, SP
damage    = 30,1
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

[State 300, 4]
type = null ;Projectile
trigger1 = Anim = 301
trigger1 = AnimElem = 1,1
projid = 310
projanim = 310
projhitanim = 310
projshadow = -1
offset = 80, -50
velocity = 20, 2
accel = 0, 0
projhits = 2
projmisstime = 0
sprpriority = 5
; HitDef
attr = A, SP
damage    = 40,1
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

[State 300, 4]
type = null ;Projectile
trigger1 = Anim = 301
trigger1 = AnimElem = 1
projid = 310
projanim = 310
projhitanim = 310
projshadow = -1
offset = 80, -50
velocity = 20, 2
accel = 0, 0
projhits = 2
projmisstime = 0
sprpriority = 5
; HitDef
attr = A, SP
damage    = 30,10
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

[State 300, Explod]
type = null ;Explod
triggerall = ProjContact(320) = 1
trigger1 = P2MoveType = H
sprpriority = 10
random = 70,30
pos = 0,-50
postype = p2
anim = F2

[State 300, Explod]
type = null ;Explod
triggerall = ProjContact(320) = 1
trigger1 = P2MoveType = H
sprpriority = 8
random = 70,30
pos = 0,-50
postype = p2
anim = F3

[State 300, 3]
type = PlaySnd
triggerall = Anim = 301
trigger1 = AnimElem = 2
value = 5, 1

[State 300, 4]
type = VelSet
triggerall = Anim = 301
trigger1 = AnimElem = 4
x = 10
y = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = Anim = 301
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 35
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = Anim = 0
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 35
ignorehitpause = 1
persistent = 1

[State 300, 5]
type = ChangeAnim
trigger1 = Anim = 301
trigger1 = AnimTime = 0
value = 0

[State 300, 5]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
trigger2 = Var(20) > 60
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Gun Shot Bullets
[Statedef 310]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 20,2
sprpriority = 5
anim = 310
ctrl = 0

[State 310, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 310, 1]
type = AfterImage
trigger1 = Time <= 0
time = 0
TimeGap  = 1
FrameGap = 1
length = 5
PalBright   = 200,100,0
PalContrast = 200,100,0
Trans = add

[State 310, 2]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 35
ignorehitpause = 1
persistent = 1

[State 310, 4]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = MoveContact = 0
attr = A, SP
damage    = 50,10
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 5

[State 310, Explod]
type = Explod
triggerall = MoveContact
trigger1 = P2MoveType = H
sprpriority = 10
random = 50,50
pos = 0,-50
postype = p2
anim = F2

[State 310, Explod]
type = Explod
triggerall = MoveContact
trigger1 = P2MoveType = H
sprpriority = 8
random = 50,50
pos = 0,-50
postype = p2
anim = F3

[State 300, 5]
type = ChangeState
trigger1 = MoveContact
value = 311

[State 310, Destroy]
type = DestroySelf
trigger1 = Pos Y >= 0

;---------------------------------------------------------------------------
; Gun Shot Bullets Hit
[Statedef 311]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 20,2
sprpriority = 5
ctrl = 0

[State 310, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 310, 2]
type = AfterImageTime
trigger1 = 1
time = 2

[State 310, 4]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = MoveContact = 0
attr = A, SP
damage    = 50,10
animtype  = Heavy
getpower  = 10
givepower = 20
guardflag = MA
pausetime = 0,10
sparkno = 1
sparkxy = 0, 0
hitsound   = S3,0
guardsound = S3,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -5   
air.type = Low
air.velocity = -5,-1
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100
envshake.time = 10
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

[State 310, Explod]
type = Explod
triggerall = MoveContact
trigger1 = P2MoveType = H
sprpriority = 10
random = 50,50
pos = 0,-50
postype = p2
anim = F2

[State 310, Explod]
type = Explod
triggerall = MoveContact
trigger1 = P2MoveType = H
sprpriority = 8
random = 50,50
pos = 0,-50
postype = p2
anim = F3

[State 310, Destroy]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Pos Y >= 0

;---------------------------------------------------------------------------
; Grab Attempt
[Statedef 400]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 80
sprpriority = -5
ctrl = 0

[State 400, VarSet]
type = VarSet
trigger1 = Time <= 0
var(0) = 0

[State 400, VarSet]
type = VarSet
trigger1 = Time <= 0
var(1) = 0

[State 400, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 400
trigger1 = Anim != 401
value = 400

[State 400, 1]
type = VelAdd
triggerall = Anim = 400
triggerall = Vel X < 2
trigger1 = P2Dist X > 0
x = .5

[State 400, 1]
type = VelAdd
triggerall = Anim = 400
triggerall = Vel X > -2
trigger1 = P2Dist X < 0
x = -.5

[State 400, 1]
type = VelAdd
triggerall = Anim = 400
triggerall = Vel Y < 2
trigger1 = P2Dist Y > 20
y = .5

[State 400, 1]
type = VelAdd
triggerall = Anim = 400
triggerall = Vel Y > -2
trigger1 = P2Dist Y < 20
y = -.5

[State 400, 1]
type = VelSet
triggerall = Anim = 400
trigger1 = P2Dist Y > 15
trigger1 = P2Dist Y < 25
y = 0

[State 400, 2]
type = HitDef
trigger1 = Anim = 400
trigger1 = AnimElem = 3
attr = A, NT
hitflag = MA-
priority = 1, Miss
sparkno = -1
sprpriority = 1
p1stateno = 401
p2stateno = 405
p2facing = 1
numhits = 0
ground.velocity = -5,-5
air.velocity = -5,-5
air.fall = 1
fall = 1

[State 400, 2]
type = ChangeAnim
trigger1 = Var(20) > 100
trigger1 = Anim = 400
value = 401

[State 400, 2]
type = VelSet
triggerall = Anim = 401
trigger1 = AnimElem = 2, < 0
x = 0
y = 0

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Grabbed Opponent
[Statedef 401]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0

[State 400, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 401
value = 401

[State 400, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 400, 1]
type = PlaySnd
triggerall = Anim = 401
trigger1 = AnimElem = 1
value = 4, 0
freqmul = .5

[State 400, 2]
type = TargetBind
trigger1 = AnimElem = 2, < 0
pos = 0, 20
time = 2

[State 400, 2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
pos = 0, 0
time = 2

[State 400, 3]
type = ChangeAnim
trigger1 = Anim = 401
trigger1 = AnimElem = 5, >= 0
value = 401
elem = 5

[State 400, VarAdd]
type = VarAdd
trigger1 = Anim = 401
trigger1 = AnimElem = 5, >= 0
var(1) = 1

[State 400, PosAdd]
type = PosAdd
triggerall = Var(1) >= 80
trigger1 = TimeMod = 1,0
x = 5

[State 400, PosAdd]
type = PosAdd
triggerall = Var(1) >= 80
trigger1 = TimeMod = 2,0
x = -10

[State 400, State]
type = ChangeState
triggerall = Anim = 401
triggerall = AnimElem = 5, >= 0
trigger1 = Command = "x"
trigger2 = Command = "y"
trigger3 = Command = "z"
value = 404

[State 400, State]
type = ChangeState
triggerall = Anim = 401
triggerall = AnimElem = 5, >= 0
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
value = 402

[State 400, State]
type = ChangeState
triggerall = Anim = 401
triggerall = AnimElem = 5, >= 0
trigger1 = Var(1) >= 100
value = 410

;---------------------------------------------------------------------------
; Slam Opponent
[Statedef 402]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0

[State 400, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 400, 2]
type = TargetBind
trigger1 = 1
pos = 0, 0
time = 2

[State 400, 2]
type = TargetState
trigger1 = Time <= 0
trigger1 = Target, StateNo != 405
value = 405

[State 400, 3]
type = ChangeAnim
trigger1 = Time <= 0
value = 402

[State 400, VarAdd]
type = VarAdd
trigger1 = Time = 0
var(0) = 1

[State 400, 4]
type = VelSet
trigger1 = Time = 0
x = -10
y = -20

[State 400, 4]
type = VelSet
trigger1 = Time = 20
x = 10

[State 400, 5]
type = VelMul
trigger1 = Vel X < 0
x = .9

[State 400, 5]
type = VelAdd
triggerall = Time > 0
trigger1 = Vel Y < 0
y = 1

[State 400, 5]
type = VelAdd
triggerall = Time > 0
trigger1 = Vel Y >= 0
trigger1 = Vel Y < 30
y = 26

[State 400, 5]
type = AngleSet
trigger1 = Time <= 0
trigger2 = Time > 30
value = 0

[State 400, 5]
type = AngleDraw
trigger1 = Pos Y < -10

[State 400, 6]
type = AngleAdd
trigger1 = Time > 0
trigger1 = Time < 10
value = 10

[State 400, 6]
type = AngleAdd
trigger1 = Time > 20
trigger1 = Time < 30
value = -20

[State 400, State]
type = ChangeState
trigger1 = Time > 20
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 403

;---------------------------------------------------------------------------
; Slammed Opponent
[Statedef 403]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0

[State 400, 1]
type = ChangeAnim
trigger1 = Time <= 0
value = 401
elem = 5

[State 400, 1]
type = ChangeAnim
trigger1 = Anim = 401
trigger1 = AnimTime = 0
value = 0

[State 400, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 400, 2]
type = TargetBind
trigger1 = Time <= 0
pos = 0, 0
time = 2

[State 400, 2]
type = TargetState
trigger1 = Time <= 0
trigger1 = Target, StateNo != 406
value = 406

[State 400, 2]
type = PosSet
trigger1 = Time <= 0
y = 0

[State 400, 2]
type = TargetLifeAdd
trigger1 = Life > 1000
trigger1 = Time = 0
value = -200

[State 400, 2]
type = TargetLifeAdd
trigger1 = Life <= 1000
trigger1 = Time = 0
value = -150

[State 400, HitAdd]
type = HitAdd
trigger1 = Time = 0
value = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 0

[State 400, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 20
freq = 100
ampl = -5
phase = 5

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 0
pos = 0, 0
anim = F0

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 1
pos = 0, 0
anim = F1

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 2
pos = 0, 0
anim = F2

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 3
pos = 0, 0
anim = F3

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 1
pos = 0, 0
anim = F60

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 0
pos = 0, 0
anim = F61

[State 400, Explod]
type = Explod
trigger1 = Time = 0
sprpriority = 2
pos = 0, 0
anim = F62

[State 400, 2]
type = VelSet
trigger1 = Anim = 401
trigger1 = AnimElem = 6
x = -10
y = -10

[State 400, 3]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 400, State]
type = ChangeState
trigger1 = Var(0) < 2
trigger1 = Life <= 1000
trigger1 = Time >= 5
value = 402

[State 400, State]
type = ChangeState
trigger1 = Time > 50
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Squeeze Opponent
[Statedef 404]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0

[State 400, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 400, 1]
type = TargetBind
trigger1 = 1
pos = 0, 0
time = 2

[State 400, VarAdd]
type = VarAdd
trigger1 = Anim = 404
var(1) = 1

[State 400, 1]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 404
value = 404

[State 400, 2]
type = TargetLifeAdd
triggerall = Life > 1000
triggerall = Anim = 404
trigger1 = AnimElem = 1
value = -20
kill = 0

[State 400, 2]
type = TargetLifeAdd
triggerall = Life <= 1000
triggerall = Anim = 404
trigger1 = AnimElem = 1
value = -40
kill = 0

[State 400, HitAdd]
type = HitAdd
triggerall = Anim = 404
trigger1 = AnimElem = 1
value = 1

[State 400, PlaySnd]
type = PlaySnd
triggerall = Anim = 404
trigger1 = AnimElem = 1
value = 4, 1
freqmul = .5

[State 400, Explod]
type = Explod
triggerall = Anim = 404
trigger1 = AnimElem = 1
sprpriority = 4
pos = 0, -30
anim = F2

[State 400, EnvShake]
type = EnvShake
triggerall = Life <= 1000
triggerall = Anim = 404
trigger1 = AnimElem = 1
time = 5
freq = 100
ampl = -5
phase = 5

[State 400, PosAdd]
type = PosAdd
triggerall = Time > 0
trigger1 = TimeMod = 1,0
x = ifelse (Life > 1000, 2, 4)
y = ifelse (Life > 1000, -1, -2)

[State 400, PosAdd]
type = PosAdd
triggerall = Time > 0
trigger1 = TimeMod = 2,0
x = ifelse (Life > 1000, -4, -8)
y = ifelse (Life > 1000, 2, 4)

[State 400, Anim]
type = ChangeAnim
trigger1 = Anim = 404
trigger1 = AnimTime = 0
value = 401
elem = 5

[State 400, State]
type = ChangeState
trigger1 = Anim = 401
value = 401

;---------------------------------------------------------------------------
; Opponent Grabbed 
[Statedef 405]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1
ctrl = 0

[State 405, 1]
type = ChangeAnim2
trigger1 = Anim != 405
value = 405

[State 405, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 405, 3]
type = AssertSpecial
trigger1 = Time >= 5
trigger1 = Enemy, StateNo = 402
trigger2 = Enemy, StateNo = 403
flag = Invisible

[State 0, Die when win]
type = SelfState
trigger1 = Time = 400
value = 5100

;---------------------------------------------------------------------------
; Opponent Slammed
[Statedef 406]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1
ctrl = 0

[State 405, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 405, 3]
type = AssertSpecial
trigger1 = Time < 5
flag = Invisible

[State 405, HitVelSet]
type = HitVelSet
trigger1 = Time > 5
x = 1
y = 1

[State 405, 4]
type = SelfState
trigger1 = Time > 5
value = 5100

;---------------------------------------------------------------------------
; Opponent Released
[Statedef 407]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1
ctrl = 0

[State 405, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 405, HitVelSet]
type = HitVelSet
trigger1 = Time > 0
x = 1

[State 405, 4]
type = SelfState
trigger1 = Time > 0
value = 5050

;---------------------------------------------------------------------------
; Release Opponent
[Statedef 410]
type    = A
movetype= A
physics = N
juggle  = 1
velset = -10,-5
sprpriority = 0
ctrl = 0

[State 410, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 410
value = 410

[State 410, 1]
type = TargetBind
trigger1 = Time <= 0
pos = 0, 20
time = 1

[State 410, 1]
type = TargetState
trigger1 = Time <= 0
trigger1 = Target, StateNo != 407
value = 407

[State 410, 2]
type = TargetLifeAdd
trigger1 = Time <= 0
value = -10

[State 410, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 410, 3]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 410, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Stone Drop
[Statedef 500]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 80
sprpriority = 2
ctrl = 1

[State 500, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 500
trigger1 = Anim != 501
value = 500

[State 500, 1]
type = VelAdd
triggerall = Anim = 500
triggerall = Vel X < 3
trigger1 = P2Dist X > 0
x = 11.5

[State 500, 1]
type = VelAdd
triggerall = Anim = 500
triggerall = Vel X > -3
trigger1 = P2Dist X < 0
x = -11.5

[State 500, 1]
type = VelAdd
triggerall = Anim = 500
triggerall = Vel Y < 3
trigger1 = Pos Y < -200
y = 7.5

[State 500, 1]
type = VelAdd
triggerall = Anim = 500
triggerall = Vel Y > -3
trigger1 = Pos Y > -200
y = -7.5

[State 500, 1]
type = VelSet
triggerall = Anim = 500
trigger1 = P2Dist X > -5
trigger1 = P2Dist X < 5
x = 0

[State 500, 1]
type = VelSet
triggerall = Anim = 500
trigger1 = Pos Y > -205
trigger1 = Pos Y < -195
y = 0

[State 500, 1]
type = ChangeAnim
trigger1 = Pos Y < -190
trigger1 = Anim = 500
trigger1 = P2Dist X > -5
trigger1 = P2Dist X < 5
trigger2 = Anim = 501
value = 501

[State 500, 1]
type = VelSet
trigger1 = Anim = 501
x = 0

[State 500, 1]
type = VelAdd
trigger1 = Anim = 501
trigger1 = Vel Y < 30
y = 15

[State 500, 2]
type = HitDef
triggerall = P2StateNo != 100
triggerall = P2StateNo != 105
trigger1 = Anim = 501
trigger1 = Vel Y > 0
trigger1 = MoveContact = 0
trigger1 = P2StateType != L
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAF
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,Vel Y + 10
airguard.velocity = 0,Vel Y + 10
air.type = Trip
air.velocity = 0,Vel Y + 10
air.hittime = 10
air.fall = 1
fall = 1

[State 500, State]
type = ChangeState
trigger1 = Anim = 501
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 501

;---------------------------------------------------------------------------
; Stone Drop Land
[Statedef 501]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0

[State 500, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 500, 1]
type = ChangeAnim
trigger1 = Var(20) <= 0
value = 501

[State 500, 1]
type = ChangeAnim
trigger1 = Anim = 501
trigger1 = AnimTime = 0
value = 0

[State 500, 2]
type = PosSet
trigger1 = Var(20) <= 0
y = 0

[State 500, 1]
type = PlaySnd
trigger1 = Var(20) = 0
value = 3, 0

[State 500, EnvShake]
type = EnvShake
trigger1 = Var(20) = 0
time = 20
freq = 100
ampl = -5
phase = 10

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 2
pos = 0, 0
anim = F0

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 3
pos = 0, 0
anim = F1

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 4
pos = 0, 0
anim = F2

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 5
pos = 0, 0
anim = F3

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 0
pos = 0, 0
anim = F60

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 1
pos = 0, 0
anim = F61

[State 500, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 2
pos = 0, 0
anim = F62

[State 500, 0]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = MoveContact = 0
trigger1 = P2StateType != L
attr = A, SA
damage = 100, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 0
guard.pausetime = 0,10
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 10
ground.velocity = -1,10
airguard.velocity = -1,2.5
air.type = Low
down.hittime = 40
down.velocity = -5,100
air.velocity = -10,100
air.hittime = 10
air.fall = 1
fall = 1

[State 500, 0]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = MoveContact = 0
trigger1 = P2StateType = L
attr = A, SA
damage = 100, 10
animtype = Medium
hitflag = FD
priority = 3, Hit
pausetime = 1, 0
guard.pausetime = 0,1
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = Low
down.hittime = 40
down.velocity = -5,100
air.velocity = 0,0
air.hittime = 10
air.fall = 1
fall = 1

[State 500, TargetBind]
type = TargetBind
triggerall = MoveHit
triggerall = Anim = 501
trigger1 = NumTarget > 0
trigger1 = P2StateType = L
ignorehitpause = 1
pos = 0, 0
time = 2

[State 500, TargetState]
type = TargetState
triggerall = MoveHit
triggerall = Anim = 501
trigger1 = NumTarget > 0
trigger1 = P2StateType = L
ignorehitpause = 1
value = 505

[State 500, 2]
type = VelSet
trigger1 = Anim = 501
trigger1 = AnimElem = 4
x = -10
y = -20

[State 500, 3]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 500, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Stone Drop Hit
[Statedef 505]
type    = A
movetype= H
physics = N
anim = 5080
ctrl = 0

[State 505, PosSet]
type = PosSet
trigger1 = Time <= 0
y = 0

[State 505, Anim]
type = ChangeAnim
trigger1 = HitShakeOver = 0
value = 5080

[State 505, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 505, PosAdd]
type = PosAdd
trigger1 = HitShakeOver
y = 20

[State 505, HitVelSet]
type = HitVelSet
trigger1 = HitShakeOver
x = 1
y = 1

[State 505, SelfState]
type = SelfState
trigger1 = HitShakeOver
value = 5000

;---------------------------------------------------------------------------
; Wall Slam
[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 80
sprpriority = 2
ctrl = 0

[State 600, Width]
type = Width
trigger1 = 1
value = -20,0

[State 600, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 600
trigger1 = Anim != 601
value = 600

[State 600, 1]
type = VelSet
triggerall = Anim = 600
trigger1 = P2Dist X > 195
trigger1 = P2Dist X < 205
x = 0

[State 600, 1]
type = VelSet
triggerall = Anim = 600
trigger1 = P2Dist Y > -5
trigger1 = P2Dist Y < 5
y = 0

[State 600, 1]
type = VelAdd
triggerall = Anim = 600
triggerall = Vel X < 4
trigger1 = P2Dist X > 200
x = 3.5

[State 600, 1]
type = VelAdd
triggerall = Anim = 600
triggerall = Vel X > -4
trigger1 = P2Dist X < 200
x = -3.5

[State 600, 1]
type = VelAdd
triggerall = Anim = 600
triggerall = Vel Y < 2
trigger1 = P2Dist Y > 0
y = 1.5

[State 600, 1]
type = VelAdd
triggerall = Anim = 600
triggerall = Vel Y > -2
trigger1 = P2Dist Y < 0
y = -1.5

[State 600, 2]
type = ChangeAnim
trigger1 = Var(20) > 50
trigger1 = Anim = 600
trigger1 = AnimElem = 3, > 0
trigger1 = P2Dist X > 0
trigger1 = P2Dist Y > -5
trigger1 = P2Dist Y < 5
value = 601

[State 600, 3]
type = VelSet
trigger1 = Anim = 601
y = 0

[State 600, 4]
type = VelAdd
trigger1 = Anim = 601
trigger1 = Vel X < 30
x = 6

[State 600, 4]
type = HitDef
triggerall = P2StateNo != 105
trigger1 = Anim = 601
trigger1 = MoveContact = 0
attr = A, SA
damage = 50, 10
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2
sparkxy = 0, -50
hitsound = S1,2
guardsound = S4,0
airguard.velocity = -10,-5
p2stateno = 605
p2facing = 1

[State 600, 4]
type = TargetBind
trigger1 = MoveHit
pos = 10, 0
time = 1

[State 600, 5]
type = ChangeState
triggerall = Var(20) > 50
triggerall = Anim = 601
trigger1 = FrontEdgeBodyDist < 10
value = 601

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Slam to Wall
[Statedef 601]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
ctrl = 0

[State 700, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 600, ScreenBound]
type = ScreenBound
trigger1 = Var(20) < 20
value = 0
movecamera = 0,0

[State 600, Width]
type = Width
trigger1 = Var(20) < 20
value = -20,0

[State 600, Push]
type = PlayerPush
trigger1 = Var(20) < 20
value = 0

[State 600, 1]
type = PlaySnd
trigger1 = Var(20) = 0
value = 3, 0

[State 600, Spark]
type = Explod
trigger1 = Var(20) = 0
anim = F70
pos = 5,-60
postype = p1
facing = -1
sprpriority = 3

[State 600, Spark]
type = Explod
trigger1 = Var(20) = 0
anim = F71
pos = 5,-60
postype = p1
facing = -1
sprpriority = 3

[State 600, Spark]
type = Explod
trigger1 = Var(20) = 0
anim = F72
pos = 5,-60
postype = p1
facing = -1
sprpriority = 3

[State 600, EnvShake]
type = EnvShake
trigger1 = Var(20) = 0
time = 20
freq = 100
ampl = -5
phase = 10

[State 600, 2]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = NumTarget > 0
trigger1 = Time = 0
attr = A, SA
damage = 100, 10
animtype = Medium
hitflag = MAF
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, -50
hitsound = S1,2
guardsound = S4,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6,-6
airguard.velocity = -3,-3
air.type = Low
air.cornerpush.veloff = 0
fall.animtype = Medium
air.velocity = -5,-5
air.hittime = 10
air.fall = 1
fall = 1

[State 600, 0]
type = VelSet
trigger1 = Var(20) = 20
x = -20
y = -5

[State 600, VelMul]
type = VelMul
trigger1 = Var(20) > 20
x = .9
y = .9

[State 600, 2]
type = ChangeAnim
trigger1 = Var(20) > 20
trigger1 = Var(20) < 25
value = 600
elem = 2

[State 600, 2]
type = ChangeAnim
trigger1 = Var(20) = 25
value = 0

[State 600, 4]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Hit
[Statedef 605]
type = S
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 605, Anim]
type = ChangeAnim
trigger1 = 1
value = 5001
elem = 1

[State 605, State]
type = SelfState
triggerall = Time > 0
trigger1 = P2StateNo != 600
trigger1 = P2StateNo != 601
value = 5000

;---------------------------------------------------------------------------
; Shock Wave Fist
[Statedef 700]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
poweradd = 80
sprpriority = 2
ctrl = 0
facep2 = 1

[State 700, VarSet]
type = VarSet
trigger1 = Time <= 0
var(0) = 0

[State 700, 3]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 700
value = 700

[State 700, 4]
type = VelSet
trigger1 = Var(20) <= 0
x = -7
y = -12

[State 700, 4]
type = VelSet
trigger1 = Var(20) = 18
x = 12

[State 700, 5]
type = VelMul
trigger1 = Vel X < 0
x = .12

[State 700, 5]
type = VelAdd
triggerall = Var(20) > 0
trigger1 = Vel Y < 0
y = .7

[State 700, 5]
type = VelAdd
triggerall = Var(20) > 18
trigger1 = Vel Y >= 0
trigger1 = Vel Y < 30
y = 12

[State 700, 5]
type = AngleSet
trigger1 = Var(20) <= 0
trigger2 = Var(20) > 18
value = 0

[State 700, 5]
type = AngleDraw
trigger1 = Pos Y < -12

[State 700, 6]
type = AngleAdd
trigger1 = Var(20) > 0
trigger1 = Var(20) < 8
value = 12

[State 700, 6]
type = AngleAdd
trigger1 = Var(20) > 18
trigger1 = Var(20) < 28
value = -12

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 700, 7]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Vel Y > 0
trigger1 = MoveContact = 0
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -10,Vel Y + 10
airguard.velocity = -5,Vel Y + 5
air.type = Trip
air.velocity = -10,Vel Y + 10
air.hittime = 10
air.fall = 1
fall = 1

[State 700, State]
type = ChangeState
trigger1 = Var(20) > 18
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 701

;---------------------------------------------------------------------------
; Shock Wave Pound
[Statedef 701]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 700, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 700, VarAdd]
type = VarAdd
trigger1 = Var(20) <= 0
var(0) = 1

[State 700, 1]
type = ChangeAnim
trigger1 = Var(20) <= 0
value = 220
elem = 2

[State 700, 1]
type = ChangeAnim
trigger1 = Anim = 220
trigger1 = AnimTime = 0
value = 0

[State 700, 2]
type = PosSet
trigger1 = Var(20) <= 0
y = 0

[State 700, 1]
type = PlaySnd
trigger1 = Var(20) = 0
value = 3, 0

[State 700, EnvShake]
type = EnvShake
trigger1 = Var(20) = 0
time = 18
freq = 100
ampl = -13
phase = 10

[State 700, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 1
pos = 0, 0
anim = F60

[State 700, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 0
pos = 0, 0
anim = F61

[State 700, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 2
pos = 0, 0
anim = F62

[State 700, Shot]
type = Helper
trigger1 = Var(20) = 0
helpertype = normal
name = "Shock Wave"
id = 700
pos = 50,0
postype = p1
stateno = 705
keyctrl = 0
ownpal = 1

[State -2,a]
type = Explod
trigger1 = Var(20) = 0
anim = F620
pos = 35,0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.7

[State 700, 7]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Anim = 220
trigger1 = AnimElem = 2
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 7, 7
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -10,-5
airguard.velocity = -5,-2.5
air.type = Trip
air.velocity = -10,-5
air.hittime = 10
air.fall = 1
fall = 1

[State 700, 2]
type = VelSet
trigger1 = Anim = 220
trigger1 = AnimElem = 3
x = -9
y = -11

[State 700, 3]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 700, State]
type = ChangeState
trigger1 = Var(0) < 2
trigger1 = Life <= 1000
trigger1 = Var(20) >= 10
value = 702

[State 700, State]
type = ChangeState
trigger1 = Var(20) > 50
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Shock Wave Fist
[Statedef 702]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 700, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 700, 3]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 700
value = 700

[State 700, 4]
type = VelSet
trigger1 = Var(20) = 0
x = -10
y = -20

[State 700, 4]
type = VelSet
trigger1 = Var(20) = 20
x = 10

[State 700, 5]
type = VelMul
trigger1 = Vel X < 0
x = .9

[State 700, 5]
type = VelAdd
triggerall = Var(20) > 0
trigger1 = Vel Y < 0
y = 1

[State 700, 5]
type = VelAdd
triggerall = Var(20) > 20
trigger1 = Vel Y >= 0
trigger1 = Vel Y < 30
y = 5

[State 700, 5]
type = AngleSet
trigger1 = Var(20) <= 0
trigger2 = Var(20) > 30
value = 0

[State 700, 5]
type = AngleDraw
trigger1 = Pos Y < -10

[State 700, 6]
type = AngleAdd
trigger1 = Var(20) > 0
trigger1 = Var(20) < 10
value = 10

[State 700, 6]
type = AngleAdd
trigger1 = Var(20) > 20
trigger1 = Var(20) < 30
value = -10

[State 700, 7]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Vel Y > 0
trigger1 = MoveContact = 0
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -10,Vel Y + 10
airguard.velocity = -5,Vel Y + 5
air.type = Trip
air.velocity = -10,Vel Y + 10
air.hittime = 10
air.fall = 1
fall = 1

[State 700, State]
type = ChangeState
trigger1 = Var(20) > 20
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 701

;---------------------------------------------------------------------------
; Shock Wave
[Statedef 705]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 4
anim = 5
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 705, VelSet]
type = VelSet
trigger1 = RootDist X <= 0
x = 10

[State 705, VelSet]
type = VelSet
trigger1 = RootDist X > 0
x = -10

[State 705, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 705, Explod]
type = Explod
trigger1 = TimeMod = 5,0
sprpriority = 0
pos = 0, 0
anim = F60

[State 705, Explod]
type = Explod
trigger1 = TimeMod = 5,0
sprpriority = 1
pos = 0, 0
anim = F61

[State 705, Shot]
type = Helper
trigger1 = TimeMod = 5,0
helpertype = normal
name = "Shock"
id = 705
pos = 0,0
postype = p1
stateno = 706
keyctrl = 0
ownpal = 1

[State 705, Destroy]
type = DestroySelf
trigger1 = Time > 20

;---------------------------------------------------------------------------
; Shock
[Statedef 706]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,-10
sprpriority = 5
anim = 5
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 705, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 705, Explod]
type = Explod
trigger1 = TimeMod = 2,0
sprpriority = 5
pos = 0, 0
anim = F2

[State 705, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Time = 3
attr = A, SP
damage = 50, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 3
sparkxy = 0, 0
hitsound = S2, 1
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = ifelse (RootDist X > 0, 10, -10),-5
airguard.velocity = ifelse (RootDist X > 0, 5, -5),-2.5
air.type = High
air.velocity = ifelse (RootDist X > 0, 10, -10),-5
air.hittime = 10
air.fall = 1
fall = 1

[State 705, Destroy]
type = DestroySelf
trigger1 = Time > 10

;---------------------------------------------------------------------------
; Electric Fist
[Statedef 800]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
poweradd = 80
sprpriority = 2
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 800
trigger1 = Anim != 801
value = 800

[State 800, 2]
type = AngleDraw
trigger1 = 1

[State 800, 2]
type = AngleSet
trigger1 = Anim = 800
trigger1 = AnimElem = 1
value = 0

[State 800, 2]
type = AngleSet
trigger1 = Anim = 800
trigger1 = AnimElem = 5
value = -55

[State 800, 2]
type = AngleSet
trigger1 = Anim = 800
trigger1 = AnimElem = 6
value = -90

[State 800, 3]
type = VelAdd
triggerall = Time >= 30
triggerall = Anim = 800
triggerall = Vel X < 2
trigger1 = P2Dist X > 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = S0,0

[State 800, 3]
type = VelAdd
triggerall = Time >= 30
triggerall = Anim = 800
triggerall = Vel X > -2
trigger1 = P2Dist X < 0
x = -3

[State 800, 3]
type = VelAdd
triggerall = Time >= 30
triggerall = Anim = 800
triggerall = Vel Y < 6
trigger1 = Pos Y < -180
y = 4

[State 800, 3]
type = VelAdd
triggerall = Time >= 30
triggerall = Anim = 800
triggerall = Vel Y > -6
trigger1 = Pos Y > -180
y = -4

[State 800, 4]
type = VelSet
triggerall = Time >= 30
trigger1 = Anim = 800
trigger1 = P2Dist X > -5
trigger1 = P2Dist X < 5
trigger2 = Anim = 801
x = 0

[State 800, 4]
type = VelSet
triggerall = Time >= 30
trigger1 = Anim = 800
trigger1 = Pos Y > -185
trigger1 = Pos Y < -175
y = 0

[State 800, 4]
type = PosAdd
triggerall = Time >= 30
trigger1 = Anim = 800
trigger1 = AnimElem = 6, > 10
trigger1 = TimeMod = 2,0
y = -4

[State 800, 4]
type = PosAdd
triggerall = Time >= 30
trigger1 = Anim = 800
trigger1 = AnimElem = 6, > 10
trigger1 = TimeMod = 1,0
y = 2

[State 800, VarRandom]
type = VarRandom
trigger1 = Anim = 800
trigger1 = AnimElem = 6, > 10
v = 0
range = 0,20

[State 800, Explod]
type = Explod
triggerall = Anim = 800
trigger1 = AnimElem = 6, > 10
trigger1 = TimeMod = 5,0
sprpriority = 10
random = 50,20
scale = .5,.5
pos = 0,0
postype = p1
anim = F0

[State 800, Explod]
type = Explod
triggerall = Anim = 800
trigger1 = AnimElem = 6, > 10
trigger1 = TimeMod = 10,0
sprpriority = 10
random = 50,20
scale = .5,.5
pos = 0,0
postype = p1
anim = F1

[State 800, 6]
type = VelSet
triggerall = Anim = 801
trigger1 = AnimElem = 3
y = 500

[State 800, 6]
type = VelAdd
triggerall = Anim = 801
trigger1 = Vel Y < 40
y = 500

[State 800, HitDef]
type = HitDef
triggerall = P2StateType = A
trigger1 = Anim = 801
trigger1 = MoveContact = 0
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAF
guardflag = MA
priority = 3, Hit
pausetime = 5, 6
sparkno = 3
sparkxy = 0, 0
hitsound = S2, 1
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-15
airguard.velocity = -2,-15
air.type = High
air.velocity = -2,-15
air.hittime = 10
air.fall = 1
fall = 1

[State 800, 6]
type = ChangeAnim
trigger1 = Random < 50
trigger1 = Var(20) > 120
trigger1 = Anim = 800
trigger1 = AnimElem = 6, > 0
value = 801

[State 800, State]
type = ChangeState
triggerall = command = "b"
trigger1 = Var(20) > 100
value = 801

[State 800, State]
type = ChangeState
triggerall = command = "a"
trigger1 = Var(20) > 100
value = 811

[State 800, State]
type = ChangeState
trigger1 = Var(20) > 0
trigger1 = Anim = 801
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 801

;---------------------------------------------------------------------------
; Electric Fist Punch
[Statedef 801]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 801
trigger1 = Anim != 802
value = 801

[State 800, 0]
type = PosSet
trigger1 = Var(20) <= 0
y = -4

[State 240, 4]
type = Explod
trigger1 = Var(20) = 0
trigger1 = Anim != 802
anim = 11100
postype = p1
pos = 10,-10
sprpriority = -1
supermove = 1
ownpal = 1
scale = 0.5,0.5

[State 240, 4]
type = Explod
trigger1 = Var(20) = 0
trigger1 = Anim != 802
anim = 11100
postype = p1
pos = 10,-10
sprpriority = 6
supermove = 1
ownpal = 1
scale = 0.5,0.5

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, 1]
type = AngleSet
trigger1 = Var(20) <= 0
value = -90

[State 800, 2]
type = PlaySnd
trigger1 = Var(20) = 0
value = 100, 10

[State 800, EnvShake]
type = EnvShake
trigger1 = Var(20) = 0
time = 20
freq = 100
ampl = -10
phase = 10

[State 800, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = 4
pos = 0, 0
anim = F65

[State 800, HitDef]
type = HitDef
triggerall = P2StateType = A
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Var(20) = 0
attr = A, SA
damage = 100, 55
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 0, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S1000, 3
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
palfx.time = 70
palfx.add = 150, 0, -100
palfx.sinadd = 50, 50, 0, 10
palfx.color = 0
palfx.invertall = 1
ground.velocity = -2,30
airguard.velocity = -2,30
air.type = High
air.velocity = 2,30
air.hittime = 10
air.fall = 1
fall = 1

[State 800, HitDef]
type = HitDef
triggerall = P2StateType = S
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Var(20) = 0
attr = A, SA
damage = 710, 55
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S1000, 3
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
palfx.time = 70
palfx.add = 150, 0, -100
palfx.sinadd = 50, 50, 0, 10
palfx.color = 0
palfx.invertall = 1
ground.velocity = -8,-30
airguard.velocity = -8,-30
air.type = High
air.velocity = -8,-30
air.hittime = 10
air.fall = 1
fall = 1

[State 800, 4]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 30
ignorehitpause = 1
persistent = 1

[State 800, 5]
type = AngleSet
trigger1 = Anim = 801
trigger1 = AnimElem = 3
value = -45

[State 800, 5]
type = VelSet
trigger1 = Anim = 801
trigger1 = AnimElem = 3
x = -5
y = -10

[State 800, 5]
type = AngleSet
trigger1 = Anim = 801
trigger1 = AnimElem = 4
value = 0

[State 800, 6]
type = ChangeAnim
trigger1 = Anim = 801
trigger1 = AnimTime = 0
value = 802

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 0
value = -17

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = 19

[State 800, 2]
type = PlaySnd
trigger1 = Var(20) = 0
value = 100, 12

[State 800, PlaySnd]
type = PlaySnd
trigger1 = Anim = 802
trigger1 = AnimElem = 3
value = 100, 13

[State 800, Anim]
type = ChangeAnim
trigger1 = Var(0) < 2
trigger1 = AnimElem = 7, >= 0
value = 802
anim = 1

[State 800, State]
type = ChangeState
trigger1 = Var(0) >= 2
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Electric Fist Punch
[Statedef 802]
type = A
movetype = H
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 801
trigger1 = Anim != 802
value = 802

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 0
value = -13

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = 18

[State 800, PlaySnd]
type = PlaySnd
trigger1 = Anim = 802
trigger1 = AnimElem = 3
value = 100, 13

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;------------------------
[Statedef 803]
type = U
movetype = H
physics = N
poweradd = 0
ctrl = 0

[State 800, VarSet]
Type = VarSet
Trigger1 = PrevStateNo != 800
Trigger1 = Time = 0
Trigger1 = AnimElemNo(0) > 1
V = 20
Value = AnimElemNo(0)-1
IgnoreHitPause = 1

[State 800, PosFreeze]
Type = PosFreeze
Trigger1 = Time >= 0
Value = 1

[State 800, Turn]
Type = Turn
TriggerAll = Time >= 0
Trigger1 = Facing = 1
Trigger1 = Var(23) = -1
Trigger2 = Facing = -1
Trigger2 = Var(23) = 1
IgnoreHitPause = 1

;------------------------------AnimElemNoKC
[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 0
Trigger1 = Var(20) > 119
V = 20
Value = 119
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 20
Trigger1 = Var(20) > 64
V = 20
Value = 64
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 40
Trigger1 = Var(20) > 20
V = 20
Value = 20
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 41
Trigger1 = Var(20) > 75
V = 20
Value = 75
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 47
Trigger1 = Var(20) > 21
V = 20
Value = 21
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 200
Trigger1 = Var(20) > 62
V = 20
Value = 62
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 220
Trigger1 = Var(20) > 76
V = 20
Value = 76
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 240
Trigger1 = Var(20) > 66
V = 20
Value = 66
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 600
Trigger1 = Var(20) > 23
V = 20
Value = 23
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 620
Trigger1 = Var(20) > 8
V = 20
Value = 8
IgnoreHitPause = 1

[State 800, VarSet]
Type = VarSet
Trigger1 = Anim = 621
Trigger1 = Var(20) > 45
V = 20
Value = 45
IgnoreHitPause = 1

;   0	119
;  20	 64
;  40	 20
;  41	 75
;  47	 21
; 200	 62
; 220	 76
; 240	 66
; 600	 23
; 620	  8
; 621	 45

;------------------------------
[State 800, ChangeAnim]
Type = ChangeAnim
Trigger1 = Time >= 0
Trigger2 = GetHitVar(HitShakeTime) > 0
Value = Anim
Elem = Var(20)
IgnoreHitPause = 1
ctrl = 1

[State 800, PalFX]
Type = PalFX
Trigger1 = Time = 0
Time = 3
Add = 120, 120, 120
Mul = 256,256,256

[State 800, ChangeState]
Type = ChangeState
Trigger1 = Time > 0
Trigger1 = GetHitVar(HitShakeTime) = 0
Value = Var(21)
ctrl = 1

;------------------------------A???
[State -2, DisplayToClipboard]
Type = DisplayToClipboard
Trigger1 = Time >= 0
Text = "StateNo:%4d, AI:%1d, AnimElemNo:%3d"
Params = Var(21), Var(59), Var(20)
IgnoreHitPause = 1

[State -2, HitOverride]
Type = HitOverride
Trigger1 = Time >= 0
Attr = SCA, AA, AP, AT
StateNo = 803
Time = -1
IgnoreHitPause = 1

















;---------------------------------------------------------------------------
; Electric Fist Punch
[Statedef 804]
type = A
movetype = H
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 801
trigger1 = Anim != 802
value = 802

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 0
value = -13

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = 18

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1



;---------------------------------------------------------------------------
; Fist Pound
[Statedef 850]
type = A
movetype = A
physics = N
juggle = 1
poweradd = 80
sprpriority = 2
ctrl = 1
facep2 = 1

[State 850, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
trigger1 = PrevStateNo != 35
x = ifelse(Life > 1000,P2Dist X/15, P2Dist X/20)
y = -20

[State 850, 1]
type = ChangeAnim
triggerall = Var(20) <= 0
trigger1 = Anim != 850
trigger1 = Anim != 801
value = 850

[State 850, 2]
type = AngleDraw
trigger1 = 1

[State 850, 2]
type = AngleSet
trigger1 = Anim = 850
trigger1 = AnimElem = 1
value = 0

[State 850, 2]
type = AngleSet
trigger1 = Anim = 850
trigger1 = AnimElem = 2
value = -45

[State 850, 2]
type = AngleSet
trigger1 = Anim = 850
trigger1 = AnimElem = 3
value = -90

[State 850, VelMul]
type = VelMul
trigger1 = Anim = 850
x = .9
y = .9

[State 850, 6]
type = ChangeAnim
trigger1 = Var(20) >= 20
trigger1 = Anim = 850
trigger1 = AnimElem = 3, > 0
trigger2 = Anim = 801
value = 801

[State 850, 6]
type = VelSet
triggerall = Anim = 801
trigger1 = AnimElem = 1
x = 0
y = 40

[State 850, 6]
type = VelAdd
trigger1 = Anim = 801
y = 1

[State 850, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Anim = 801
trigger1 = MoveContact = 0
attr = A, SA
damage = 50, 10
animtype = Medium
hitflag = MAF
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 3
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
envshake.time = 10
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10
ground.velocity = ifelse (P2Dist X <= 0, 20, -20),Vel Y + 10
airguard.velocity = ifelse (P2Dist X <= 0, 10, -10),Vel Y + 10
air.type = High
air.velocity = ifelse (P2Dist X <= 0, 20, -20),Vel Y + 10
air.hittime = 10
air.fall = 1
fall = 1

[State 850, State]
type = ChangeState
trigger1 = Var(20) > 0
trigger1 = Pos Y > -20
trigger1 = Vel Y > 0
value = 851

;---------------------------------------------------------------------------
; Fist Pound
[Statedef 851]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 1

[State -2,a]
type = Explod
trigger1 = Var(20) = 1
anim = F620
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.7

[State 850, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 850, 1]
type = ChangeAnim
triggerall = Var(20) <= 0
trigger1 = Anim != 801
trigger1 = Anim != 802
value = 801

[State 850, 0]
type = PosSet
trigger1 = Var(20) <= 0
y = 0

[State 850, 1]
type = AngleDraw
trigger1 = 1

[State 850, 1]
type = AngleSet
trigger1 = Var(20) <= 0
value = -90

[State 850, 2]
type = PlaySnd
trigger1 = Var(20) <= 0
value = 3, 0

[State 850, EnvShake]
type = EnvShake
trigger1 = Var(20) <= 0
time = 20
freq = 100
ampl = -10
phase = 10

[State 850, Explod]
type = Explod
trigger1 = Var(20) <= 0
sprpriority = 2
pos = 0, 0
anim = F60

[State 850, Explod]
type = Explod
trigger1 = Var(20) <= 0
sprpriority = 3
pos = 0, 0
anim = F61

[State 850, Explod]
type = Explod
trigger1 = Var(20) <= 0
sprpriority = 4
pos = 0, 0
anim = F62

[State 850, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Var(20) <= 0
attr = A, SA
damage = 150, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 3
sparkxy = 0, 0
hitsound = S1, 2
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10
ground.velocity = ifelse (P2Dist X <= 0, 20, -20),-5
airguard.velocity = ifelse (P2Dist X <= 0, 10, -10),-2.5
air.type = High
air.velocity = ifelse (P2Dist X <= 0, 20, -20),-5
air.hittime = 10
air.fall = 1
fall = 1
palfx.time = 500
palfx.sinadd = 90,90,90,12
palfx.add = 28,100,175
palfx.color = 1
palfx.invertall = 0

[State 850, 4]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 850, 1]
type = ChangeAnim
trigger1 = Anim = 801
trigger1 = AnimElem = 2, 5
value = 801
elem = 3

[State 850, 5]
type = AngleSet
trigger1 = Anim = 801
trigger1 = AnimElem = 3
value = -45

[State 850, 5]
type = VelSet
trigger1 = Anim = 801
trigger1 = AnimElem = 3
x = -5
y = -10

[State 850, 5]
type = AngleSet
trigger1 = Anim = 801
trigger1 = AnimElem = 4
value = 0

[State 850, 6]
type = ChangeAnim
trigger1 = Anim = 801
trigger1 = AnimElem = 5
value = 0

[State 850, State]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Floor Shock
[Statedef 855]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 4
anim = 6
ctrl = 1

[State 855, 0]
type = PosSet
trigger1 = Time <= 0
y = 0

[State 855, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 855, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Time > 0
trigger1 = Root, MoveContact = 0
trigger1 = MoveContact = 0
attr = S, SA
damage = 50, 10
animtype = Medium
hitflag = MFD
priority = 3, Hit
pausetime = 1, 1
sparkno = 61
guard.sparkno = 60
sparkxy = -10, 0
hitsound = S3, 10
guardsound = S3, 10
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10
ground.velocity = ifelse (P2Dist X <= 0, 2, -2),-5
airguard.velocity = ifelse (P2Dist X <= 0, 1, -1),-2.5
air.type = Trip
air.velocity = ifelse (P2Dist X <= 0, 2, -2),-5
air.hittime = 10
air.fall = 1
fall = 1
palfx.time = 500
palfx.sinadd = 90,90,90,12
palfx.add = 28,100,175
palfx.color = 1
palfx.invertall = 0

[State 855, Destroy]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Shock
[Statedef 856]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 5
anim = 5
ctrl = 0

[State 705, 0]
type = PosSet
trigger1 = Time <= 0
y = 0

[State 705, 0]
type = VelSet
trigger1 = AnimElem = 1,1
y = -10

[State 705, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 705, Explod]
type = Explod
trigger1 = Time <= 0
sprpriority = 4
pos = 0, 0
anim = F60

[State 705, Explod]
type = Explod
trigger1 = Time <= 0
sprpriority = 5
pos = 0, 0
anim = F61

[State 705, Explod]
type = Explod
trigger1 = TimeMod = 2,0
sprpriority = 5
pos = 0, 0
anim = F2

[State 705, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = TimeMod = 5,0
attr = A, SP
damage = 50, 10
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 3
sparkxy = 0, 0
hitsound = S2, 1
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,-10
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-10
air.hittime = 10
air.fall = 1
fall = 1
palfx.time = 70
palfx.add = 150, 0, -100
palfx.sinadd = 50, 50, 0, 10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 705, Destroy]
type = DestroySelf
trigger1 = Time > 20

;---------------------------------------------------------------------------
; Finger Drill
[Statedef 900]
type = A
movetype = A
physics = N
poweradd = 80
sprpriority = 2
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 300, 3]
type = PlaySnd
trigger1 = Anim != 901
trigger1 = Var(20) = 20
value = 500, 1

[State 300, 3]
type = PlaySnd
trigger1 = Var(20) = 30
value = 500, 3

[State 900, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 900, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 900, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 900
value = 900

[State 900, 2]
type = AngleDraw
trigger1 = Anim = 900
trigger1 = AnimElem = 4, < 0

[State 900, 2]
type = AngleSet
trigger1 = Var(20) <= 0
trigger2 = Anim = 900
trigger2 = AnimElem = 4
value = 0

[State 900, 2]
type = AngleAdd
triggerall = Anim = 900
trigger1 = AnimElem = 1, > 0
trigger1 = AnimElem = 2, < 0
value = 3

[State 900, 3]
type = PosAdd
triggerall = Anim = 900
trigger1 = AnimElem = 4
x = 0

[State 900, VelSet]
type = PosAdd
trigger1 = Var(20) >= 10
x = 0
y = 0.4


[State 900, VelSet]
type =  VelAdd ;VelSet
trigger1 = Time > 0
trigger1 = Var(20) = 50
y = -27

[State 290, PosAdd]
type = PosAdd
trigger1 = Var(20) = 62
x = P2Dist X

[State 290, PosAdd]
type = PosAdd
trigger1 = Var(20) = 55
y = P2Dist y-300

[State 300, 3]
type = PlaySnd
trigger1 = Var(20) = 69
value = 500, 2

[State 900, VelSet]
type = VelAdd
trigger1 = Var(20) >= 60
y = 2.7

[State 900, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
triggerall = p2movetype != H
triggerall = P2StateNo != 105
trigger1 = Anim = 900
trigger1 = AnimElem = 10
attr = A, SA
damage = 25, 3
animtype = DiagUp
guardflag = 
hitflag = MAFD
priority = 3, Hit
pausetime = 1,1
sparkno = 2
sparkxy = -10, -10
hitsound = S500,5
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-7
airguard.velocity = 0,-7
air.type = Low
air.velocity = 3
down.velocity = 0,-7
air.hittime = 20
air.fall = 1
fall = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
kill = 0

[State 800, EnvShake]
type = EnvShake
trigger1 = 1
time = 20
freq = 100
ampl = -5
phase = 5

[State 900, 1]
type = ChangeAnim
trigger1 = Anim != 901
trigger1 = Vel Y > 0
value = 901

[State 900, State]
type = ChangeState
trigger1 = Var(20) > 40
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 901

;---------------------------------------------------------------------------
; Finger Drill Land
[Statedef 901]
type = A
movetype = A
physics = N
sprpriority = 2
ctrl = 0

[State 300, 3]
type = PlaySnd
trigger1 = Anim = 901
trigger1 = TimeMod = 20,0
value = 100, 9

[State 800, EnvShake]
type = EnvShake
trigger1 = TimeMod = 11,0
trigger1 = Anim = 901
time = 15
freq = 100
ampl = -10
phase = 10

[State 2201, 2]
type = PlayerPush
trigger1 = p2movetype != H
value = 1

[State 300, 3]
type = PlaySnd
trigger1 = Var(20) = 0
value = 500, 3

[State 900, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 900, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0.1

[State 900, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 901
trigger1 = Anim != 902
value = 901

[State 900, 2]
type = PosSet
trigger1 = Var(20) <= 0
y = -8

[State -2,a]
type = Explod
trigger1 = TimeMod = 11,0
trigger1 = Anim = 901
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.8

[State -2,a]
type = Explod
trigger1 = AnimElem = 3
trigger1 = Anim = 902
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.8

[State 1300, 4]
type = Projectile
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Var(20) >= 0
projID = 2460
projanim = 2460
projshadow = 0,0,0
projhitanim = 2460
projremanim = 2460
projcancelanim = 2460
offset = -15, 0
projremovetime = 1
projownpal = 0
attr = S, NA
damage = 1, 0
animtype = Up
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 1, 0
sparkno = -1
sparkxy = -30, -30  
hitsound = -1
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8,-3
airguard.velocity = -8,-3
guard.velocity = 14
air.type = Low
air.velocity = -8,-3
air.hittime = 12
yaccel  = 0.7
fall = 1
fall.recover = 0

[State 900, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 3
attr = A, SA
damage = 15, 18
animtype = Heavy
guardflag = 
hitflag = MAFD
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, -50
hitsound = s500,6
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 8,-3
airguard.velocity = 8,-3
air.type = Low
air.velocity = 8,-3
down.velocity = 8,-3
air.hittime = 20
air.fall = 1
fall = 1

[State 900, 1]
type = PlaySnd
trigger1 = Var(20) = 0
value = 1, 5

[State 900, Anim]
type = ChangeAnim
trigger1 = Var(20) >= 50
trigger1 = Anim = 901
trigger1 = AnimTime = 0
value = 902

[State 300, 3]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
value = 100, 9

[State 900, VelMul]
type = VelMul
trigger1 = Anim = 902
x = .9
y = .9

[State 900, State]
type = ChangeState
trigger1 = Var(20) > 100
trigger1 = Anim = 902
trigger1 = AnimTime = 0
value = 902

;---------------------------------------------------------------------------
; Finger Drill Stop
[Statedef 902]
type = A
movetype = A
physics = N
juggle = 1
sprpriority = 2
ctrl = 0

[State -2,a]
type = Explod
trigger1 = Anim = 903
trigger1 = AnimElem = 2
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.8

[State 2201, 2]
type = PlayerPush
trigger1 = p2movetype != H
value = 1

[State 900, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 900, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 900, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 903
trigger1 = Anim != 0
value = 903

[State 900, 2]
type = AngleDraw
trigger1 = Anim = 903
trigger1 = AnimElem = 2, >= 0

[State 900, VelMul]
type = VelMul
trigger1 = 1
x = .9
y = .9

[State 900, PosSet]
type = PosSet
trigger1 = Var(20) <= 0
y = 0

[State 900, PosAdd]
type = PosAdd
trigger1 = Var(20) = 0
y = 0

[State 900, PosAdd]
type = PosAdd
trigger1 = Anim = 903
trigger1 = AnimElem = 3
y = -15

[State 900, PosAdd]
type = PosAdd
trigger1 = Anim = 903
trigger1 = AnimElem = 4
y = -30

[State 900, VelSet]
type = VelSet
trigger1 = Var(20) = 5
y = 0

[State 900, AngleSet]
type = AngleSet
trigger1 = Anim = 903
trigger1 = AnimElem = 2
value = -90

[State 900, AngleSet]
type = AngleSet
trigger1 = Anim = 903
trigger1 = AnimElem = 3
value = -45

[State 900, AngleSet]
type = AngleSet
trigger1 = Anim = 0
trigger2 = Anim = 903
trigger2 = AnimElem = 4
value = 0

[State 900, Anim]
type = ChangeAnim
trigger1 = Anim = 903
trigger1 = AnimTime = 0
value = 0

[State 900, State]
type = ChangeState
trigger1 = Anim = 0
trigger1 = AnimTime = 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 15016]
type = A
movetype = I
physics = S
anim = 15016
velset = 0,0
sprpriority = -1
ctrl = 0
facep2 = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 210
ignorehitpause = 1
persistent = 1

[State 800, 3]
type = VelAdd
trigger1 = AnimElem = 1, >= 0 && AnimElem = 2, < 24
trigger1 = P2Dist x > 0
x = -.1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1
movecamera = 1,0

[State 20000, 2]
type = Helper
trigger1 = numhelper(15017) <= 0
trigger1 = AnimElem = 4
helpertype = normal
name = ""
ID = 15017
pos = 300,-20
postype = P1
facing = 1
stateno = 15017
keyctrl = 0
ownpal = 1
Size.XScale = 1.68
Size.YScale = 1.6

[State 7005, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 802

;---------------------------------------------------------------------------
[Statedef 15017]
type = A
movetype = A
physics = S
anim = 15017
sprpriority = 5
ctrl = 0

[state 4000,VelSet]
type = velset
trigger1 = ParentDist X > 55
x = 110.0

[state 4000,VelSet]
type = velset
trigger1 = ParentDist X < 55
x = -66.1

[State 300, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 1

[State 1105, 4]
type = HitDef
trigger1 = P2StateNo != 105
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 100,10
getpower = 0,3
givepower = 0,0
guardflag = M
pausetime = 0,5
guard.pausetime = 5,0
sparkxy = 0,-35
hitsound = S1,5
guardsound = S4,0
ground.slidetime = 00
ground.hittime = 10
ground.velocity = 0,-7
air.velocity = 0,-7
guard.hittime = 30
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -19
fall = 1
fall.recover = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 210
ignorehitpause = 1
persistent = 1

[state 4000,VelSet]
type = ChangeState
trigger1 = ParentDist X <= 55
trigger1 = ParentDist X >= -55
value = 15020

[State 20004, 9]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
[Statedef 15020]
type = A
movetype = A
physics = S
anim = 15020
sprpriority = 5
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 210
ignorehitpause = 1
persistent = 1

[State 300, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 3

[state 4000,VelSet]
type = velset
trigger1 = 1
x = 0

[state 4000,VelSet]
type = velset
trigger1 = 1
x = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 11100
postype = p1
pos = -15,-35
sprpriority = 6
supermove = 1
ownpal = 1
scale = 0.8,0.8

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 11100
postype = p1
pos = -15,-35
sprpriority = 6
supermove = 1
ownpal = 1
scale = 0.8,0.8

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 11100
postype = p1
pos = -15,-35
sprpriority = 6
supermove = 1
ownpal = 1
scale = 0.7,0.7

[State 1105, 4]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 500,10
getpower = 3,3
givepower = 4,0
guardflag = 
pausetime = 3,46
guard.pausetime = 5,0
sparkno = S6240
guard.sparkno = S6240
sparkxy = 0,-35
hitsound = S1,5
guardsound = S4,0
ground.slidetime = 00
ground.hittime = 10
ground.velocity = 0,20
air.velocity = 0,20
guard.hittime = 30
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -19
envshake.time = 10
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
fall = 1
fall.recover = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 5
freq = 85
time = 10

[State 20004, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 15022

;---------------------------------------------------------------------------
; Electric Fist Punch
[Statedef 15022]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 801
trigger1 = Anim != 15500
value = 15500

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 2
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 0
value = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = -1

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 2
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 4, < 0
value = 10

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 15500
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = -10

[State 800, PlaySnd]
type = PlaySnd
trigger1 = Anim = 15500
trigger1 = AnimElem = 3
value = 0, 2

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 4;HitShakeOver
persistent = 200
x = 4
y = 0

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 15019

;--------------------------------
[Statedef 15019]
type = S
movetype = I
physics = S
anim = 15019
velset = 0,0
sprpriority = -2
ctrl = 0


[state 4000,VelSet]
type = velset
trigger1 = 1
x = -7.5

[State 20004, 9]
type = DestroySelf
trigger1 = BackEdgeBodyDist < -100

;------    ------
[Statedef 811]
type = A
movetype = A
physics = N
anim = 811
velset = 0,0
juggle = 4
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1
movecamera = 1,0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 20
x = 0
y = 50

[State 800, 1]
type = AngleSet
trigger1 = Var(20) <= 0
value = -90

[State 600, 1]
type = PlaySnd
trigger1 = Time = 20
value = 100, 15

[State 800, 1]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
Trigger1 = animelem = 6
pausetime = 1,1
damage = 50,10
guard.pausetime = 0,0
getpower = 0,0
attr = S, HA
hitflag = MAF
hitsound = S500,5
sparkxy = -10,-100
guardflag = M
animtype  = up
ground.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2,20
guard.velocity = 0
air.velocity = -2,20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
priority = 4, Miss
guardsound = S0,10
fall = 1
fall.recover = 0
sprpriority = 4

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 812

;---------------------------------------------------------------------------
; Electric Fist Punch
[Statedef 812]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = Anim = 832
trigger2 = Anim = 812
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 210
ignorehitpause = 1
persistent = 1

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0
var(0) = 0

[State 800, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 812
trigger1 = Anim != 802
value = 812

[State 800, 0]
type = PosSet
trigger1 = Var(20) <= 0
y = 0

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, 1]
type = AngleSet
trigger1 = Var(20) <= 0
value = -90

[State 800, 2]
type = PlaySnd
trigger1 = Var(20) = 0
trigger1 = prevstateno != 811
value = 500, 9

[State 800, 2]
type = PlaySnd
trigger1 = prevstateno = 811
trigger1 = Var(20) = 0
value = 100, 14

[State 800, 2]
type = PlaySnd
trigger1 = prevstateno = 811
trigger1 = Var(20) = 0
value = 100, 11

[State 800, EnvShake]
type = EnvShake
trigger1 = Var(20) = 0
time = 15
freq = 100
ampl = -5
phase = 10

[State 800, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 1
attr = A, SA
damage = 111, 50
animtype = Medium
hitflag = MAFD
guardflag = 
priority = 3, Hit
pausetime = 1, 1
sparkno = 3
sparkxy = 0, 0
hitsound = S2, 1
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
palfx.color = 28
palfx.time = 1
palfx.sinadd = 0,0,0,5
palfx.invertall = 1
ground.velocity = 3,15
airguard.velocity = 3,15
air.type = High
air.velocity = 3,-8
air.hittime = 10
air.fall = 1
envshake.time = 4
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
p2stateno = 3890
kill = 0
fall = 1

[State 800, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = AnimElem = 2
attr = A, SA
damage = 50, 55
animtype = Medium
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = 0, 0
hitsound = S2, 1
guardsound = S4, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
down.bounce = 1
palfx.color = 50
palfx.time = 30
palfx.sinadd = 100,150,200,5
palfx.invertall = 1
ground.velocity = 0,-8
airguard.velocity = 0,-8
air.type = High
air.velocity = -2,-8
air.hittime = 10
air.fall = 1
envshake.time = 4
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
fall = 1

[State -2,a]
type = Explod
trigger1 = Var(20) = 1
anim = F620
pos = 35,0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.7

[State 800, 5]
type = AngleSet
trigger1 = Anim = 812
trigger1 = AnimElem = 4
value = -45

[State 800, 5]
type = VelSet
trigger1 = Anim = 812
trigger1 = AnimElem = 4
x = 0
y = -19

[State 800, 5]
type = AngleSet
trigger1 = Anim = 811
trigger1 = AnimElem = 4
value = 0

[State 800, VarAdd]
type = VarAdd
triggerall = Anim = 812
trigger1 = AnimElem = 4
var(0) = 1

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 4, < 0
value = -10

[State 800, AngleAdd]
type = AngleAdd
triggerall = Anim = 802
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 7, < 0
value = 10

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 802

;---------------------------------------------------------------------------
; Helper
[Statedef 10000]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 10
ctrl = 0

[State 10000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Invisible

[State 10000, Destroy]
type = DestroySelf
triggerall = IsHelper(35)
trigger1 = Root, MoveType != H
trigger1 = Root, Time > 0
trigger2 = Root, StateNo = 5150
trigger3 = Root, StateNo = 5151

[State 10000, Destroy]
type = DestroySelf
triggerall = IsHelper(280)
trigger1 = Root, MoveType != A
trigger1 = Root, MoveType != H
trigger1 = Root, Time > 0
trigger2 = Root, StateNo = 5150
trigger3 = Root, StateNo = 5151

[State 10000, Destroy]
type = DestroySelf
triggerall = IsHelper(5150)
trigger1 = Root, MoveType != H
trigger1 = Root, Time > 0
trigger2 = Root, StateNo = 5150

[State 10000, Destroy]
type = DestroySelf
triggerall = IsHelper(10000)
trigger1 = Root, MoveType != A
trigger1 = Root, MoveType != H
trigger1 = Root, Time > 0
trigger2 = Root, StateNo >= 260
trigger3 = Root, StateNo = 5150
trigger4 = Root, StateNo = 5151

;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 830]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 80
sprpriority = 2
ctrl = 0

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 290, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 290, Anim]
type = ChangeAnim
trigger1 = 1
value = 0

[State 290, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 0
value = 500, 7

[State 290, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 290, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 290, AngleAdd]
type = AngleAdd
trigger1 = Var(20) > 2
trigger1 = TimeMod = 2,0
value = -11

[State 290, VelAdd]
type = VelAdd
trigger1 = Vel Y > -20
y = -2

[State 290, 5]
type = ChangeState
trigger1 = Var(20) > 30
value = 831

;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 831]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 290, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 100, 1

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 290, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 831
value = 831

[State 290, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 290, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Invisible

[State 290, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
x = P2Dist X+1

[State 290, PosSet]
type = PosSet
trigger1 = Var(20) <= 0
y = -30

[State 290, PosSet]
type = PosSet
trigger1 = Var(20) = 100
y = -30

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) >= 0
value = 0

[State 290, AngleDraw]
type = AngleDraw
trigger1 = Var(20) > 0
trigger1 = Pos Y > -500
scale = (Time)*.00, (Time)*.00

[State 290, Explod]
type = Explod
trigger1 = Var(20) = 0
sprpriority = -5
pos = 0, 0
id = 830
postype = p1
bindtime = -1
removetime = -1
anim = 830

[State 290, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3, < 0 
value = -10

[State 290, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3, >= 0 
value = 10

[State 290, Explod]
type = ModifyExplod
trigger1 = AnimElem = 3, <= 0 
sprpriority = -10
scale = (Var(20))*.024, (Var(20))*.024
id = 830

[State 290, Explod]
type = ModifyExplod
trigger1 = Var(20) > 10
sprpriority = -10
scale = (Var(20))*.025, (Var(20))*.025
id = 830

[State 290, Explod]
type = ModifyExplod
trigger1 = Var(20) > 13
sprpriority = -10
scale = (Var(20))*.026, (Var(20))*.026
id = 830

[State 290, 1]
type = VelAdd
triggerall = Vel X < 1
trigger1 = AnimElem = 1, < 0
trigger1 = P2Dist X > 0
x = .2

[State 290, 1]
type = VelAdd
triggerall = Vel X > -1
trigger1 = AnimElem = 1, < 0
trigger1 = P2Dist X < 0
x = -.2

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 3, < 0
trigger1 = P2Dist X > -5
trigger1 = P2Dist X < 5
x = 0

[State 300, 1]
type = VelAdd
trigger1 = P2Dist X = 0
x = 0

[State 300, 1]
type = VelAdd
trigger1 = P2Dist X > 0
x = .6

[State 300, 1]
type = VelAdd
trigger1 = P2Dist X < 0
x = -.6


[State 290, 1]
type = VelAdd
trigger1 = AnimElem = 1, > 0
y = -.8

[State 290, Explod]
type = RemoveExplod
trigger1 = Time > 0
trigger1 = Pos Y <= -440
id = 830

[State 290, 5]
type = ChangeState
trigger1 = Time > 0
trigger1 = Pos Y < -440
value = 832

;------   SEEOi  ------
[Statedef 832]
type = A
movetype = A
physics = N
anim = 832
velset = 0,0
sprpriority = -2
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1
movecamera = 1,0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 0
x = 0
y = 16

[State 800, 1]
type = AngleSet
trigger1 = Var(20) <= 0
value = -90

[State 800, 1]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
Trigger1 = animelem = 1
pausetime = 1,0
damage = 55,10
guard.pausetime = 0,10
getpower = 0,0
attr = S, HA
hitflag = MAF
hitsound = S500,6
sparkxy = -10,-50
guardflag = M
animtype  = up
ground.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2,20
guard.velocity = 100
air.velocity = -2,20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
priority = 4, Miss
guardsound = S0,10
fall = 1
fall.recover = 0
sprpriority = 4
kill = 0

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 812


;---------------------------------------------------------------------------
; Finger Drill
[Statedef 1050]
type = A
movetype = A
physics = N
poweradd = 80
sprpriority = 2
ctrl = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 300, 3]
type = PlaySnd
trigger1 = Anim = 1055
trigger1 = AnimElem = 4
value = 100, 9

[State 900, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 900, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 900, 1]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 1055
value = 1055

[State 900, 2]
type = AngleDraw
trigger1 = Anim = 1055
trigger1 = AnimElem = 5, > 0
trigger1 = AnimElem = 6, < 0

[State 900, 2]
type = AngleSet
trigger1 = Var(20) <= 0
trigger2 = Anim = 1055
trigger2 = AnimElem = 6
value = 0

[State 900, 2]
type = AngleAdd
triggerall = Anim = 1055
trigger1 = AnimElem = 5, > 0
trigger1 = AnimElem = 6, < 0
value = 2

[State 900, 3]
type = PosAdd
triggerall = Anim = 1055
trigger1 = AnimElem = 4
x = 0

[State 900, VelSet]
type =  VelAdd
trigger1 = Var(20) > 64
y = -20

[State 900, VelSet]
type =  VelSet ;VelSet
trigger1 = Var(20) = 59
y = 7

[State 300, 3]
type = PlaySnd
trigger1 = Var(20) = 64
value = 100, 2

[State 900, VelSet]
type = VelAdd
trigger1 = Var(20) >= 64
y = 2.7

[State 900, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
triggerall = p2movetype != H
triggerall = P2StateNo != 105
trigger1 = Anim = 1055
attr = A, SA
damage = 25, 3
animtype = DiagUp
guardflag = 
hitflag = MAFD
priority = 3, Hit
pausetime = 1,1
sparkno = 2
sparkxy = -10, -10
hitsound = S500,5
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-9
airguard.velocity = 0,-9
air.type = Low
air.velocity = 3,-9
down.velocity = 0,-9
air.hittime = 20
air.fall = 1
fall = 1
palfx.time = 80
palfx.add = 150, 0, -100
palfx.sinadd = 50, 50, 0, 10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 900, State]
type = ChangeState
trigger1 = Var(20) > 80
trigger1 = Pos Y <= -300
value = 1052

;---------------------------------------------------------------------------
[Statedef 1052]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 290, 1]
type = PosSet
trigger1 = Var(20) = 1
x = 0
y = -50

[State 1052, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = Var(20) > 0
scale = (Time)*.001, (Time)*.001

[State 1052, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
x = P2Dist X

[State 1052, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
y = P2Dist Y-75

[State 1052, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 1052, VelSet]
type = VelSet
trigger1 = Var(20) <= 10
x = 0
y = 2

[State 3000, 0]
type = AssertSpecial
trigger1 =  1
flag = NoShadow

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 1052
value = 1052

[State 1052, AngleSet]
type = AngleSet
trigger1 = AnimElem = 2, < 0
value = 0


[State 1052, 1]
type = ChangeState
trigger1 = Var(20) > 7
value = 1053

;---------------------------------------------------------------------------
[Statedef 1053]
type    = A
movetype= A
physics = N
shadow = 0,0,0
sprpriority = -2
ctrl = 0

[State 3000, 0]
type = AssertSpecial
trigger1 =  1
flag = NoShadow

[State 1053, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 0
value = 100, 40

[State 1053, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
x = P2Dist X
y = P2Dist y-30

[State 1053, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 1053, AngleDraw]
type = AngleDraw
trigger1 = Var(20) > 0
scale = (Time)*.010, (Time)*.010

[State 1053, AngleDraw]
type = AngleDraw
trigger1 = AnimElem = 1, >= 1

[State 1053, AngleAdd]
type = AngleAdd
trigger1 = AnimElem = 1, > 0
trigger1 = AnimElem = 1, < 300
value = -18

[State 1053, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 1053, VelSet]
type = VelSet
trigger1 = Var(20) <= 10
y = -6

[State 1053, 2]
type = ChangeState
trigger1 = Var(20) > 50
value = 1054

;---------------------------------------------------------------------------
[Statedef 1054]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 1053, AngleDraw]
type = AngleDraw
trigger1 = Var(20) > 0
scale = (Time)*.005, (Time)*.005

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = AnimElem = 1, >= 1

[State 1052, AngleAdd]
type = AngleAdd
trigger1 = Var(15) < 1
trigger1 = AnimElem = 1, > 0
trigger1 = AnimElem = 1, < 300
value = -13

[State 1053, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 1053, VelSet]
type = VelSet
trigger1 = Var(20) <= 10
y = -15

[State 1054, 2]
type = ChangeState
trigger1 = Var(20) > 20
value = 1051

;---------------------------------------------------------------------------
[Statedef 1051]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -20
ctrl = 0

[State 1050, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 1050, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 1050
value = 1050

[State 1050, PosAdd]
type = PosAdd
trigger1 = Var(20) <= 0
x = P2Dist X

[State 1050, PosSet]
type = PosSet
trigger1 = Var(20) <= 0
Y = -85

[State 1050, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = 0

[State 1050, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .0, .0

[State 1050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,10
value = 100, 7

[State 1050, Explod]
type = Explod
trigger1 = Var(20) = 0
removeongethit = 1
sprpriority = 100
pos = 0, 0
id = 1050
postype = p1
bindtime = -1
removetime = -1
shadow = 100,100,100
anim = 1050




[State 290, Explod]
type = ModifyExplod
trigger1 = AnimElem = 4, < 0
sprpriority = -10
scale = (Var(20))*.001, (Var(20))*.001
id = 1050

[State 290, Explod]
type = ModifyExplod
trigger1 = AnimElem = 4, >= 0
sprpriority = 999
ontop = 1
scale = (Var(20))*.001, (Var(20))*.001
id = 1050


[State 290, VarSet]
type = Varadd
trigger1 = Time >= 1
var(20) = 5

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 5
var(20) = 10

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 10
var(20) = 20

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 13
var(20) = 35

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 15
var(20) = 70

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 16
var(20) = 100

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 17
var(20) = 100

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 18
var(20) = 100

[State 290, VarSet]
type = Varadd
trigger1 = Time >= 19
var(20) = 100









[State 240, 4]
type = Explod
trigger1 = AnimElem != 4
trigger1 = MoveHit
anim = 11100
postype = p1
pos = 0,-12
sprpriority = 2
scale = 0.9,0.9

[State 240, 4]
type = Explod
trigger1 = AnimElem != 4
trigger1 = MoveHit
anim = 11100
postype = p1
pos = 0,-12
sprpriority = 2
scale = 0.9,0.9

[State 1050, 3]
type = HitDef
trigger1 = AnimElem = 3
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
getpower = 0
ownpal = 0
offset = 100,0
velocity = 0,0
attr = S, HA
animtype = Hard
damage = 250,40
hitflag = MAF
guardflag = 
hitsound = S1000,3
guardsound = S5,0
pausetime = 1,1
sparkno = -1
guard.sparkno = s11100
sparkxy = 0,-10
ground.type = low
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -3.9,-24
air.juggle = 8
air.velocity = -3.9,-24
palfx.time = 80
palfx.add = 150, 0, -100
palfx.sinadd = 50, 50, 0, 10
palfx.color = 0
palfx.invertall = 1
envshake.time = 8
envshake.ampl = 18
envshake.freq = 100
yaccel  = 0.4
fall = 1
fall.recover = 0

[State 1050, PosAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
x = 8

[State 1050, 1]
type = VelAdd
trigger1 = AnimElem = 4, < 0
y = .2

[State 1050, 1]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = -20

[State 1050, Explod]
type = RemoveExplod
trigger1 = Time > 0
trigger1 = Pos Y <= -500
id = 1050

[State 1050, 4]
type = ChangeState
trigger1 = Time > 0
trigger1 = Pos Y < -500
value = 1100

;---------------------------------------------------------------------------
[Statedef 1100]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 13,12
ctrl = 0

[State 290, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 1050, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 0
value = 100, 4

[State 290, Anim]
type = ChangeAnim
trigger1 = Var(20) < 1
value = 1061

[State 290, PosSet]
type = PosSet
trigger1 = Var(20) <= 0
x = 450
y = -300

[State 290, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0
value = -44

[State 290, AngleAdd]
type = AngleAdd
trigger1 = Var(20) > 0
trigger1 = Var(20) < 20
value = 2

[State 290, AngleSet]
type = AngleSet
trigger1 = Var(20) >= 20
value = 0

[State 290, 1]
type = VelMul
trigger1 = Var(20) > 10
x = .9
y = .9

[State 290, 5]
type = ChangeState
trigger1 = Var(20) > 76
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1060]
type = A
movetype = H
physics = N
ctrl = 0
anim = 1060

[State 1060, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 1060, 2]
type = NotHitBy
trigger1 = (Pos Y) >= -50 && Vel Y >= 0
value = SCA

[State 0, NotHitBy]
type = NotHitBy
trigger1 =1
value = SC,AA,AP,AT
value2 = SCA,AP,AT

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = A,HA

[State 1060, 4]
type = EnvShake
trigger1 = time = 0
trigger2 = (Anim = 1600) && (Vel Y > 0) && (Pos Y >= 0)
time = 30
ampl = 5

[State 1060, 5]
type = PosFreeze
trigger1 = HitShakeOver = 0

[State 1060, 6]
type = ForceFeedBack
trigger1 = HitShakeOver = 0
time = 1
waveform = square

[State 1060, 7]
type = posadd
trigger1 = HitShakeOver = 1
trigger1 = time >2
persistent = 0
y = -100;-100;35

[State 1060, 8]
type = EnvColor
trigger1 = (time = 0) && (life > 0)
time = 2
value = 240,240,240
under = 1
ignorepausetime = 1

[State 1060, 9]
type = ChangeAnim2
trigger1 = HitShakeOver = 1
persistent = 0
value = 1060

[State 1060, 10]
type = HitVelSet
trigger1 = HitShakeOver = 1
persistent = 0
x = 1
y = 1;1

[State 1060, 11]
type = VelAdd
trigger1 = HitShakeOver = 1
y = 0.53;4

[State 1060, Explod]
type = Explod
triggerall = Anim = 1060
trigger1 = AnimElem = 10, >= 0
trigger1 = TimeMod = 5,0
sprpriority = 10
random = 70,80
pos = 10, 0
postype = p1
anim = F1

[State 1060, Explod]
type = Explod
triggerall = Anim = 1060
trigger1 = AnimElem = 8, >= 0
trigger1 = TimeMod = 4,0
sprpriority = 10
random = 100,100
pos = 0, 0
postype = p1
anim = F2

[State 1060, 12]
type = SelfState
triggerall = Anim = 1060
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100




















































;
[Statedef 3101]
Type     = A
MoveType = A
Physics  = N
sprpriority = 0
Ctrl     = 0
VelSet   = 0,0
Anim = 2400
facep2 = 1

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 2400
trigger2 = Anim != 2401
value = 2400

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 30
ignorehitpause = 1
persistent = 1

;**************************************************

[State 3101, Aj]
Type = ChangeAnim
Trigger1 = Time = 190
Value = 2401

;**************************************************


;**************************************************

[State 3101, ?]
Type = Helper
Trigger1 = (Anim = 2400) && (AnimElem = 5,>=0)
StateNo = 2023
ID = 2023
Name = "Laser"
Pos = 6,-73
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 8
Size.XScale = 2.5
Size.YScale = 2.7

[State 3101, ?]
Type = Helper
Trigger1 = (Anim = 2400) && (AnimElem = 5,>=0)
StateNo = 2023
ID = 2023
Name = "Laser"
Pos = 6,-73
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 8
Size.XScale = 2.4
Size.YScale = 2.7

[State 3101, ?]
Type = Helper
Trigger1 = (Anim = 2400) && (AnimElem = 5)
StateNo = 2022
ID = 2022
Name = "Mugennoshishou"
Pos = 6,-78
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
Size.XScale = 1.6
Size.YScale = 1.6

;**************************************************
[State 3101, ]
Type = PlaySnd
Trigger1 = (Anim = 2400) && (AnimElem = 5,>=0)
Value = s400,3
Persistent = 8

[State 3101, ]
Type = PlaySnd
Trigger1 = (Anim = 2400) && (AnimElem = 5)
channel = 9
Value = s500,8

;**************************************************
[State 3101, Xe?gX]
Type = ChangeState
Trigger1 = (Anim = 2401) && (AnimTime = 0)
Value = 30
Ctrl = 1









[Statedef 2022]
MoveType = A
Physics  = N
Anim     = 2028
SprPriority = 4

[State 2022, ]
Type = VarAdd
Trigger1 = ((Time < 10) || (Time > 145))
fvar(0) = IfElse(Time<10,.25,-.25)

[State 2022, ]
Type = VarSet
Trigger1 = (Time = [0,145])
fvar(0) = IfElse(Time=0,1,IfElse(Time=145,1,.5+Random/666.0))

[State 2022, ]
Type = VarSet
Trigger1 = Time = [0,145]
fvar(1) = 0
Persistent = 10

[State 2022, ]
Type = VarAdd
Trigger1 = 1
fvar(1) = .25

;**************************************************
[State 2022, x]
Type = Trans
Trigger1 = 1
Trans = Add

[State 2022, ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State 2022, ?tu]
Type = BindToRoot
Trigger1 = 1
Time = 1
Pos = 6,-63
IgnoreHitPause = 1

[State 2022, pxL]
Type = AngleDraw
Trigger1 = 1
Scale = fvar(0),fvar(0)

;**************************************************
[State 2022, GtFNg]
Type = Explod
Trigger1 = Time = [0,120]
Anim = 2029
ID = 2029
Pos = -3,0
Facing = IfElse(Facing=1,1,-1)
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10

;**************************************************
[State 2022, GtFNg?]
Type = ModifyExplod
Trigger1 = NumExplod(2029) > 0
ID = 2029
Scale = .1+fvar(1)/1.0,.1+fvar(1)/1.0

[State 2022, GtFNg]
Type = RemoveExplod
Trigger1 = NumExplod(2029) > 0
Trigger1 = (Root,MoveType = H)
ID = 2029
IgnoreHitPause = 1

[State 2022, GtFNg]
Type = RemoveExplod
Trigger1 = NumExplod(2044) > 0
ID = 2044
IgnoreHitPause = 1

;**************************************************
[State 2022, wp?]
Type = DestroySelf
Trigger1 = Time > 10
Trigger1 = fvar(0) <= 0
Trigger2 = (Root,MoveType = H)


;
;???
;
[Statedef 2023]
MoveType = A
Physics  = N
Anim     = IfElse(IsHelper(2023),2046,2047)
SprPriority = 5
[State 2023, ]
Type = VarAdd
Trigger1 = (Time = [1,6]) || (Time > 8)
fvar(0) = IfElse(Time<7,.05,-.05)

[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(1) = IfElse((P2Dist X<100),100,P2Dist X)+IfElse(Random<500,Random/9.99,-Random/9.99)

[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(2) = (Pos Y)*-1

[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(12) = ATan(fvar(1)/fvar(2))-(.5*Pi)

;**************************************************
[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(3) = -IfElse((-100*Sin(fvar(12)))>fvar(2),0,IfElse((-200*Sin(fvar(12)))>fvar(2),100,IfElse((-300*Sin(fvar(12)))>fvar(2),200,IfElse((-400*Sin(fvar(12)))>fvar(2),300,IfElse((-500*Sin(fvar(12)))>fvar(2),400,500)))))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(3) = -500))
fvar(3) = -IfElse((-600*Sin(fvar(12)))>fvar(2),500,IfElse((-700*Sin(fvar(12)))>fvar(2),600,IfElse((-800*Sin(fvar(12)))>fvar(2),700,IfElse((-900*Sin(fvar(12)))>fvar(2),800,IfElse((-1000*Sin(fvar(12)))>fvar(2),900,1000)))))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(3) > -1000))
fvar(4) = -IfElse(((fvar(3)-10)*Sin(fvar(12)))>fvar(2),0,IfElse(((fvar(3)-20)*Sin(fvar(12)))>fvar(2),10,20))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(4) = -20))
fvar(4) = -IfElse(((fvar(3)-30)*Sin(fvar(12)))>fvar(2),20,IfElse(((fvar(3)-40)*Sin(fvar(12)))>fvar(2),30,40))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(4) = -40))
fvar(4) = -IfElse(((fvar(3)-50)*Sin(fvar(12)))>fvar(2),40,IfElse(((fvar(3)-60)*Sin(fvar(12)))>fvar(2),50,60))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(4) = -60))
fvar(4) = -IfElse(((fvar(3)-70)*Sin(fvar(12)))>fvar(2),60,IfElse(((fvar(3)-80)*Sin(fvar(12)))>fvar(2),70,80))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(4) = -80))
fvar(4) = -IfElse(((fvar(3)-90)*Sin(fvar(12)))>fvar(2),80,90)

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(3) > -1000))
fvar(5) = -IfElse(((fvar(3)+fvar(4)-1)*Sin(fvar(12)))>fvar(2),0,IfElse(((fvar(3)+fvar(4)-2)*Sin(fvar(12)))>fvar(2),1,2))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(5) = -2))
fvar(5) = -IfElse(((fvar(3)+fvar(4)-3)*Sin(fvar(12)))>fvar(2),2,IfElse(((fvar(3)+fvar(4)-4)*Sin(fvar(12)))>fvar(2),3,4))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(5) = -4))
fvar(5) = -IfElse(((fvar(3)+fvar(4)-5)*Sin(fvar(12)))>fvar(2),4,IfElse(((fvar(3)+fvar(4)-6)*Sin(fvar(12)))>fvar(2),5,6))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(5) = -6))
fvar(5) = -IfElse(((fvar(3)+fvar(4)-7)*Sin(fvar(12)))>fvar(2),6,IfElse(((fvar(3)+fvar(4)-8)*Sin(fvar(12)))>fvar(2),7,8))

[State 2023, ]
Type = VarSet
Trigger1 = ((Time = 0) && (fvar(5) = -8))
fvar(5) = -IfElse(((fvar(3)+fvar(4)-9)*Sin(fvar(12)))>fvar(2),8,9)

[State 2023, ]
Type = VarSet
Trigger1 = (Time = 0)
fvar(6) = (fvar(3)+fvar(4)+fvar(5))

;**************************************************
[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(10) = fvar(6)*Cos(fvar(12))

[State 2023, ]
Type = VarSet
Trigger1 = Time = 0
fvar(11) = -fvar(6)*Sin(fvar(12))

;**************************************************
[State 2023, U]
Type = AttackMulSet
Trigger1 = 1
Value = 1+Root,fvar(39)/200.0

[State 2023, x]
Type = Trans
Trigger1 = 1
Trans = Add

[State 2023, ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

;**************************************************
[State 2023, px]
Type = AngleSet
Trigger1 = (fvar(10) != 0)
Value = ATan(fvar(11)/fvar(10))*(-180.0/Pi)+((fvar(10)<0)*180)

[State 2023, px]
Type = AngleSet
Trigger1 = (fvar(10) = 0)
Value = IfElse(fvar(11)<0,90,-90)

[State 2023, pxL]
Type = AngleDraw
Trigger1 = 1
Scale = fvar(6)*.004,.5-Time*.02

;**************************************************
;**************************************************
[State 2023, GtFNg?]
Type = ModifyExplod
Trigger1 = NumExplod(2049) > 0
ID = 2049
Scale = .25+fvar(0),IfElse(Time<6,.5,1.25)

[State 2023, GtFNg?]
Type = ModifyExplod
Trigger1 = NumExplod(2051) > 0
ID = 2051
Scale = .3+Time*.05,.125+Time*.0125

;**************************************************
[State 2023, ]
Type = Projectile
Trigger1 = Time = 29
trigger1 = P2StateNo != 100
trigger1 = P2StateNo != 105
trigger1 = P2StateNo != 101
trigger1 = P2StateNo != 1350
trigger1 = P2StateNo != 650
trigger1 = P2StateNo != 611
trigger1 = P2StateNo != 1301
trigger1 = P2StateNo != 1300
attr = A, HP
Damage            = 9,1
GetPower          = 0
AnimType          = Light
PauseTime         = 0,7
Guard.PauseTime   = 0,7
;-----------------------------------
Offset            = Ceil(fvar(1)),Floor(Pos Y)*-1
Velocity          = 0,0
ProjID            = 3000
ProjAnim          = 2050
ProjHitAnim       = -1
ProjRemanim       = -1
ProjHits          = 1
ProjMissTime      = 1
ProjScale         = .5,.5
ProjPriority      = 9999
ProjRemove        = 0
ProjRemoveTime    = 3
ProjHeightBound   = -1000,50
ProjEdgeBound     = 9999
ProjStageBound    = 9999
;-----------------------------------
HitFlag           = MAF
GuardFlag         = MA
SparkNo           = -1
GuardSparkNo      = s2051
SparkXY           = 0,-30
HitSound          = -1
GuardSound        = -1
Ground.Type       = High
Air.Type          = High
Ground.SlideTime  = 19
Ground.HitTime    = 19
Air.HitTime       = 19
Ground.Velocity   = -2.5,0
Guard.Velocity    = -4
Air.Velocity      = -1
palfx.time = 1
palfx.add = 0,0,0
palfx.sinadd = 100,100,100,10
palfx.color = 0
palfx.invertall = 1-2
AirGuard.Velocity = -1,-.0
Persistent = 1
ID = 2023
kill = 0

;**************************************************
[State 2023, wp?]
Type = DestroySelf
Trigger1 = Time > 29

;------  SEEt[QP1]  ------
[Statedef 3890]
type    = L
movetype= H
physics = S
anim = 3890
Sprpriority = -5
ctrl = 0

[State 800, 0]
type = PosSet
trigger1 = 1
y = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3890

[State 0, Die when win]
type = SelfState
trigger1 = Animtime = 0
value = 5100

;--------------------------------------------------
[Statedef 7360]
moveType = A
physics  = N
anim     = 7360
sprPriority = 100

[State 6520, AssertSpecial]
type     = AssertSpecial
trigger1 = 1
flag     = Noshadow
ignoreHitPause = 1

[State 6520, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 1

;----------px
[State 6520, Trans]
type     = Trans
trigger1 = 1
trans    = Add

[State 6520 PalFx]
type     = PalFx
trigger1 = Time = [0,10]
time     = 1
add      = 0, 0, 0
mul      = Time*25, Time*25, Time*25

[State 6520, PalFx]
type     = PalFx
trigger1 = Time = [11,50]
time     = 1
add      = 0, 0, 0
mul      = 250-(Time-10)*10.2, 250-(Time-10)*10.2, 250-(Time-10)*10.2

[State 6520, PalFx]
type     = PalFx
trigger1 = Time >= 51
time     = 1
add      = 0, 0, 0
mul      = 0, 0, 0

[State 6520, AngleSet]
type     = AngleSet
trigger1 = Time = 0
value    = -0

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time = [0,10]
scale    = Time*0.1, Time*0.05

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time = [11,50]
scale    = 1.0 + Time*0.005, 0.5 + Time*0.0025

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time >= 35
scale    = 0, 0


;----------
[State 6520 DestroySelf]
type     = DestroySelf
trigger1 = Time >= 35

;--------------------------------------------------
[Statedef 7361]
moveType = A
physics  = N
anim     = 7360
sprPriority = 100

[State 6520, AssertSpecial]
type     = AssertSpecial
trigger1 = 1
flag     = Noshadow
ignoreHitPause = 1

[State 6520, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 1


;----------px
[State 6520, Trans]
type     = Trans
trigger1 = 1
trans    = Add

[State 6520 PalFx]
type     = PalFx
trigger1 = Time = [0,10]
time     = 1
add      = 0, 0, 0
mul      = Time*25, Time*25, Time*25

[State 6520, PalFx]
type     = PalFx
trigger1 = Time = [0,50]
time     = 1
add      = 0, 0, 0
mul      = 250-(Time-10)*10.2, 250-(Time-10)*10.2, 250-(Time-10)*10.2

[State 6520, PalFx]
type     = PalFx
trigger1 = Time >= 51
time     = 1
add      = 0, 0, 0
mul      = 0, 0, 0

[State 6520, AngleSet]
type     = AngleSet
trigger1 = Time = 0
value    = -90

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time = [0,10]
scale    = Time*0.1, Time*0.05

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time = [11,50]
scale    = 1.0 + Time*0.005, 0.5 + Time*0.0025

[State 6520, AngleDraw]
type     = AngleDraw
trigger1 = Time >= 55
scale    = 0, 0


;----------
[State 6520 DestroySelf]
type     = DestroySelf
trigger1 = Time >= 55

;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 7400]
type    = A
movetype= A
physics = N
velset = 0,0
sprpriority = -2
ctrl = 0
facep2 = 1

[State 800, EnvShake]
type = EnvShake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 14
trigger3 = AnimElem = 23
time = 10
freq = 100
ampl = -5
phase = 5

[State 290, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 14
trigger3 = AnimElem = 23
value = 500, 10

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 7400
value = 7400

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
triggerall = Var(15) > 0
trigger1 = AnimElemTime(AnimElemNo(0) + 1) < 0
trigger1 = Var(15) = AnimElemNo(0)
value = Anim
elem = AnimElemNo(0) + 1

[State 290, 2]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = p2movetype != H
trigger1 = Time > 20
attr = A, SA
damage = 45, 10
animtype = Heavy
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2
sparkxy = -10, -40
hitsound = S500,6
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -11,-6
airguard.velocity = -11,-6
air.type = Low
air.velocity = -11,-6
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 5
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
fall = 1
kill = 0

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 14
trigger3 = AnimElem = 23
x = 22

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 9
trigger2 = AnimElem = 18
trigger3 = AnimElem = 27
x = 0

[State 290, 5]
type = ChangeState
Trigger1 = AnimTime = 0
value = 30
Ctrl = 1





;---------------------------------------------------------------------------
; Rocket Punch
[Statedef 7505]
type    = A
movetype= A
physics = N
velset = 0,0
sprpriority = -2
ctrl = 0
facep2 = 1

[State 800, 1]
type = ChangeAnim
trigger1 = Anim != 7505
value = 7505

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 800, 1]
type = AngleSet
trigger1 = AnimElem = 4
value = -90

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = -5
y = 1

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 4
x = 70

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 5
x = 10

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 6
x = 3

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
x = 3

[State 800, 1]
type = AngleSet
trigger1 = AnimElem = 5
value = -45

[State 280, AngleAdd]
type = AngleAdd
trigger1 = AnimElem = 5, > 0
trigger1 = AnimElem = 6, < 2
value = 25

[State 800, 1]
type = AngleSet
trigger1 = AnimElem = 6
value = 0

[State 290, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 12

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 30
ignorehitpause = 1
persistent = 1

[State 290, 2]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Time = 0
attr = A, SA
damage = 100, 10
animtype = Heavy
guardflag = 
hitflag = MAF
sprpriority = -2
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -30
hitsound = S500,13
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 6,-24
airguard.velocity = 6,-24
air.type = Low
air.velocity = 6,-24
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
fall = 1
kill = 0

[State 290, 5]
type = ChangeState
Trigger1 = AnimTime = 0
value = 30
Ctrl = 1










;------------------------------------;
[Statedef 2455]
type    = A
movetype = H
physics = N
ctrl = 0
velset=6,-12
facep2 = 1

[State 1000, ChangeState]
type = veladd
trigger1 = 1
y = 0.60

[State 1000, ChangeState]
type = changeanim2
trigger1 = time > 0
value = 2455


[State 1000, ChangeState]
type = angleadd
trigger1 = 1
value = 24

[State 1000, ChangeState]
type = angledraw
trigger1 = 1

[State 1000, ChangeState]
type = selfState
trigger1 = pos y >= 2
value = 5100

[State 1000, ChangeState]
type = selfState
trigger1 = AnimTime = 0
value = 5100





;------------------------------------;
[Statedef 2456]
type    = A
movetype = H
physics = N
ctrl = 0
velset=4,-16
facep2 = 1

[State 1000, ChangeState]
type = veladd
trigger1 = 1
y = 0.60

[State 1000, ChangeState]
type = changeanim2
trigger1 = time > 0
value = 2455


[State 1000, ChangeState]
type = angleadd
trigger1 = 1
value = 24

[State 1000, ChangeState]
type = angledraw
trigger1 = 1

[State 1000, ChangeState]
type = selfState
trigger1 = pos y >= 2
value = 5100

[State 1000, ChangeState]
type = selfState
trigger1 = AnimTime = 0
value = 5100

;------------------------------------;
[Statedef 2457]
type    = A
movetype = H
physics = N
ctrl = 0
velset=4,-26
facep2 = 1

[State 1000, ChangeState]
type = veladd
trigger1 = 1
y = 0.95

[State 1000, ChangeState]
type = changeanim2
trigger1 = time > 0
value = 2455


[State 1000, ChangeState]
type = angleadd
trigger1 = 1
value = 24

[State 1000, ChangeState]
type = angledraw
trigger1 = 1

[State 1000, ChangeState]
type = selfState
trigger1 = pos y >= 2
value = 5100

[State 1000, ChangeState]
type = selfState
trigger1 = AnimTime = 0
value = 5100





;---------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 2004]
type = S
movetype = H
physics = N
velset = 0,0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 8
y = 1.0

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2002

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 2004

;---------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 2002]
type = L
movetype = H
physics = N
velset = 0,0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 2,0
time = 1
add = 250,0,0

[State 191, Snd 1]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 2002

[State 0, Die when win]
type = SelfState
trigger1 = Time = 350
trigger2 = Command = "recovery"
trigger2 = random = [801,999]
trigger3 = Command = "a" 
trigger3 = random = [801,999]
trigger4 = Command = "b"
trigger4 = random = [801,999]
trigger5 = random = [801,999]
trigger5 = Command = "c" 
trigger6 = random = [801,999]
trigger6 = Command = "x"
trigger7 = random = [801,999]
trigger7 = Command = "y"
trigger8 = random = [801,999]
trigger8 = Command = "z"
value = 50

[State 1320, State]
type = Selfstate
trigger1 = Time = 300
value = 5080
ctrl = 0

;---------------------------------------------------------------------------
;
[Statedef 2500]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = 20
sprpriority = -2
ctrl = 0

[State 290, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = 500, 13
channel = 2

[State 290, 2]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 10, 10
animtype = Heavy
guardflag = 
hitflag = MAFLD
sprpriority = -2
pausetime = 0, 1
sparkno = 2
sparkxy = 0, -30
hitsound = S500,13
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-1
airguard.velocity = 1,-1
air.type = Low
air.velocity = 1,-1
air.hittime = 20
fall.recover = 0
p2facing = 1
p2stateno = 2004
palfx.time = 15
palfx.add = 1,1,1
palfx.mul = 224,256,256
palfx.sinadd = 75,100,100,4
palfx.color = 30
palfx.invertall = 1
kill = 0

[State 290, 2]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = A, SA
damage = 10, 10
animtype = Heavy
guardflag = 
hitflag = MAFLD
sprpriority = -2
pausetime = 0, 1
sparkno = 1
sparkxy = 0, -30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10,-5
airguard.velocity = -10,-5
air.type = Low
air.velocity = -10,-5
air.hittime = 20
fall.recover = 0
air.fall = 1
fall = 1
palfx.time = 15
palfx.add = 1,1,1
palfx.mul = 224,256,256
palfx.sinadd = 75,100,100,4
palfx.color = 30
palfx.invertall = 1
kill = 0

[State 290, 2]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
trigger5 = AnimElem = 18
attr = A, SA
damage = 10, 10
animtype = Heavy
guardflag = 
hitflag = MAFLD
sprpriority = 2
pausetime = 0, 1
sparkno = 2
sparkxy = 0, -30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 5,-5
airguard.velocity = 5,-5
air.type = Low
air.velocity = 5,-5
air.hittime = 20
fall.recover = 0
air.fall = 1
fall = 1
envshake.time = 10
envshake.freq = 100
envshake.ampl = 5
envshake.phase = 100
palfx.time = 15
palfx.add = 1,1,1
palfx.mul = 224,256,256
palfx.sinadd = 75,100,100,4
palfx.color = 30
palfx.invertall = 1
kill = 0

[State 300, 2]
type = Turn
trigger1 = Time = 0
Trigger1 = Facing = -1

[State 290, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
trigger5 = AnimElem = 18
value = 100, 8
channel = 2

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
x = 35

[State 290, 1]
type = PosSet
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
trigger5 = AnimElem = 18
x = 0
y = -20

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
trigger5 = AnimElem = 18
x = 0

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
trigger3 = AnimElem = 13
trigger4 = AnimElem = 16
x = -35

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 19
x = -13
y = -7

[State 200, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 200, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 200, Anim]
type = ChangeAnim
trigger1 = Anim != 2500
value = 2500

[State 300, 1]
type = VelSet
trigger1 = Var(20) <= 1
x = -BackEdgeDist/15
y = -Pos Y/Floor(15)

[State 300, 1]
type = VelSet
trigger1 = Var(20) = 20
x = 4
y = -1

[State 800, 1]
type = AngleSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
value = 55

[State 800, 1]
type = AngleSet
trigger1 = AnimElem = 6
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
trigger5 = AnimElem = 18
value = 0

[State 800, 1]
type = AngleDraw
trigger1 = 1

[State 300, 1]
type = VelSet
trigger1 = Var(20) = 40
x = 0
y = 0

[State 290, 1]
type = VelSet
trigger1 = AnimElem = 4
x = -4

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 804
ctrl = 1

[State -1, Attack]
type = ChangeState
triggerall = Partner,StateNo != 2500
triggerall = Partner,StateNo != 802
trigger1 = P3Name = "Crazy Hand"
trigger1 = Var(20) > 10
trigger2 = partner, life = 0
value = 0
ctrl = 1










;---------------------------------------------------------------------------
;
[Statedef 1650]
type = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 1650
value = 1650

[State 30, 6]
type = VelSet
Trigger1 = Time = 0
x = -8

[State 30, 6]
type = VelSet
Trigger1 = Time = 0
y = -7

[State 30, 6]
type = Veladd
Trigger1 = 1
y = .4

[State 1000, 0]
type = AngleDraw
trigger1 = Time >= 0

[State 1000, 0]
type = Angleadd
trigger1 = Time >= 0
value = -30

[State 1000, 0]
type = AngleSet
trigger1 = Pos Y > 0
value = 0

[State 174, ChangeState]
type = ChangeState
trigger1 = Pos Y > 0
value = 1651


[Statedef 1651]
type    = A
movetype= A
physics = N
ctrl = 0
sprpriority = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time <= 0
value = 100, 10
channel = 0

[State -2,a]
type = Explod
trigger1 = Time <= 0
anim = F65
pos = 15,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State 850, EnvShake]
type = EnvShake
trigger1 = Time <= 0
time = 5
freq = 100
ampl = -5
phase = 10

[State 1000, 0]
type = AngleSet
trigger1 = 1
value = 0

[State 200, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 200, VelSet]
type = VelSet
trigger1 = Var(20) <= 0
x = 0
y = 0

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 1651
value = 1651

[State -2,a]
type = Explod
trigger1 = animelem = 8
anim = F65
pos = 15,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.6

[State -2,a]
type = Explod
trigger1 = animelem = 4
anim = F65
pos = 15,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State 850, EnvShake]
type = EnvShake
trigger1 = Anim = 1651
trigger1 = animelem = 8
trigger2 = Anim = 1651
trigger2 = AnimElem = 4
time = 5
freq = 100
ampl = -5
phase = 10

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 0, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 0, 0
sparkno = -1
sparkxy = -10, -31  
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,0
airguard.velocity = 01,0
guard.velocity = -10
air.type = High
air.velocity = -0,0
air.hittime = 12
yaccel  =0.5
kill = 0

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
trigger2 = MoveReversed = 1
value = 1652
ctrl = 0

[State 1313, 2]
type = VelSet
trigger1 = Time > 0
x = 3

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 4
value = 100, 10
channel = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 200, 7]
type = ChangeState
trigger1 = Var(20) = 130
value = 30
ctrl = 1






[Statedef 1652]
type    = A
movetype= A
physics = N
juggle  = 1
sprpriority = 2
ctrl = 0

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 850, EnvShake]
type = EnvShake
trigger1 = Anim = 1652
trigger1 = AnimElem = 4
time = 10
freq = 100
ampl = -5
phase = 10

[State 200, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger1 = PrevStateNo != 35
var(20) = 0

[State 200, Anim]
type = ChangeAnim
triggerall = Time <= 0
trigger1 = Anim != 1652
value = 1652

[State 280, VelSet]
type = VelSet
triggerall = Anim = 1652
trigger1 = AnimElem = 1
x = 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 12
channel = 0

[State 280, HitDef]
type = HitDef
triggerall = P2StateNo != 255
triggerall = P2StateNo != 105
triggerall = P2StateNo != 650
triggerall = P2StateNo != 1350
trigger1 = Anim = 1652
trigger1 = Var(20) = 0
attr = A, SA
damage = 100, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -30
hitsound = S1,5
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -12,-24
airguard.velocity = -12.5,-24
air.type = Low
air.velocity = -5,-24
air.hittime = 20
fall.recover = 0
air.fall = 1
envshake.time = 4
envshake.freq = 100
envshake.ampl = 6
envshake.phase = 100
fall = 1

[State 200, 7]
type = ChangeState
trigger1 = Var(20) = 25
value = 30
ctrl = 1





